(self.webpackChunkangular_github_page=self.webpackChunkangular_github_page||[]).push([[179],{586:(Qt,$t,wt)=>{"use strict";function ht(n){return"function"==typeof n}function ni(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ft=ni(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Be(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const a of t)a.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ht(i))try{i()}catch(a){e=a instanceof ft?a.errors:[a]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const a of r)try{tt(a)}catch(o){e=e??[],o instanceof ft?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ft(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tt(e);else{if(e instanceof ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Be(t,e)}remove(e){const{_finalizers:t}=this;t&&Be(t,e),e instanceof ut&&e._removeParent(this)}}ut.EMPTY=(()=>{const n=new ut;return n.closed=!0,n})();const At=ut.EMPTY;function Rt(n){return n instanceof ut||n&&"closed"in n&&ht(n.remove)&&ht(n.add)&&ht(n.unsubscribe)}function tt(n){ht(n)?n():n.unsubscribe()}const _e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(n,e,...t){const{delegate:i}=ce;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ce;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function H(n){ce.setTimeout(()=>{const{onUnhandledError:e}=_e;if(!e)throw n;e(n)})}function j(){}const Q=Ce("C",void 0,void 0);function Ce(n,e,t){return{kind:n,value:e,error:t}}let ke=null;function st(n){if(_e.useDeprecatedSynchronousErrorHandling){const e=!ke;if(e&&(ke={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ke;if(ke=null,t)throw i}}else n()}class yn extends ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rt(e)&&e.add(this)):this.destination=ji}static create(e,t,i){return new bt(e,t,i)}next(e){this.isStopped?bi(function de(n){return Ce("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bi(function se(n){return Ce("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bi(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hn=Function.prototype.bind;function Sn(n,e){return hn.call(n,e)}class ki{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){vt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){vt(i)}else vt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vt(t)}}}class bt extends yn{constructor(e,t,i){let r;if(super(),ht(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let a;this&&_e.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Sn(e.next,a),error:e.error&&Sn(e.error,a),complete:e.complete&&Sn(e.complete,a)}):r=e}this.destination=new ki(r)}}function vt(n){_e.useDeprecatedSynchronousErrorHandling?function Hn(n){_e.useDeprecatedSynchronousErrorHandling&&ke&&(ke.errorThrown=!0,ke.error=n)}(n):H(n)}function bi(n,e){const{onStoppedNotification:t}=_e;t&&ce.setTimeout(()=>t(n,e))}const ji={closed:!0,next:j,error:function Hi(n){throw n},complete:j},er="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ln(n){return n}function Hs(n){return 0===n.length?Ln:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Tn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const a=function Dg(n){return n&&n instanceof yn||function Pf(n){return n&&ht(n.next)&&ht(n.error)&&ht(n.complete)}(n)&&Rt(n)}(t)?t:new bt(t,i,r);return st(()=>{const{operator:o,source:s}=this;a.add(o?o.call(a,s):s?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=nd(i))((r,a)=>{const o=new bt({next:s=>{try{t(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[er](){return this}pipe(...t){return Hs(t)(this)}toPromise(t){return new(t=nd(t))((i,r)=>{let a;this.subscribe(o=>a=o,o=>r(o),()=>i(a))})}}return n.create=e=>new n(e),n})();function nd(n){var e;return null!==(e=n??_e.Promise)&&void 0!==e?e:Promise}const Ag=ni(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fn=(()=>{class n extends Tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Lf(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Ag}next(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:a}=this;return i||r?At:(this.currentObservers=null,a.push(t),new ut(()=>{this.currentObservers=null,Be(a,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:a}=this;i?t.error(r):a&&t.complete()}asObservable(){const t=new Tn;return t.source=this,t}}return n.create=(e,t)=>new Lf(e,t),n})();class Lf extends fn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:At}}function Tg(n){return ht(n?.lift)}function Li(n){return e=>{if(Tg(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ei(n,e,t,i,r){return new ax(n,e,t,i,r)}class ax extends yn{constructor(e,t,i,r,a,o){super(e),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=t?function(s){try{t(s)}catch(l){e.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ut(n,e){return Li((t,i)=>{let r=0;t.subscribe(Ei(i,a=>{i.next(n.call(e,a,r++))}))})}function fs(n){return this instanceof fs?(this.v=n,this):new fs(n)}function Rg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(m,p){a.push([h,f,m,p])>1||s(h,f)})})}function s(h,f){try{!function l(h){h.value instanceof fs?Promise.resolve(h.value.v).then(c,u):d(a[0][2],h)}(i[h](f))}catch(m){d(a[0][3],m)}}function c(h){s("next",h)}function u(h){s("throw",h)}function d(h,f){h(f),a.shift(),a.length&&s(a[0][0],a[0][1])}}function dx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function kg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(o){return new Promise(function(s,l){!function r(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}(s,l,(o=n[a](o)).done,o.value)})}}}const Ye=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ke(n){return ht(n?.then)}function lt(n){return ht(n[er])}function qe(n){return Symbol.asyncIterator&&ht(n?.[Symbol.asyncIterator])}function nt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const on=function Ot(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mt(n){return ht(n?.[on])}function Ir(n){return Rg(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield fs(t.read());if(r)return yield fs(void 0);yield yield fs(i)}}finally{t.releaseLock()}})}function sr(n){return ht(n?.getReader)}function ii(n){if(n instanceof Tn)return n;if(null!=n){if(lt(n))return function tr(n){return new Tn(e=>{const t=n[er]();if(ht(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ye(n))return function Qr(n){return new Tn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ke(n))return function lr(n){return new Tn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,H)})}(n);if(qe(n))return Fr(n);if(mt(n))return function Fa(n){return new Tn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(sr(n))return function Br(n){return Fr(Ir(n))}(n)}throw nt(n)}function Fr(n){return new Tn(e=>{(function qs(n,e){var t,i,r,a;return function Ig(n,e,t,i){return new(t||(t=Promise))(function(a,o){function s(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):function r(a){return a instanceof t?a:new t(function(o){o(a)})}(u.value).then(s,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=dx(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(a=t.return)&&(yield a.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Bi(n,e,t,i=0,r=!1){const a=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(a),!r)return a}function Gi(n,e,t=1/0){return ht(e)?Gi((i,r)=>Ut((a,o)=>e(i,a,r,o))(ii(n(i,r))),t):("number"==typeof e&&(t=e),Li((i,r)=>function Ws(n,e,t,i,r,a,o,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=p=>c<i?m(p):l.push(p),m=p=>{a&&e.next(p),c++;let g=!1;ii(t(p,u++)).subscribe(Ei(e,_=>{r?.(_),a?f(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const _=l.shift();o?Bi(e,o,()=>m(_)):m(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(Ei(e,f,()=>{d=!0,h()})),()=>{s?.()}}(i,r,n,t)))}function po(n=1/0){return Gi(Ln,n)}const qa=new Tn(n=>n.complete());function Og(n){return n&&ht(n.schedule)}function zf(n){return n[n.length-1]}function Pg(n){return ht(zf(n))?n.pop():void 0}function Rc(n){return Og(zf(n))?n.pop():void 0}function Lg(n,e=0){return Li((t,i)=>{t.subscribe(Ei(i,r=>Bi(i,n,()=>i.next(r),e),()=>Bi(i,n,()=>i.complete(),e),r=>Bi(i,n,()=>i.error(r),e)))})}function ql(n,e=0){return Li((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Bg(n,e){if(!n)throw new Error("Iterable cannot be null");return new Tn(t=>{Bi(t,e,()=>{const i=n[Symbol.asyncIterator]();Bi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Xi(n,e){return e?function xx(n,e){if(null!=n){if(lt(n))return function gx(n,e){return ii(n).pipe(ql(e),Lg(e))}(n,e);if(Ye(n))return function _x(n,e){return new Tn(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ke(n))return function vx(n,e){return ii(n).pipe(ql(e),Lg(e))}(n,e);if(qe(n))return Bg(n,e);if(mt(n))return function yx(n,e){return new Tn(t=>{let i;return Bi(t,e,()=>{i=n[on](),Bi(t,e,()=>{let r,a;try{({value:r,done:a}=i.next())}catch(o){return void t.error(o)}a?t.complete():t.next(r)},0,!0)}),()=>ht(i?.return)&&i.return()})}(n,e);if(sr(n))return function bx(n,e){return Bg(Ir(n),e)}(n,e)}throw nt(n)}(n,e):ii(n)}function Oc(...n){const e=Rc(n),t=function px(n,e){return"number"==typeof zf(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ii(i[0]):po(t)(Xi(i,e)):qa}function zg(n={}){const{connector:e=(()=>new fn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return a=>{let o,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},f=()=>{h(),o=l=void 0,u=d=!1},m=()=>{const p=o;f(),p?.unsubscribe()};return Li((p,g)=>{c++,!d&&!u&&h();const _=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(s=Uf(m,r))}),_.subscribe(g),!o&&c>0&&(o=new bt({next:w=>_.next(w),error:w=>{d=!0,h(),s=Uf(f,t,w),_.error(w)},complete:()=>{u=!0,h(),s=Uf(f,i),_.complete()}}),ii(p).subscribe(o))})(a)}}function Uf(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new bt({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function hi(n){for(let e in n)if(n[e]===hi)return e;throw Error("Could not find renamed property on target object.")}function Vf(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Hf(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const wx=hi({__forward_ref__:hi});function Zn(n){return n.__forward_ref__=Zn,n.toString=function(){return fi(this())},n}function Ft(n){return zr(n)?n():n}function zr(n){return"function"==typeof n&&n.hasOwnProperty(wx)&&n.__forward_ref__===Zn}function nr(n){return n&&!!n.\u0275providers}const id="https://g.co/ng/security#xss";class Re extends Error{constructor(e,t){super(function $s(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function jt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ug(n,e){throw new Re(-201,!1)}function go(n,e){null==n&&function li(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function pt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vg(n){return bA(n,Hg)||bA(n,wA)}function bA(n,e){return n.hasOwnProperty(e)?n[e]:null}function xA(n){return n&&(n.hasOwnProperty(Sx)||n.hasOwnProperty(m7))?n[Sx]:null}const Hg=hi({\u0275prov:hi}),Sx=hi({\u0275inj:hi}),wA=hi({ngInjectableDef:hi}),m7=hi({ngInjectorDef:hi});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let Cx;function vo(n){const e=Cx;return Cx=n,e}function MA(n,e,t){const i=Vg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Vt.Optional?null:void 0!==e?e:void Ug(fi(n))}const Di=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gf={},Ex="__NG_DI_FLAG__",Gg="ngTempTokenPath",v7=/\n/gm,SA="__source";let qf;function rd(n){const e=qf;return qf=n,e}function y7(n,e=Vt.Default){if(void 0===qf)throw new Re(-203,!1);return null===qf?MA(n,void 0,e):qf.get(n,e&Vt.Optional?null:void 0,e)}function Oe(n,e=Vt.Default){return(function p7(){return Cx}()||y7)(Ft(n),e)}function mn(n,e=Vt.Default){return Oe(n,qg(e))}function qg(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dx(n){const e=[];for(let t=0;t<n.length;t++){const i=Ft(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Re(900,!1);let r,a=Vt.Default;for(let o=0;o<i.length;o++){const s=i[o],l=b7(s);"number"==typeof l?-1===l?r=s.token:a|=l:r=s}e.push(Oe(r,a))}else e.push(Oe(i))}return e}function Wf(n,e){return n[Ex]=e,n.prototype[Ex]=e,n}function b7(n){return n[Ex]}function jl(n){return{toString:n}.toString()}var Go=(()=>((Go=Go||{})[Go.OnPush=0]="OnPush",Go[Go.Default=1]="Default",Go))(),qo=(()=>{return(n=qo||(qo={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qo;var n})();const js={},ri=[],Wg=hi({\u0275cmp:hi}),Ax=hi({\u0275dir:hi}),Tx=hi({\u0275pipe:hi}),EA=hi({\u0275mod:hi}),Xs=hi({\u0275fac:hi}),$f=hi({__NG_ELEMENT_ID__:hi});let M7=0;function mi(n){return jl(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Go.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ri,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||qo.Emulated,id:"c"+M7++,styles:n.styles||ri,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=n.dependencies,o=n.features;return r.inputs=TA(n.inputs,i),r.outputs=TA(n.outputs),o&&o.forEach(s=>s(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(DA).filter(AA):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(ma).filter(AA):null,r})}function DA(n){return ci(n)||Jr(n)}function AA(n){return null!==n}function Cn(n){return jl(()=>({type:n.type,bootstrap:n.bootstrap||ri,declarations:n.declarations||ri,imports:n.imports||ri,exports:n.exports||ri,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function TA(n,e){if(null==n)return js;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),t[r]=i,e&&(e[r]=a)}return t}const at=mi;function ci(n){return n[Wg]||null}function Jr(n){return n[Ax]||null}function ma(n){return n[Tx]||null}function $a(n,e){const t=n[EA]||null;if(!t&&!0===e)throw new Error(`Type ${fi(n)} does not have '\u0275mod' property.`);return t}function ja(n){return Array.isArray(n)&&"object"==typeof n[1]}function $o(n){return Array.isArray(n)&&!0===n[1]}function Fx(n){return 0!=(4&n.flags)}function Zf(n){return n.componentOffset>-1}function Zg(n){return 1==(1&n.flags)}function jo(n){return null!==n.template}function E7(n){return 0!=(256&n[2])}function Lc(n,e){return n.hasOwnProperty(Xs)?n[Xs]:null}class T7{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function na(){return OA}function OA(n){return n.type.prototype.ngOnChanges&&(n.setInput=I7),N7}function N7(){const n=LA(this),e=n?.current;if(e){const t=n.previous;if(t===js)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function I7(n,e,t,i){const r=this.declaredInputs[t],a=LA(n)||function F7(n,e){return n[PA]=e}(n,{previous:js,current:null}),o=a.current||(a.current={}),s=a.previous,l=s[r];o[r]=new T7(l&&l.currentValue,e,s===js),n[i]=e}na.ngInherit=!0;const PA="__ngSimpleChanges__";function LA(n){return n[PA]||null}function Ur(n){for(;Array.isArray(n);)n=n[0];return n}function Kg(n,e){return Ur(e[n])}function Xa(n,e){return Ur(e[n.index])}function UA(n,e){return n.data[e]}function Ya(n,e){const t=e[n];return ja(t)?t:t[0]}function Qg(n){return 64==(64&n[2])}function Xl(n,e){return null==e?null:n[e]}function VA(n){n[18]=0}function Rx(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const Jt={lFrame:JA(null),bindingsEnabled:!0};function GA(){return Jt.bindingsEnabled}function We(){return Jt.lFrame.lView}function Gn(){return Jt.lFrame.tView}function Vr(){let n=$A();for(;null!==n&&64===n.type;)n=n.parent;return n}function $A(){return Jt.lFrame.currentTNode}function ps(n,e){const t=Jt.lFrame;t.currentTNode=n,t.isParent=e}function Ox(){return Jt.lFrame.isParent}function Px(){Jt.lFrame.isParent=!1}function dd(){return Jt.lFrame.bindingIndex++}function W7(n,e){const t=Jt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lx(e)}function Lx(n){Jt.lFrame.currentDirectiveIndex=n}function ZA(){return Jt.lFrame.currentQueryIndex}function zx(n){Jt.lFrame.currentQueryIndex=n}function j7(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function KA(n,e,t){if(t&Vt.SkipSelf){let r=e,a=n;for(;!(r=r.parent,null!==r||t&Vt.Host||(r=j7(a),null===r||(a=a[15],10&r.type))););if(null===r)return!1;e=r,n=a}const i=Jt.lFrame=QA();return i.currentTNode=e,i.lView=n,!0}function Ux(n){const e=QA(),t=n[1];Jt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function QA(){const n=Jt.lFrame,e=null===n?null:n.child;return null===e?JA(n):e}function JA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eT(){const n=Jt.lFrame;return Jt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tT=eT;function Vx(){const n=eT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function va(){return Jt.lFrame.selectedIndex}function Bc(n){Jt.lFrame.selectedIndex=n}function qi(){const n=Jt.lFrame;return UA(n.tView,n.selectedIndex)}function tv(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const a=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=a;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),s&&((n.contentHooks||(n.contentHooks=[])).push(t,s),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,s)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function nv(n,e,t){nT(n,e,3,t)}function iv(n,e,t,i){(3&n[2])===t&&nT(n,e,t,i)}function Hx(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function nT(n,e,t,i){const a=i??-1,o=e.length-1;let s=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(s=e[l],null!=i&&s>=i)break}else e[l]<0&&(n[18]+=65536),(s<a||-1==a)&&(eG(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function eG(n,e,t,i){const r=t[i]<0,a=t[i+1],s=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}class Qf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function qx(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const a=t[i++],o=t[i++],s=t[i++];n.setAttribute(e,o,s,a)}else{const a=r,o=t[++i];rT(a)?n.setProperty(e,a,o):n.setAttribute(e,a,o),i++}}return i}function iT(n){return 3===n||4===n||6===n}function rT(n){return 64===n.charCodeAt(0)}function Jf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||aT(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function aT(n,e,t,i,r){let a=0,o=n.length;if(-1===e)o=-1;else for(;a<n.length;){const s=n[a++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=a-1;break}}}for(;a<n.length;){const s=n[a];if("number"==typeof s)break;if(s===t){if(null===i)return void(null!==r&&(n[a+1]=r));if(i===n[a+1])return void(n[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(n.splice(o,0,e),a=o+1),n.splice(a++,0,t),null!==i&&n.splice(a++,0,i),null!==r&&n.splice(a++,0,r)}function oT(n){return-1!==n}function rv(n){return 32767&n}function av(n,e){let t=function rG(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Wx=!0;function ov(n){const e=Wx;return Wx=n,e}let aG=0;const gs={};function sv(n,e){const t=cT(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,$x(i.data,n),$x(e,null),$x(i.blueprint,null));const r=jx(n,e),a=n.injectorIndex;if(oT(r)){const o=rv(r),s=av(r,e),l=s[1].data;for(let c=0;c<8;c++)e[a+c]=s[o+c]|l[o+c]}return e[a+8]=r,a}function $x(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function jx(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=gT(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Xx(n,e,t){!function oG(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty($f)&&(i=t[$f]),null==i&&(i=t[$f]=aG++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function uT(n,e,t){if(t&Vt.Optional||void 0!==n)return n;Ug()}function dT(n,e,t,i){if(t&Vt.Optional&&void 0===i&&(i=null),0==(t&(Vt.Self|Vt.Host))){const r=n[9],a=vo(void 0);try{return r?r.get(e,i,t&Vt.Optional):MA(e,i,t&Vt.Optional)}finally{vo(a)}}return uT(i,0,t)}function hT(n,e,t,i=Vt.Default,r){if(null!==n){if(1024&e[2]){const o=function dG(n,e,t,i,r){let a=n,o=e;for(;null!==a&&null!==o&&1024&o[2]&&!(256&o[2]);){const s=fT(a,o,t,i|Vt.Self,gs);if(s!==gs)return s;let l=a.parent;if(!l){const c=o[21];if(c){const u=c.get(t,gs,i);if(u!==gs)return u}l=gT(o),o=o[15]}a=l}return r}(n,e,t,i,gs);if(o!==gs)return o}const a=fT(n,e,t,i,gs);if(a!==gs)return a}return dT(e,t,i,r)}function fT(n,e,t,i,r){const a=function cG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty($f)?n[$f]:void 0;return"number"==typeof e?e>=0?255&e:uG:e}(t);if("function"==typeof a){if(!KA(e,n,i))return i&Vt.Host?uT(r,0,i):dT(e,t,i,r);try{const o=a(i);if(null!=o||i&Vt.Optional)return o;Ug()}finally{tT()}}else if("number"==typeof a){let o=null,s=cT(n,e),l=-1,c=i&Vt.Host?e[16][6]:null;for((-1===s||i&Vt.SkipSelf)&&(l=-1===s?jx(n,e):e[s+8],-1!==l&&pT(i,!1)?(o=e[1],s=rv(l),e=av(l,e)):s=-1);-1!==s;){const u=e[1];if(mT(a,s,u.data)){const d=lG(s,e,t,o,i,c);if(d!==gs)return d}l=e[s+8],-1!==l&&pT(i,e[1].data[s+8]===c)&&mT(a,s,e)?(o=u,s=rv(l),e=av(l,e)):s=-1}}return r}function lG(n,e,t,i,r,a){const o=e[1],s=o.data[n+8],u=lv(s,o,t,null==i?Zf(s)&&Wx:i!=o&&0!=(3&s.type),r&Vt.Host&&a===s);return null!==u?zc(e,o,u,s):gs}function lv(n,e,t,i,r){const a=n.providerIndexes,o=e.data,s=1048575&a,l=n.directiveStart,u=a>>20,h=r?s+u:n.directiveEnd;for(let f=i?s:s+u;f<h;f++){const m=o[f];if(f<l&&t===m||f>=l&&m.type===t)return f}if(r){const f=o[l];if(f&&jo(f)&&f.type===t)return l}return null}function zc(n,e,t,i){let r=n[t];const a=e.data;if(function tG(n){return n instanceof Qf}(r)){const o=r;o.resolving&&function Wl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Kn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():jt(n)}(a[t]));const s=ov(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?vo(o.injectImpl):null;KA(n,i,Vt.Default);try{r=n[t]=o.factory(void 0,a,n,i),e.firstCreatePass&&t>=i.directiveStart&&function J7(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:a}=e.type.prototype;if(i){const o=OA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),a&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a))}(t,a[t],e)}finally{null!==l&&vo(l),ov(s),o.resolving=!1,tT()}}return r}function mT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function pT(n,e){return!(n&Vt.Self||n&Vt.Host&&e)}class fd{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return hT(this._tNode,this._lView,e,qg(i),t)}}function uG(){return new fd(Vr(),We())}function Zi(n){return jl(()=>{const e=n.prototype.constructor,t=e[Xs]||Yx(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const a=r[Xs]||Yx(r);if(a&&a!==t)return a;r=Object.getPrototypeOf(r)}return a=>new a})}function Yx(n){return zr(n)?()=>{const e=Yx(Ft(n));return e&&e()}:Lc(n)}function gT(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Yl(n){return function sG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const a=t[r];if(iT(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(a===e)return t[r+1];r+=2}}}return null}(Vr(),n)}const pd="__parameters__";function vd(n,e,t){return jl(()=>{const i=function Zx(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...a){if(this instanceof r)return i.apply(this,a),this;const o=new r(...a);return s.annotation=o,s;function s(l,c,u){const d=l.hasOwnProperty(pd)?l[pd]:Object.defineProperty(l,pd,{value:[]})[pd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class je{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Uc(n,e){n.forEach(t=>Array.isArray(t)?Uc(t,e):e(t))}function _T(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function cv(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nm(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Za(n,e,t){let i=_d(n,e);return i>=0?n[1|i]=t:(i=~i,function pG(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Qx(n,e){const t=_d(n,e);if(t>=0)return n[1|t]}function _d(n,e){return function yT(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const a=i+(r-i>>1),o=n[a<<t];if(e===o)return a<<t;o>e?r=a:i=a+1}return~(r<<t)}(n,e,1)}const dv=Wf(vd("Inject",n=>({token:n})),-1),Qs=Wf(vd("Optional"),8),yd=Wf(vd("SkipSelf"),4);var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();const r1=new Map;let LG=0;const o1="__ngContext__";function ia(n,e){ja(e)?(n[o1]=e[20],function zG(n){r1.set(n[20],n)}(e)):n[o1]=e}function l1(n,e){return undefined(n,e)}function om(n){const e=n[3];return $o(e)?e[3]:e}function c1(n){return zT(n[13])}function u1(n){return zT(n[4])}function zT(n){for(;null!==n&&!$o(n);)n=n[4];return n}function xd(n,e,t,i,r){if(null!=i){let a,o=!1;$o(i)?a=i:ja(i)&&(o=!0,i=i[0]);const s=Ur(i);0===n&&null!==t?null==r?WT(e,t,s):Vc(e,t,s,r||null,!0):1===n&&null!==t?Vc(e,t,s,r||null,!0):2===n?function v1(n,e,t){const i=mv(n,e);i&&function aq(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,s,o):3===n&&e.destroyNode(s),null!=a&&function lq(n,e,t,i,r){const a=t[7];a!==Ur(t)&&xd(e,n,i,a,r);for(let s=10;s<t.length;s++){const l=t[s];sm(l[1],l,n,e,i,a)}}(e,n,a,t,r)}}function h1(n,e,t){return n.createElement(e,t)}function VT(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,Rx(r,-1)),t.splice(i,1)}function f1(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&VT(r,i),e>0&&(n[t-1][4]=i[4]);const a=cv(n,10+e);!function KG(n,e){sm(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=a[19];null!==o&&o.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function HT(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&sm(n,e,t,3,null,null),function eq(n){let e=n[13];if(!e)return m1(n[1],n);for(;e;){let t=null;if(ja(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)ja(e)&&m1(e[1],e),e=e[3];null===e&&(e=n),ja(e)&&m1(e[1],e),t=e&&e[4]}e=t}}(e)}}function m1(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function rq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Qf)){const a=t[i+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const s=r[a[o]],l=a[o+1];try{l.call(s)}finally{}}else try{a.call(r)}finally{}}}}(n,e),function iq(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const o=t[a+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),a+=2}else{const o=i[r=t[a+1]];t[a].call(o)}if(null!==i){for(let a=r+1;a<i.length;a++)(0,i[a])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&$o(e[3])){t!==e[3]&&VT(t,e);const i=e[19];null!==i&&i.detachView(n)}!function UG(n){r1.delete(n[20])}(e)}}function GT(n,e,t){return function qT(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:a}=n.data[i.directiveStart+r];if(a===qo.None||a===qo.Emulated)return null}return Xa(i,t)}}(n,e.parent,t)}function Vc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function WT(n,e,t){n.appendChild(e,t)}function $T(n,e,t,i,r){null!==i?Vc(n,e,t,i,r):WT(n,e,t)}function mv(n,e){return n.parentNode(e)}function jT(n,e,t){return YT(n,e,t)}let vv,b1,_v,YT=function XT(n,e,t){return 40&n.type?Xa(n,t):null};function pv(n,e,t,i){const r=GT(n,i,e),a=e[11],s=jT(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)$T(a,r,t[l],s,!1);else $T(a,r,t,s,!1)}function gv(n,e){if(null!==e){const t=e.type;if(3&t)return Xa(e,n);if(4&t)return g1(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return gv(n,i);{const r=n[e.index];return $o(r)?g1(-1,r):Ur(r)}}if(32&t)return l1(e,n)()||Ur(n[e.index]);{const i=KT(n,e);return null!==i?Array.isArray(i)?i[0]:gv(om(n[16]),i):gv(n,e.next)}}return null}function KT(n,e){return null!==e?n[16][6].projection[e.projection]:null}function g1(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return gv(i,r)}return e[7]}function _1(n,e,t,i,r,a,o){for(;null!=t;){const s=i[t.index],l=t.type;if(o&&0===e&&(s&&ia(Ur(s),i),t.flags|=2),32!=(32&t.flags))if(8&l)_1(n,e,t.child,i,r,a,!1),xd(e,n,r,s,a);else if(32&l){const c=l1(t,i);let u;for(;u=c();)xd(e,n,r,u,a);xd(e,n,r,s,a)}else 16&l?QT(n,e,i,t,r,a):xd(e,n,r,s,a);t=o?t.projectionNext:t.next}}function sm(n,e,t,i,r,a){_1(t,i,n.firstChild,e,r,a,!1)}function QT(n,e,t,i,r,a){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)xd(e,n,r,l[c],a);else _1(n,e,l,o[3],r,a,!0)}function JT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function e2(n,e,t){const{mergedAttrs:i,classes:r,styles:a}=t;null!==i&&qx(n,e,i),null!==r&&JT(n,e,r),null!==a&&function uq(n,e,t){n.setAttribute(e,"style",t)}(n,e,a)}function Hc(n){return function y1(){if(void 0===vv&&(vv=null,Di.trustedTypes))try{vv=Di.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vv}()?.createHTML(n)||n}function a2(n){return function x1(){if(void 0===_v&&(_v=null,Di.trustedTypes))try{_v=Di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _v}()?.createScriptURL(n)||n}class Gc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${id})`}}class pq extends Gc{getTypeName(){return"HTML"}}class gq extends Gc{getTypeName(){return"Style"}}class vq extends Gc{getTypeName(){return"Script"}}class _q extends Gc{getTypeName(){return"URL"}}class yq extends Gc{getTypeName(){return"ResourceURL"}}function Ka(n){return n instanceof Gc?n.changingThisBreaksApplicationSecurity:n}function vs(n,e){const t=function bq(n){return n instanceof Gc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${id})`)}return t===e}class Eq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Hc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Dq{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Hc(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Hc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Tq=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function yv(n){return(n=String(n)).match(Tq)?n:"unsafe:"+n}function Js(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function lm(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const s2=Js("area,br,col,hr,img,wbr"),l2=Js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c2=Js("rp,rt"),w1=lm(s2,lm(l2,Js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lm(c2,Js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lm(c2,l2)),M1=Js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),u2=lm(M1,Js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nq=Js("script,style,template");class Iq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!w1.hasOwnProperty(t))return this.sanitizedSomething=!0,!Nq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const a=i.item(r),o=a.name,s=o.toLowerCase();if(!u2.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=a.value;M1[s]&&(l=yv(l)),this.buf.push(" ",o,'="',d2(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();w1.hasOwnProperty(t)&&!s2.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(d2(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Fq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kq=/([^\#-~ |!])/g;function d2(n){return n.replace(/&/g,"&amp;").replace(Fq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bv;function h2(n,e){let t=null;try{bv=bv||function o2(n){const e=new Dq(n);return function Aq(){try{return!!(new window.DOMParser).parseFromString(Hc(""),"text/html")}catch{return!1}}()?new Eq(e):e}(n);let i=e?String(e):"";t=bv.getInertBodyElement(i);let r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=t.innerHTML,t=bv.getInertBodyElement(i)}while(i!==a);return Hc((new Iq).sanitizeChildren(S1(t)||t))}finally{if(t){const i=S1(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function S1(n){return"content"in n&&function Rq(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function xv(n){const e=cm();return e?e.sanitize(ai.URL,n)||"":vs(n,"URL")?Ka(n):yv(jt(n))}function f2(n){const e=cm();if(e)return a2(e.sanitize(ai.RESOURCE_URL,n)||"");if(vs(n,"ResourceURL"))return a2(Ka(n));throw new Re(904,!1)}function cm(){const n=We();return n&&n[12]}const wv=new je("ENVIRONMENT_INITIALIZER"),p2=new je("INJECTOR",-1),g2=new je("INJECTOR_DEF_TYPES");class v2{get(e,t=Gf){if(t===Gf){const i=new Error(`NullInjectorError: No provider for ${fi(e)}!`);throw i.name="NullInjectorError",i}return t}}function Vq(...n){return{\u0275providers:_2(0,n),\u0275fromNgModule:!0}}function _2(n,...e){const t=[],i=new Set;let r;return Uc(e,a=>{const o=a;C1(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&y2(r,t),t}function y2(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];E1(r,a=>{e.push(a)})}}function C1(n,e,t,i){if(!(n=Ft(n)))return!1;let r=null,a=xA(n);const o=!a&&ci(n);if(a||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(a=xA(l),!a)return!1;r=l}const s=i.has(r);if(o){if(s)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)C1(c,e,t,i)}}else{if(!a)return!1;{if(null!=a.imports&&!s){let c;i.add(r);try{Uc(a.imports,u=>{C1(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&y2(c,e)}if(!s){const c=Lc(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:ri},{provide:g2,useValue:r,multi:!0},{provide:wv,useValue:()=>Oe(r),multi:!0})}const l=a.providers;null==l||s||E1(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function E1(n,e){for(let t of n)nr(t)&&(t=t.\u0275providers),Array.isArray(t)?E1(t,e):e(t)}const Hq=hi({provide:String,useValue:hi});function D1(n){return null!==n&&"object"==typeof n&&Hq in n}function qc(n){return"function"==typeof n}const A1=new je("Set Injector scope."),Mv={},qq={};let T1;function Sv(){return void 0===T1&&(T1=new v2),T1}class el{}class w2 extends el{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,I1(e,o=>this.processProvider(o)),this.records.set(p2,wd(void 0,this)),r.has("environment")&&this.records.set(el,wd(void 0,this));const a=this.records.get(A1);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(g2.multi,ri,Vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=rd(this),i=vo(void 0);try{return e()}finally{rd(t),vo(i)}}get(e,t=Gf,i=Vt.Default){this.assertNotDestroyed(),i=qg(i);const r=rd(this),a=vo(void 0);try{if(!(i&Vt.SkipSelf)){let s=this.records.get(e);if(void 0===s){const l=function Yq(n){return"function"==typeof n||"object"==typeof n&&n instanceof je}(e)&&Vg(e);s=l&&this.injectableDefInScope(l)?wd(N1(e),Mv):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}return(i&Vt.Self?Sv():this.parent).get(e,t=i&Vt.Optional&&t===Gf?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Gg]=o[Gg]||[]).unshift(fi(e)),r)throw o;return function x7(n,e,t,i){const r=n[Gg];throw e[SA]&&r.unshift(e[SA]),n.message=function w7(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=fi(e);if(Array.isArray(e))r=e.map(fi).join(" -> ");else if("object"==typeof e){let a=[];for(let o in e)if(e.hasOwnProperty(o)){let s=e[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):fi(s)))}r=`{${a.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(v7,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Gg]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{vo(a),rd(r)}}resolveInjectorInitializers(){const e=rd(this),t=vo(void 0);try{const i=this.get(wv.multi,ri,Vt.Self);for(const r of i)r()}finally{rd(e),vo(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(fi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(e){let t=qc(e=Ft(e))?e:Ft(e&&e.provide);const i=function $q(n){return D1(n)?wd(void 0,n.useValue):wd(M2(n),Mv)}(e);if(qc(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=wd(void 0,Mv,!0),r.factory=()=>Dx(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Mv&&(t.value=qq,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Xq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ft(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function N1(n){const e=Vg(n),t=null!==e?e.factory:Lc(n);if(null!==t)return t;if(n instanceof je)throw new Re(204,!1);if(n instanceof Function)return function Wq(n){const e=n.length;if(e>0)throw nm(e,"?"),new Re(204,!1);const t=function h7(n){const e=n&&(n[Hg]||n[wA]);if(e){const t=function f7(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Re(204,!1)}function M2(n,e,t){let i;if(qc(n)){const r=Ft(n);return Lc(r)||N1(r)}if(D1(n))i=()=>Ft(n.useValue);else if(function x2(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Dx(n.deps||[]));else if(function b2(n){return!(!n||!n.useExisting)}(n))i=()=>Oe(Ft(n.useExisting));else{const r=Ft(n&&(n.useClass||n.provide));if(!function jq(n){return!!n.deps}(n))return Lc(r)||N1(r);i=()=>new r(...Dx(n.deps))}return i}function wd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function I1(n,e){for(const t of n)Array.isArray(t)?I1(t,e):t&&nr(t)?I1(t.\u0275providers,e):e(t)}class Zq{}class S2{}class Qq{resolveComponentFactory(e){throw function Kq(n){const e=Error(`No component factory found for ${fi(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Wc=(()=>{class n{}return n.NULL=new Qq,n})();function Jq(){return Md(Vr(),We())}function Md(n,e){return new Bn(Xa(n,e))}let Bn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Jq,n})();function eW(n){return n instanceof Bn?n.nativeElement:n}class um{}let tl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function tW(){const n=We(),t=Ya(Vr().index,n);return(ja(t)?t:n)[11]}(),n})(),nW=(()=>{class n{}return n.\u0275prov=pt({token:n,providedIn:"root",factory:()=>null}),n})();class $c{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iW=new $c("15.0.4"),F1={};function R1(n){return n.ngOriginalError}class nl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&R1(e);for(;t&&R1(t);)t=R1(t);return t||null}}function E2(n){return n.ownerDocument.defaultView}function il(n){return n instanceof Function?n():n}function A2(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const a=e.length;if(r+a===i||n.charCodeAt(r+a)<=32)return r}t=r+1}}const T2="ng-template";function fW(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==A2(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function N2(n){return 4===n.type&&n.value!==T2}function mW(n,e,t){return e===(4!==n.type||t?n.value:T2)}function pW(n,e,t){let i=4;const r=n.attrs||[],a=function _W(n){for(let e=0;e<n.length;e++)if(iT(n[e]))return e;return n.length}(r);let o=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!mW(n,l,t)||""===l&&1===e.length){if(Xo(i))return!1;o=!0}}else{const c=8&i?l:e[++s];if(8&i&&null!==n.attrs){if(!fW(n.attrs,c,t)){if(Xo(i))return!1;o=!0}continue}const d=gW(8&i?"class":l,r,N2(n),t);if(-1===d){if(Xo(i))return!1;o=!0;continue}if(""!==c){let h;h=d>a?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==A2(f,c,0)||2&i&&c!==h){if(Xo(i))return!1;o=!0}}}}else{if(!o&&!Xo(i)&&!Xo(l))return!1;if(o&&Xo(l))continue;o=!1,i=l|1&i}}return Xo(i)||o}function Xo(n){return 0==(1&n)}function gW(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let a=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){let s=e[++r];for(;"string"==typeof s;)s=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function yW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function I2(n,e,t=!1){for(let i=0;i<e.length;i++)if(pW(n,e[i],t))return!0;return!1}function bW(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function F2(n,e){return n?":not("+e.trim()+")":e}function xW(n){let e=n[0],t=1,i=2,r="",a=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const s=n[++t];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Xo(o)&&(e+=F2(a,r),r=""),i=o,a=a||!Xo(i);t++}return""!==r&&(e+=F2(a,r)),e}const en={};function Nt(n){k2(Gn(),We(),va()+n,!1)}function k2(n,e,t,i){if(!i)if(3==(3&e[2])){const a=n.preOrderCheckHooks;null!==a&&nv(e,a,t)}else{const a=n.preOrderHooks;null!==a&&iv(e,a,0,t)}Bc(t)}function L2(n,e=null,t=null,i){const r=B2(n,e,t,i);return r.resolveInjectorInitializers(),r}function B2(n,e=null,t=null,i,r=new Set){const a=[t||ri,Vq(n)];return i=i||("object"==typeof n?void 0:fi(n)),new w2(a,e||Sv(),i||null,r)}let Pa=(()=>{class n{static create(t,i){if(Array.isArray(t))return L2({name:""},i,t,"");{const r=t.name??"";return L2({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Gf,n.NULL=new v2,n.\u0275prov=pt({token:n,providedIn:"any",factory:()=>Oe(p2)}),n.__NG_ELEMENT_ID__=-1,n})();function ve(n,e=Vt.Default){const t=We();return null===t?Oe(n,e):hT(Vr(),t,Ft(n),e)}function dm(){throw new Error("invalid")}function W2(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],a=t[i+1];if(-1!==a){const o=n.data[a];zx(r),o.contentQueries(2,e[a],a)}}}function Ev(n,e,t,i,r,a,o,s,l,c,u){const d=e.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),VA(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=s||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=a,d[20]=function BG(){return LG++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Ed(n,e,t,i,r){let a=n.data[e];if(null===a)a=function z1(n,e,t,i,r){const a=$A(),o=Ox(),l=n.data[e]=function jW(n,e,t,i,r,a){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==a&&(o?null==a.child&&null!==l.parent&&(a.child=l):null===a.next&&(a.next=l)),l}(n,e,t,i,r),function q7(){return Jt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=i,a.attrs=r;const o=function Kf(){const n=Jt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return ps(a,!0),a}function hm(n,e,t,i){if(0===t)return-1;const r=e.length;for(let a=0;a<t;a++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function U1(n,e,t){Ux(e);try{const i=n.viewQuery;null!==i&&Z1(1,i,t);const r=n.template;null!==r&&$2(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&W2(n,e),n.staticViewQueries&&Z1(2,n.viewQuery,t);const a=n.components;null!==a&&function qW(n,e){for(let t=0;t<e.length;t++)h$(n,e[t])}(e,a)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Vx()}}function Dv(n,e,t,i){const r=e[2];if(128!=(128&r)){Ux(e);try{VA(e),function XA(n){return Jt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$2(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&nv(e,c,null)}else{const c=n.preOrderHooks;null!==c&&iv(e,c,0,null),Hx(e,0)}if(function u$(n){for(let e=c1(n);null!==e;e=u1(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],a=r[3];0==(512&r[2])&&Rx(a,1),r[2]|=512}}}(e),function c$(n){for(let e=c1(n);null!==e;e=u1(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Qg(i)&&Dv(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&W2(n,e),o){const c=n.contentCheckHooks;null!==c&&nv(e,c)}else{const c=n.contentHooks;null!==c&&iv(e,c,1),Hx(e,1)}!function HW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Bc(~r);else{const a=r,o=t[++i],s=t[++i];W7(o,a),s(2,e[a])}}}finally{Bc(-1)}}(n,e);const s=n.components;null!==s&&function GW(n,e){for(let t=0;t<e.length;t++)d$(n,e[t])}(e,s);const l=n.viewQuery;if(null!==l&&Z1(2,l,i),o){const c=n.viewCheckHooks;null!==c&&nv(e,c)}else{const c=n.viewHooks;null!==c&&iv(e,c,2),Hx(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Rx(e[3],-1))}finally{Vx()}}}function $2(n,e,t,i,r){const a=va(),o=2&i;try{Bc(-1),o&&e.length>22&&k2(n,e,22,!1),t(i,r)}finally{Bc(a)}}function V1(n,e,t){if(Fx(e)){const r=e.directiveEnd;for(let a=e.directiveStart;a<r;a++){const o=n.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}}function H1(n,e,t){!GA()||(function JW(n,e,t,i){const r=t.directiveStart,a=t.directiveEnd;Zf(t)&&function o$(n,e,t){const i=Xa(e,n),r=j2(t),a=n[10],o=Av(n,Ev(n,r,null,t.onPush?32:16,i,e,a,a.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||sv(t,e),ia(i,e);const o=t.initialInputs;for(let s=r;s<a;s++){const l=n.data[s],c=zc(e,n,s,t);ia(c,e),null!==o&&s$(0,s-r,c,l,0,o),jo(l)&&(Ya(t.index,e)[8]=zc(e,n,s,t))}}(n,e,t,Xa(t,e)),64==(64&t.flags)&&J2(n,e,t))}function G1(n,e,t=Xa){const i=e.localNames;if(null!==i){let r=e.index+1;for(let a=0;a<i.length;a+=2){const o=i[a+1],s=-1===o?t(e,n):n[o];n[r++]=s}}}function j2(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=q1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function q1(n,e,t,i,r,a,o,s,l,c){const u=22+i,d=u+r,h=function WW(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:en);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function X2(n,e,t,i){const r=tN(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&nN(n).push(i,r.length-1))}function Y2(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const a=n[r];null===i?Z2(t,e,r,a):i.hasOwnProperty(r)&&Z2(t,e,i[r],a)}return t}function Z2(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Qa(n,e,t,i,r,a,o,s){const l=Xa(e,t);let u,c=e.inputs;!s&&null!=c&&(u=c[i])?(K1(n,t,u,i,r),Zf(e)&&K2(t,e.index)):3&e.type&&(i=function YW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,a.setProperty(l,i,r))}function K2(n,e){const t=Ya(e,n);16&t[2]||(t[2]|=32)}function W1(n,e,t,i){let r=!1;if(GA()){const a=null===i?null:{"":-1},o=function t$(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let a=0;a<t.length;a++){const o=t[a];if(I2(e,o.selectors,!1))if(i||(i=[]),jo(o))if(null!==o.findHostDirectiveDefs){const s=[];r=r||new Map,o.findHostDirectiveDefs(o,s,r),i.unshift(...s,o),$1(n,e,s.length)}else i.unshift(o),$1(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let s,l;null===o?s=l=null:[s,l]=o,null!==s&&(r=!0,Q2(n,e,t,s,a,l)),a&&function n$(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const a=t[e[r+1]];if(null==a)throw new Re(-301,!1);i.push(e[r],a)}}}(t,i,a)}return t.mergedAttrs=Jf(t.mergedAttrs,t.attrs),r}function Q2(n,e,t,i,r,a){for(let c=0;c<i.length;c++)Xx(sv(t,e),n,i[c].type);!function r$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,s=!1,l=hm(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Jf(t.mergedAttrs,u.hostAttrs),a$(n,t,e,l,u),i$(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),s=!0),l++}!function XW(n,e,t){const r=e.directiveEnd,a=n.data,o=e.attrs,s=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=a[u],h=t?t.get(d):null,m=h?h.outputs:null;l=Y2(d.inputs,u,l,h?h.inputs:null),c=Y2(d.outputs,u,c,m);const p=null===l||null===o||N2(e)?null:l$(l,u,o);s.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=l,e.outputs=c}(n,t,a)}function J2(n,e,t){const i=t.directiveStart,r=t.directiveEnd,a=t.index,o=function $7(){return Jt.lFrame.currentDirectiveIndex}();try{Bc(a);for(let s=i;s<r;s++){const l=n.data[s],c=e[s];Lx(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&e$(l,c)}}finally{Bc(-1),Lx(o)}}function e$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function $1(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function i$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;jo(e)&&(t[""]=n)}}function a$(n,e,t,i,r){n.data[i]=r;const a=r.factory||(r.factory=Lc(r.type)),o=new Qf(a,jo(r),ve);n.blueprint[i]=o,t[i]=o,function KW(n,e,t,i,r){const a=r.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const s=~e.index;(function QW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=s&&o.push(s),o.push(t,i,a)}}(n,e,i,hm(n,t,r.hostVars,en),r)}function _s(n,e,t,i,r,a){const o=Xa(n,e);!function j1(n,e,t,i,r,a,o){if(null==a)n.removeAttribute(e,r,t);else{const s=null==o?jt(a):o(a,i||"",r);n.setAttribute(e,r,s,t)}}(e[11],o,a,n.value,t,i,r)}function s$(n,e,t,i,r,a){const o=a[e];if(null!==o){const s=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==s?i.setInput(t,d,c,u):t[u]=d}}}function l$(n,e,t){let i=null,r=0;for(;r<t.length;){const a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;if(n.hasOwnProperty(a)){null===i&&(i=[]);const o=n[a];for(let s=0;s<o.length;s+=2)if(o[s]===e){i.push(a,o[s+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function eN(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function d$(n,e){const t=Ya(e,n);if(Qg(t)){const i=t[1];48&t[2]?Dv(i,t,i.template,t[8]):t[5]>0&&X1(t)}}function X1(n){for(let i=c1(n);null!==i;i=u1(i))for(let r=10;r<i.length;r++){const a=i[r];if(Qg(a))if(512&a[2]){const o=a[1];Dv(o,a,o.template,a[8])}else a[5]>0&&X1(a)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ya(t[i],n);Qg(r)&&r[5]>0&&X1(r)}}function h$(n,e){const t=Ya(e,n),i=t[1];(function f$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),U1(i,t,t[8])}function Av(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Y1(n){for(;n;){n[2]|=32;const e=om(n);if(E7(n)&&!e)return n;n=e}return null}function Tv(n,e,t,i=!0){const r=e[10];r.begin&&r.begin();try{Dv(n,e,n.template,t)}catch(o){throw i&&rN(e,o),o}finally{r.end&&r.end()}}function Z1(n,e,t){zx(0),e(n,t)}function tN(n){return n[7]||(n[7]=[])}function nN(n){return n.cleanup||(n.cleanup=[])}function rN(n,e){const t=n[9],i=t?t.get(nl,null):null;i&&i.handleError(e)}function K1(n,e,t,i,r){for(let a=0;a<t.length;){const o=t[a++],s=t[a++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,s):l[s]=r}}function Nv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,a=0;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?a=s:1==a?r=Hf(r,s):2==a&&(i=Hf(i,s+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Iv(n,e,t,i,r=!1){for(;null!==t;){const a=e[t.index];if(null!==a&&i.push(Ur(a)),$o(a))for(let s=10;s<a.length;s++){const l=a[s],c=l[1].firstChild;null!==c&&Iv(l[1],l,c,i)}const o=t.type;if(8&o)Iv(n,e,t.child,i);else if(32&o){const s=l1(t,e);let l;for(;l=s();)i.push(l)}else if(16&o){const s=KT(e,t);if(Array.isArray(s))i.push(...s);else{const l=om(e[16]);Iv(l[1],l,s,i,!0)}}t=r?t.projectionNext:t.next}return i}class fm{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Iv(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if($o(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(f1(e,i),cv(t,i))}this._attachedToViewContainer=!1}HT(this._lView[1],this._lView)}onDestroy(e){X2(this._lView[1],this._lView,null,e)}markForCheck(){Y1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Tv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JG(n,e){sm(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=e}}class m$ extends fm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Tv(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class aN extends Wc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ci(e);return new mm(t,this.ngModule)}}function oN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class g${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=qg(i);const r=this.injector.get(e,F1,i);return r!==F1||t===F1?r:this.parentInjector.get(e,t,i)}}class mm extends S2{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function wW(n){return n.map(xW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return oN(this.componentDef.inputs)}get outputs(){return oN(this.componentDef.outputs)}create(e,t,i,r){let a=(r=r||this.ngModule)instanceof el?r:r?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new g$(e,a):e,s=o.get(um,null);if(null===s)throw new Re(407,!1);const l=o.get(nW,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function $W(n,e,t){return n.selectRootElement(e,t===qo.ShadowDom)}(c,i,this.componentDef.encapsulation):h1(c,u,function p$(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=q1(0,null,null,1,0,null,null,null,null,null),m=Ev(null,f,null,h,null,null,s,c,l,o,null);let p,g;Ux(m);try{const _=this.componentDef;let w,v=null;_.findHostDirectiveDefs?(w=[],v=new Map,_.findHostDirectiveDefs(_,w,v),w.push(_)):w=[_];const y=function _$(n,e){const t=n[1];return n[22]=e,Ed(t,22,2,"#host",null)}(m,d),b=function y$(n,e,t,i,r,a,o,s){const l=r[1];!function b$(n,e,t,i){for(const r of n)e.mergedAttrs=Jf(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Nv(e,e.mergedAttrs,!0),null!==t&&e2(i,t,e))}(i,n,e,o);const c=a.createRenderer(e,t),u=Ev(r,j2(t),null,t.onPush?32:16,r[n.index],n,a,c,s||null,null,null);return l.firstCreatePass&&$1(l,n,i.length-1),Av(r,u),r[n.index]=u}(y,d,_,w,m,s,c);g=UA(f,22),d&&function w$(n,e,t,i){if(i)qx(n,t,["ng-version",iW.full]);else{const{attrs:r,classes:a}=function MW(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let a=n[i];if("string"==typeof a)2===r?""!==a&&e.push(a,n[++i]):8===r&&t.push(a);else{if(!Xo(r))break;r=a}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&qx(n,t,r),a&&a.length>0&&JT(n,t,a.join(" "))}}(c,_,d,i),void 0!==t&&function M$(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const a=t[r];i.push(null!=a?Array.from(a):null)}}(g,this.ngContentSelectors,t),p=function x$(n,e,t,i,r,a){const o=Vr(),s=r[1],l=Xa(o,r);Q2(s,r,o,t,null,i);for(let u=0;u<t.length;u++)ia(zc(r,s,o.directiveStart+u,o),r);J2(s,r,o),l&&ia(l,r);const c=zc(r,s,o.directiveStart+o.componentOffset,o);if(n[8]=r[8]=c,null!==a)for(const u of a)u(c,e);return V1(s,o,n),c}(b,_,w,v,m,[S$]),U1(f,m,null)}finally{Vx()}return new v$(this.componentType,p,Md(g,m),m,g)}}class v$ extends Zq{constructor(e,t,i,r,a){super(),this.location=i,this._rootLView=r,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new m$(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const a=this._rootLView;K1(a[1],a,r,e,t),K2(a,this._tNode.index)}}get injector(){return new fd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function S$(){const n=Vr();tv(We()[1],n)}function qt(n){let e=function sN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(jo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Q1(n.inputs),o.declaredInputs=Q1(n.declaredInputs),o.outputs=Q1(n.outputs);const s=r.hostBindings;s&&A$(n,s);const l=r.viewQuery,c=r.contentQueries;if(l&&E$(n,l),c&&D$(n,c),Vf(n.inputs,r.inputs),Vf(n.declaredInputs,r.declaredInputs),Vf(n.outputs,r.outputs),jo(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const a=r.features;if(a)for(let o=0;o<a.length;o++){const s=a[o];s&&s.ngInherit&&s(n),s===qt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function C$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Jf(r.hostAttrs,t=Jf(t,r.hostAttrs))}}(i)}function Q1(n){return n===js?{}:n===ri?[]:n}function E$(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function D$(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,a)=>{e(i,r,a),t(i,r,a)}:e}function A$(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Fv=null;function jc(){if(!Fv){const n=Di.Symbol;if(n&&n.iterator)Fv=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Fv=i)}}}return Fv}function pm(n){return!!J1(n)&&(Array.isArray(n)||!(n instanceof Map)&&jc()in n)}function J1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ra(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xi(n,e,t,i){const r=We();return ra(r,dd(),e)&&(Gn(),_s(qi(),r,n,e,t,i)),xi}function oi(n,e,t,i,r,a,o,s){const l=We(),c=Gn(),u=n+22,d=c.firstCreatePass?function B$(n,e,t,i,r,a,o,s,l){const c=e.consts,u=Ed(e,n,4,o||null,Xl(c,s));W1(e,t,u,Xl(c,l)),tv(e,u);const d=u.tViews=q1(2,u,i,r,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,a,o):c.data[u];ps(d,!1);const h=l[11].createComment("");pv(c,l,h,d),ia(h,l),Av(l,l[u]=eN(h,l,h,d)),Zg(d)&&H1(c,l,d),null!=o&&G1(l,d,s)}function al(n){return function ud(n,e){return n[e]}(function G7(){return Jt.lFrame.contextLView}(),22+n)}function Ct(n,e,t){const i=We();return ra(i,dd(),e)&&Qa(Gn(),qi(),i,n,e,i[11],t,!1),Ct}function ew(n,e,t,i,r){const o=r?"class":"style";K1(n,t,e.inputs[o],o,i)}function Qe(n,e,t,i){const r=We(),a=Gn(),o=22+n,s=r[11],l=r[o]=h1(s,e,function Q7(){return Jt.lFrame.currentNamespace}()),c=a.firstCreatePass?function U$(n,e,t,i,r,a,o){const s=e.consts,c=Ed(e,n,2,r,Xl(s,a));return W1(e,t,c,Xl(s,o)),null!==c.attrs&&Nv(c,c.attrs,!1),null!==c.mergedAttrs&&Nv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,a,r,0,e,t,i):a.data[o];return ps(c,!0),e2(s,l,c),32!=(32&c.flags)&&pv(a,r,l,c),0===function B7(){return Jt.lFrame.elementDepthCount}()&&ia(l,r),function z7(){Jt.lFrame.elementDepthCount++}(),Zg(c)&&(H1(a,r,c),V1(a,c,r)),null!==i&&G1(r,c),Qe}function rt(){let n=Vr();Ox()?Px():(n=n.parent,ps(n,!1));const e=n;!function U7(){Jt.lFrame.elementDepthCount--}();const t=Gn();return t.firstCreatePass&&(tv(t,n),Fx(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nG(n){return 0!=(8&n.flags)}(e)&&ew(t,e,We(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iG(n){return 0!=(16&n.flags)}(e)&&ew(t,e,We(),e.stylesWithoutHost,!1),rt}function gn(n,e,t,i){return Qe(n,e,t,i),rt(),gn}function vm(n){return!!n&&"function"==typeof n.then}const iw=function wN(n){return!!n&&"function"==typeof n.subscribe};function qn(n,e,t,i){const r=We(),a=Gn(),o=Vr();return function SN(n,e,t,i,r,a,o){const s=Zg(i),c=n.firstCreatePass&&nN(n),u=e[8],d=tN(e);let h=!0;if(3&i.type||o){const p=Xa(i,e),g=o?o(p):p,_=d.length,w=o?y=>o(Ur(y[i.index])):i.index;let v=null;if(!o&&s&&(v=function H$(n,e,t,i){const r=n.cleanup;if(null!=r)for(let a=0;a<r.length-1;a+=2){const o=r[a];if(o===t&&r[a+1]===i){const s=e[7],l=r[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(n,e,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=a,v.__ngLastListenerFn__=a,h=!1;else{a=EN(i,e,u,a,!1);const y=t.listen(g,r,a);d.push(a,y),c&&c.push(r,w,_,_+1)}}else a=EN(i,e,u,a,!1);const f=i.outputs;let m;if(h&&null!==f&&(m=f[r])){const p=m.length;if(p)for(let g=0;g<p;g+=2){const b=e[m[g]][m[g+1]].subscribe(a),x=d.length;d.push(a,b),c&&c.push(r,i.index,x,-(x+1))}}}(a,r,r[11],o,n,e,i),qn}function CN(n,e,t,i){try{return!1!==t(i)}catch(r){return rN(n,r),!1}}function EN(n,e,t,i,r){return function a(o){if(o===Function)return i;Y1(n.componentOffset>-1?Ya(n.index,e):e);let l=CN(e,0,i,o),c=a.__ngNextListenerFn__;for(;c;)l=CN(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function aa(n=1){return function X7(n){return(Jt.lFrame.contextLView=function Y7(n,e){for(;n>0;)e=e[15],n--;return e}(n,Jt.lFrame.contextLView))[8]}(n)}function G$(n,e){let t=null;const i=function vW(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const a=e[r];if("*"!==a){if(null===i?I2(n,a,!0):bW(i,a))return r}else t=r}return t}function _a(n){const e=We()[16][6];if(!e.projection){const i=e.projection=nm(n?n.length:1,null),r=i.slice();let a=e.child;for(;null!==a;){const o=n?G$(a,n):0;null!==o&&(r[o]?r[o].projectionNext=a:i[o]=a,r[o]=a),a=a.next}}}function Nn(n,e=0,t){const i=We(),r=Gn(),a=Ed(r,22+n,16,null,t||null);null===a.projection&&(a.projection=e),Px(),32!=(32&a.flags)&&function sq(n,e,t){QT(e[11],0,e,t,GT(n,t,e),jT(t.parent||e[6],t,e))}(r,i,a)}function Rv(n,e){return n<<17|e<<2}function Zl(n){return n>>17&32767}function aw(n){return 2|n}function Yc(n){return(131068&n)>>2}function ow(n,e){return-131069&n|e<<2}function sw(n){return 1|n}function PN(n,e,t,i,r){const a=n[t+1],o=null===e;let s=i?Zl(a):Yc(a),l=!1;for(;0!==s&&(!1===l||o);){const u=n[s+1];Y$(n[s],e)&&(l=!0,n[s+1]=i?sw(u):aw(u)),s=i?Zl(u):Yc(u)}l&&(n[t+1]=i?aw(a):sw(a))}function Y$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_d(n,e)>=0}function xo(n,e,t){return Yo(n,e,t,!1),xo}function Wn(n,e){return Yo(n,e,null,!0),Wn}function Yo(n,e,t,i){const r=We(),a=Gn(),o=function Ks(n){const e=Jt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);a.firstUpdatePass&&function qN(n,e,t,i){const r=n.data;if(null===r[t+1]){const a=r[va()],o=function GN(n,e){return e>=n.expandoStartIndex}(n,t);(function XN(n,e){return 0!=(n.flags&(e?8:16))})(a,i)&&null===e&&!o&&(e=!1),e=function rj(n,e,t,i){const r=function Bx(n){const e=Jt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let a=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=_m(t=lw(null,n,e,t,i),e.attrs,i),a=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=lw(r,n,e,t,i),null===a){let l=function aj(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Yc(i))return n[Zl(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=lw(null,n,e,l[1],i),l=_m(l,e.attrs,i),function oj(n,e,t,i){n[Zl(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else a=function sj(n,e,t){let i;const r=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<r;a++)i=_m(i,n[a].hostAttrs,t);return _m(i,e.attrs,t)}(n,e,i)}return void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a),t}(r,a,e,i),function j$(n,e,t,i,r,a){let o=a?e.classBindings:e.styleBindings,s=Zl(o),l=Yc(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||_d(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=Zl(n[s+1]);n[i+1]=Rv(h,s),0!==h&&(n[h+1]=ow(n[h+1],i)),n[s+1]=function W$(n,e){return 131071&n|e<<17}(n[s+1],i)}else n[i+1]=Rv(s,0),0!==s&&(n[s+1]=ow(n[s+1],i)),s=i;else n[i+1]=Rv(l,0),0===s?s=i:n[l+1]=ow(n[l+1],i),l=i;c&&(n[i+1]=aw(n[i+1])),PN(n,u,i,!0),PN(n,u,i,!1),function X$(n,e,t,i,r){const a=r?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof e&&_d(a,e)>=0&&(t[i+1]=sw(t[i+1]))}(e,u,n,i,a),o=Rv(s,l),a?e.classBindings=o:e.styleBindings=o}(r,a,e,t,o,i)}}(a,n,o,i),e!==en&&ra(r,o,e)&&function $N(n,e,t,i,r,a,o,s){if(!(3&e.type))return;const l=n.data,c=l[s+1],u=function $$(n){return 1==(1&n)}(c)?jN(l,e,t,r,Yc(c),o):void 0;Ov(u)||(Ov(a)||function q$(n){return 2==(2&n)}(c)&&(a=jN(l,null,t,r,s,o)),function cq(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let a=-1===i.indexOf("-")?void 0:Ra.DashCase;null==r?n.removeStyle(t,i,a):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),a|=Ra.Important),n.setStyle(t,i,r,a))}}(i,o,Kg(va(),t),r,a))}(a,a.data[va()],r,r[11],n,r[o+1]=function uj(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=fi(Ka(n)))),n}(e,t),i,o)}function lw(n,e,t,i,r){let a=null;const o=t.directiveEnd;let s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<o&&(a=e[s],i=_m(i,a.hostAttrs,r),a!==n);)s++;return null!==n&&(t.directiveStylingLast=s),i}function _m(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Za(n,o,!!t||e[++a]))}return void 0===n?null:n}function jN(n,e,t,i,r,a){const o=null===e;let s;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===en&&(h=d?ri:void 0);let f=d?Qx(h,i):u===i?h:void 0;if(c&&!Ov(f)&&(f=Qx(l,i)),Ov(f)&&(s=f,o))return s;const m=n[r+1];r=o?Zl(m):Yc(m)}if(null!==e){let l=a?e.residualClasses:e.residualStyles;null!=l&&(s=Qx(l,i))}return s}function Ov(n){return void 0!==n}function $n(n,e=""){const t=We(),i=Gn(),r=n+22,a=i.firstCreatePass?Ed(i,r,1,e,null):i.data[r],o=t[r]=function d1(n,e){return n.createText(e)}(t[11],e);pv(i,t,o,a),ps(a,!1)}function Kl(n){return cw("",n,""),Kl}function cw(n,e,t){const i=We(),r=function Ad(n,e,t,i){return ra(n,dd(),t)?e+jt(t)+i:en}(i,n,e,t);return r!==en&&function rl(n,e,t){const i=Kg(e,n);!function UT(n,e,t){n.setValue(e,t)}(n[11],i,t)}(i,va(),r),cw}function Ld(n,e,t){const i=We();return ra(i,dd(),e)&&Qa(Gn(),qi(),i,n,e,i[11],t,!0),Ld}const zd="en-US";let pI=zd;function hw(n,e,t,i,r){if(n=Ft(n),Array.isArray(n))for(let a=0;a<n.length;a++)hw(n[a],e,t,i,r);else{const a=Gn(),o=We();let s=qc(n)?n:Ft(n.provide),l=M2(n);const c=Vr(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(qc(n)||!n.multi){const f=new Qf(l,r,ve),m=mw(s,e,r?u:u+h,d);-1===m?(Xx(sv(c,o),a,s),fw(a,n,e.length),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[m]=f,o[m]=f)}else{const f=mw(s,e,u+h,d),m=mw(s,e,u,u+h),p=f>=0&&t[f],g=m>=0&&t[m];if(r&&!g||!r&&!p){Xx(sv(c,o),a,s);const _=function AX(n,e,t,i,r){const a=new Qf(n,t,ve);return a.multi=[],a.index=e,a.componentProviders=0,UI(a,r,i&&!t),a}(r?DX:EX,t.length,r,i,l);!r&&g&&(t[m].providerFactory=_),fw(a,n,e.length,0),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(_),o.push(_)}else fw(a,n,f>-1?f:m,UI(t[r?m:f],l,!r&&i));!r&&i&&g&&t[m].componentProviders++}}}function fw(n,e,t,i){const r=qc(e),a=function Gq(n){return!!n.useClass}(e);if(r||a){const l=(a?Ft(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function UI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function EX(n,e,t,i){return pw(this.multi,[])}function DX(n,e,t,i){const r=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,s=zc(t,t[1],this.providerFactory.index,i);a=s.slice(0,o),pw(r,a);for(let l=o;l<s.length;l++)a.push(s[l])}else a=[],pw(r,a);return a}function pw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function In(n,e=[]){return t=>{t.providersResolver=(i,r)=>function CX(n,e,t){const i=Gn();if(i.firstCreatePass){const r=jo(n);hw(t,i.data,i.blueprint,r,!0),hw(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Ud{}class VI{}class HI extends Ud{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aN(this);const i=$a(e);this._bootstrapComponents=il(i.bootstrap),this._r3Injector=B2(e,t,[{provide:Ud,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],fi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class gw extends VI{constructor(e){super(),this.moduleType=e}create(e){return new HI(this.moduleType,e)}}class NX extends Ud{constructor(e,t,i){super(),this.componentFactoryResolver=new aN(this),this.instance=null;const r=new w2([...e,{provide:Ud,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],t||Sv(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Uv(n,e,t=null){return new NX(n,e,t).injector}let IX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=_2(0,t.type),r=i.length>0?Uv([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=pt({token:n,providedIn:"environment",factory:()=>new n(Oe(el))}),n})();function vw(n){n.getStandaloneInjector=e=>e.get(IX).getOrCreateStandaloneInjector(n)}function Vv(n,e,t,i){return function YI(n,e,t,i,r,a){const o=e+t;return ra(n,o,r)?function ys(n,e,t){return n[e]=t}(n,o+1,a?i.call(a,r):i(r)):function Sm(n,e){const t=n[e];return t===en?void 0:t}(n,o+1)}(We(),function ga(){const n=Jt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function yw(n){return e=>{setTimeout(n,void 0,e)}}const Fn=class nY extends fn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,a=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),a=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(a=yw(a),r&&(r=yw(r)),o&&(o=yw(o)));const s=super.subscribe({next:r,error:a,complete:o});return e instanceof ut&&e.add(s),s}};function iY(){return this._results[jc()]()}class Vd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jc(),i=Vd.prototype;i[t]||(i[t]=iY)}get changes(){return this._changes||(this._changes=new Fn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function yo(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fG(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],a=e[i];if(t&&(r=t(r),a=t(a)),a!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ws=(()=>{class n{}return n.__NG_ELEMENT_ID__=oY,n})();const rY=ws,aY=class extends rY{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=Ev(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),U1(i,r,e),new fm(r)}};function oY(){return Hv(Vr(),We())}function Hv(n,e){return 4&n.type?new aY(e,n,Md(n,e)):null}let Ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=sY,n})();function sY(){return nF(Vr(),We())}const lY=Ja,eF=class extends lY{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Md(this._hostTNode,this._hostLView)}get injector(){return new fd(this._hostTNode,this._hostLView)}get parentInjector(){const e=jx(this._hostTNode,this._hostLView);if(oT(e)){const t=av(e,this._hostLView),i=rv(e);return new fd(t[1].data[i+8],t)}return new fd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,a;"number"==typeof i?r=i:null!=i&&(r=i.index,a=i.injector);const o=e.createEmbeddedView(t||{},a);return this.insert(o,r),o}createComponent(e,t,i,r,a){const o=e&&!function tm(n){return"function"==typeof n}(e);let s;if(o)s=t;else{const d=t||{};s=d.index,i=d.injector,r=d.projectableNodes,a=d.environmentInjector||d.ngModuleRef}const l=o?e:new mm(ci(e)),c=i||this.parentInjector;if(!a&&null==l.ngModule){const h=(o?c:this.parentInjector).get(el,null);h&&(a=h)}const u=l.create(c,r,void 0,a);return this.insert(u.hostView,s),u}insert(e,t){const i=e._lView,r=i[1];if(function L7(n){return $o(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new eF(d,d[6],d[3]);h.detach(h.indexOf(e))}}const a=this._adjustIndex(t),o=this._lContainer;!function tq(n,e,t,i){const r=10+i,a=t.length;i>0&&(t[r-1][4]=e),i<a-10?(e[4]=t[r],_T(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function nq(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const s=e[19];null!==s&&s.insertView(n),e[2]|=64}(r,i,o,a);const s=g1(a,o),l=i[11],c=mv(l,o[7]);return null!==c&&function QG(n,e,t,i,r,a){i[0]=r,i[6]=e,sm(n,i,t,1,r,a)}(r,o[6],l,i,c,s),e.attachToViewContainerRef(),_T(bw(o),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=f1(this._lContainer,t);i&&(cv(bw(this._lContainer),t),HT(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=f1(this._lContainer,t);return i&&null!=cv(bw(this._lContainer),t)?new fm(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function tF(n){return n[8]}function bw(n){return n[8]||(n[8]=[])}function nF(n,e){let t;const i=e[n.index];if($o(i))t=i;else{let r;if(8&n.type)r=Ur(i);else{const a=e[11];r=a.createComment("");const o=Xa(n,e);Vc(a,mv(a,o),r,function oq(n,e){return n.nextSibling(e)}(a,o),!1)}e[n.index]=t=eN(i,e,r,n),Av(e,t)}return new eF(t,n,e)}class xw{constructor(e){this.queryList=e,this.matches=null}clone(){return new xw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ww{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let a=0;a<i;a++){const o=t.getByIndex(a);r.push(this.queries[o.indexInDeclarationView].clone())}return new ww(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sF(e,t).matches&&this.queries[t].setDirty()}}class iF{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Mw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,a=this.getByIndex(i).embeddedTView(e,r);a&&(a.indexInDeclarationView=i,null!==t?t.push(a):t=[a])}return null!==t?new Mw(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Sw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Sw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const a=i[r];this.matchTNodeWithReadOption(e,t,cY(t,a)),this.matchTNodeWithReadOption(e,t,lv(t,e,a,!1,!1))}else i===ws?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,lv(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Bn||r===Ja||r===ws&&4&t.type)this.addMatch(t.index,-2);else{const a=lv(t,e,r,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function cY(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function dY(n,e,t,i){return-1===t?function uY(n,e){return 11&n.type?Md(n,e):4&n.type?Hv(n,e):null}(e,n):-2===t?function hY(n,e,t){return t===Bn?Md(e,n):t===ws?Hv(e,n):t===Ja?nF(e,n):void 0}(n,e,i):zc(n,n[1],t,e)}function rF(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const a=n.data,o=t.matches,s=[];for(let l=0;l<o.length;l+=2){const c=o[l];s.push(c<0?null:dY(e,a[c],o[l+1],t.metadata.read))}r.matches=s}return r.matches}function Cw(n,e,t,i){const r=n.queries.getByIndex(t),a=r.matches;if(null!==a){const o=rF(n,e,r,t);for(let s=0;s<a.length;s+=2){const l=a[s];if(l>0)i.push(o[s/2]);else{const c=a[s+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Cw(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Cw(f[1],f,c,i)}}}}}return i}function Jn(n){const e=We(),t=Gn(),i=ZA();zx(i+1);const r=sF(t,i);if(n.dirty&&function P7(n){return 4==(4&n[2])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const a=r.crossesNgTemplate?Cw(t,e,i,[]):rF(t,e,r,i);n.reset(a,eW),n.notifyOnChanges()}return!0}return!1}function Hr(n,e,t){const i=Gn();i.firstCreatePass&&(oF(i,new iF(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),aF(i,We(),e)}function oa(n,e,t,i){const r=Gn();if(r.firstCreatePass){const a=Vr();oF(r,new iF(e,t,i),a.index),function mY(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}aF(r,We(),t)}function ei(){return function fY(n,e){return n[19].queries[e].queryList}(We(),ZA())}function aF(n,e,t){const i=new Vd(4==(4&t));X2(n,e,i,i.destroy),null===e[19]&&(e[19]=new ww),e[19].queries.push(new xw(i))}function oF(n,e,t){null===n.queries&&(n.queries=new Mw),n.queries.track(new Sw(e,t))}function sF(n,e){return n.queries.getByIndex(e)}function Gv(n,e){return Hv(n,e)}function Wv(...n){}const $v=new je("Application Initializer");let jv=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Wv,this.reject=Wv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const a=this.appInits[r]();if(vm(a))t.push(a);else if(iw(a)){const o=new Promise((s,l)=>{a.subscribe({complete:s,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Oe($v,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dm=new je("AppId",{providedIn:"root",factory:function EF(){return`${Nw()}${Nw()}${Nw()}`}});function Nw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DF=new je("Platform Initializer"),Iw=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AF=new je("appBootstrapListener"),wo=new je("AnimationModuleType");let RY=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ms=new je("LocaleId",{providedIn:"root",factory:()=>mn(Ms,Vt.Optional|Vt.SkipSelf)||function OY(){return typeof $localize<"u"&&$localize.locale||zd}()});class LY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TF=(()=>{class n{compileModuleSync(t){return new gw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),a=il($a(t).declarations).reduce((o,s)=>{const l=ci(s);return l&&o.push(new mm(l)),o},[]);return new LY(i,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UY=(()=>Promise.resolve(0))();function Fw(n){typeof Zone>"u"?UY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Xt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fn(!1),this.onMicrotaskEmpty=new Fn(!1),this.onStable=new Fn(!1),this.onError=new Fn(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function VY(){let n=Di.requestAnimationFrame,e=Di.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function qY(n){const e=()=>{!function GY(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Di,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rw(n),n.isCheckStableRunning=!0,kw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,a,o,s)=>{try{return FF(n),t.invokeTask(r,a,o,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&e(),kF(n)}},onInvoke:(t,i,r,a,o,s,l)=>{try{return FF(n),t.invoke(r,a,o,s,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),kF(n)}},onHasTask:(t,i,r,a)=>{t.hasTask(r,a),i===r&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,Rw(n),kw(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,i,r,a)=>(t.handleError(r,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xt.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Xt.isInAngularZone())throw new Re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+r,e,HY,Wv,Wv);try{return a.runTask(o,t,i)}finally{a.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const HY={};function kw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kF(n){n._nesting--,kw(n)}class WY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fn,this.onMicrotaskEmpty=new Fn,this.onStable=new Fn,this.onError=new Fn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const RF=new je(""),Xv=new je("");let Lw,Ow=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lw||(function $Y(n){Lw=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xt.assertNotInAngularZone(),Fw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Oe(Xt),Oe(Pw),Oe(Xv))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Pw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Lw?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ql=null;const OF=new je("AllowMultipleToken"),Bw=new je("PlatformDestroyListeners");class PF{constructor(e,t){this.name=e,this.token=t}}function BF(n,e,t=[]){const i=`Platform: ${e}`,r=new je(i);return(a=[])=>{let o=zw();if(!o||o.injector.get(OF,!1)){const s=[...t,...a,{provide:r,useValue:!0}];n?n(s):function YY(n){if(Ql&&!Ql.get(OF,!1))throw new Re(400,!1);Ql=n;const e=n.get(UF);(function LF(n){const e=n.get(DF,null);e&&e.forEach(t=>t())})(n)}(function zF(n=[],e){return Pa.create({name:e,providers:[{provide:A1,useValue:"platform"},{provide:Bw,useValue:new Set([()=>Ql=null])},...n]})}(s,i))}return function KY(n){const e=zw();if(!e)throw new Re(401,!1);return e}()}}function zw(){return Ql?.get(UF)??null}let UF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function HF(n,e){let t;return t="noop"===n?new WY:("zone.js"===n?void 0:n)||new Xt(e),t}(i?.ngZone,function VF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),a=[{provide:Xt,useValue:r}];return r.run(()=>{const o=Pa.create({providers:a,parent:this.injector,name:t.moduleType.name}),s=t.create(o),l=s.injector.get(nl,null);if(!l)throw new Re(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});s.onDestroy(()=>{Yv(this._modules,s),c.unsubscribe()})}),function GF(n,e,t){try{const i=t();return vm(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=s.injector.get(jv);return c.runInitializers(),c.donePromise.then(()=>(function gI(n){go(n,"Expected localeId to be defined"),"string"==typeof n&&(pI=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ms,zd)||zd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=qF({},i);return function jY(n,e,t){const i=new gw(t);return Promise.resolve(i)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,r))}_moduleDoBootstrap(t){const i=t.injector.get(qd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Re(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Bw,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pa))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function qF(n,e){return Array.isArray(e)?e.reduce(qF,n):{...n,...e}}let qd=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Tn(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),o=new Tn(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Xt.assertNotInAngularZone(),Fw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Xt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Oc(a,o.pipe(zg()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof S2;if(!this._injector.get(jv).done)throw!r&&function ad(n){const e=ci(n)||Jr(n)||ma(n);return null!==e&&e.standalone}(t),new Re(405,false);let o;o=r?t:this._injector.get(Wc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const s=function XY(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ud),c=o.create(Pa.NULL,[],i||o.selector,s),u=c.location.nativeElement,d=c.injector.get(RF,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Yv(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Yv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(AF,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Re(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Oe(Xt),Oe(el),Oe(nl))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Mo=(()=>{class n{}return n.__NG_ELEMENT_ID__=JY,n})();function JY(n){return function eZ(n,e,t){if(Zf(n)&&!t){const i=Ya(n.index,e);return new fm(i,i)}return 47&n.type?new fm(e[16],e):null}(Vr(),We(),16==(16&n))}class YF{constructor(){}supports(e){return pm(e)}create(e){return new oZ(e)}}const aZ=(n,e)=>e;class oZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,a=null;for(;t||i;){const o=!i||t&&t.currentIndex<KF(i,r,a)?t:i,s=KF(o,r,a),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{a||(a=[]);const c=s-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<a.length?a[h]:a[h]=0,m=f+h;u<=m&&m<c&&(a[h]=f+1)}a[o.previousIndex]=u-c}}s!==l&&e(o,s,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pm(e))throw new Re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,a,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)a=e[s],o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next}else r=0,function O$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[jc()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,s=>{o=this._trackByFn(r,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,r)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,r)):e=this._addAfter(new sZ(t,i),a,r),e}_verifyReinsertion(e,t,i,r){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?e=this._reinsertAfter(a,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,a=e._nextRemoved;return null===r?this._removalsHead=a:r._nextRemoved=a,null===a?this._removalsTail=r:a._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZF),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ZF{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new lZ,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KF(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class QF{constructor(){}supports(e){return e instanceof Map||J1(e)}create(){return new cZ}}class cZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||J1(e)))throw new Re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const a=r._prev,o=r._next;return a&&(a._next=o),o&&(o._prev=a),r._next=null,r._prev=null,r}const i=new uZ(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class uZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JF(){return new Qv([new YF])}let Qv=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||JF()),deps:[[n,new yd,new Qs]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Re(901,!1)}}return n.\u0275prov=pt({token:n,providedIn:"root",factory:JF}),n})();function ek(){return new Am([new QF])}let Am=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ek()),deps:[[n,new yd,new Qs]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Re(901,!1)}}return n.\u0275prov=pt({token:n,providedIn:"root",factory:ek}),n})();const fZ=BF(null,"core",[]);let mZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Oe(qd))},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();function Wd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let qw=null;function Ss(){return qw}class vZ{}const En=new je("DocumentToken");let Ww=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return function _Z(){return Oe(tk)}()},providedIn:"platform"}),n})();const yZ=new je("Location Initialized");let tk=(()=>{class n extends Ww{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ss().getBaseHref(this._doc)}onPopState(t){const i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){nk()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){nk()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:function(){return function bZ(){return new tk(Oe(En))}()},providedIn:"platform"}),n})();function nk(){return!!window.history.pushState}function $w(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ik(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function sl(n){return n&&"?"!==n[0]?"?"+n:n}let Qc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return mn(ak)},providedIn:"root"}),n})();const rk=new je("appBaseHref");let ak=(()=>{class n extends Qc{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??mn(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $w(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+sl(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const o=this.prepareExternalUrl(r+sl(a));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,a){const o=this.prepareExternalUrl(r+sl(a));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Ww),Oe(rk,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xZ=(()=>{class n extends Qc{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=$w(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let o=this.prepareExternalUrl(r+sl(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,a){let o=this.prepareExternalUrl(r+sl(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Ww),Oe(rk,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Jv=(()=>{class n{constructor(t){this._subject=new Fn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function SZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ik(ok(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+sl(i))}normalize(t){return n.stripTrailingSlash(function MZ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,ok(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sl(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=sl,n.joinWithSlash=$w,n.stripTrailingSlash=ik,n.\u0275fac=function(t){return new(t||n)(Oe(Qc))},n.\u0275prov=pt({token:n,factory:function(){return function wZ(){return new Jv(Oe(Qc))}()},providedIn:"root"}),n})();function ok(n){return n.replace(/\/index.html$/,"")}let pk=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(pm(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${fi(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(ve(Qv),ve(Am),ve(Bn),ve(tl))},n.\u0275dir=at({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class cK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _k=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new cK(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===a?void 0:a);else if(null!==a){const s=i.get(a);i.move(s,o),yk(s,r)}});for(let r=0,a=i.length;r<a;r++){const s=i.get(r).context;s.index=r,s.count=a,s.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{yk(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ve(Ja),ve(ws),ve(Qv))},n.\u0275dir=at({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function yk(n,e){n.context.$implicit=e.item}let u0=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ve(Ja),ve(ws))},n.\u0275dir=at({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dK{constructor(){this.$implicit=null,this.ngIf=null}}function bk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${fi(e)}'.`)}class nM{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let d0=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),xk=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new nM(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(ve(Ja),ve(ws),ve(d0,9))},n.\u0275dir=at({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),iM=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,a,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ve(Ja))},n.\u0275dir=at({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[na]}),n})(),Jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();const Sk="browser";let HK=(()=>{class n{}return n.\u0275prov=pt({token:n,providedIn:"root",factory:()=>new GK(Oe(En),window)}),n})();class GK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const o=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ck(this.window.history)||Ck(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ck(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _Q extends vZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lM extends _Q{static makeCurrent(){!function gZ(n){qw||(qw=n)}(new lM)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yQ(){return Fm=Fm||document.querySelector("base"),Fm?Fm.getAttribute("href"):null}();return null==t?null:function bQ(n){f0=f0||document.createElement("a"),f0.setAttribute("href",n);const e=f0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function sK(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let f0,Fm=null;const Ik=new je("TRANSITION_ID"),wQ=[{provide:$v,useFactory:function xQ(n,e,t){return()=>{t.get(jv).donePromise.then(()=>{const i=Ss(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ik,En,Pa],multi:!0}];let SQ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const m0=new je("EventManagerPlugins");let p0=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const o=r[a];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Oe(m0),Oe(Xt))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class Fk{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Ss().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let kk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),km=(()=>{class n extends kk{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const o=this._doc.createElement("style");o.textContent=a,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Rk),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Rk))}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function Rk(n){Ss().remove(n)}const cM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uM=/%COMP%/g;function dM(n,e){return e.flat(100).map(t=>t.replace(uM,n))}function Lk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let g0=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hM(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case qo.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new NQ(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case qo.ShadowDom:return new IQ(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=dM(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Oe(p0),Oe(km),Oe(Dm))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class hM{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(cM[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(zk(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(zk(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=cM[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=cM[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ra.DashCase|Ra.Important)?e.style.setProperty(t,i,r&Ra.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ra.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lk(i)):this.eventManager.addEventListener(e,t,Lk(i))}}function zk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class NQ extends hM{constructor(e,t,i,r){super(e),this.component=i;const a=dM(r+"-"+i.id,i.styles);t.addStyles(a),this.contentAttr=function DQ(n){return"_ngcontent-%COMP%".replace(uM,n)}(r+"-"+i.id),this.hostAttr=function AQ(n){return"_nghost-%COMP%".replace(uM,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class IQ extends hM{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=dM(r.id,r.styles);for(let o=0;o<a.length;o++){const s=document.createElement("style");s.textContent=a[o],this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let FQ=(()=>{class n extends Fk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const Uk=["alt","control","meta","shift"],kQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let OQ=(()=>{class n extends Fk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),o=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ss().onAndCancel(t,a.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let o="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),o="code."),Uk.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=kQ[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Uk.forEach(o=>{o!==r&&(0,RQ[o])(t)&&(a+=o+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const zQ=BF(fZ,"browser",[{provide:Iw,useValue:Sk},{provide:DF,useValue:function PQ(){lM.makeCurrent()},multi:!0},{provide:En,useFactory:function BQ(){return function mq(n){b1=n}(document),document},deps:[]}]),Gk=new je(""),qk=[{provide:Xv,useClass:class MQ{addToWindow(e){Di.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},Di.getAllAngularTestabilities=()=>e.getAllTestabilities(),Di.getAllAngularRootElements=()=>e.getAllRootElements(),Di.frameworkStabilizers||(Di.frameworkStabilizers=[]),Di.frameworkStabilizers.push(i=>{const r=Di.getAllAngularTestabilities();let a=r.length,o=!1;const s=function(l){o=o||l,a--,0==a&&i(o)};r.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ss().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RF,useClass:Ow,deps:[Xt,Pw,Xv]},{provide:Ow,useClass:Ow,deps:[Xt,Pw,Xv]}],Wk=[{provide:A1,useValue:"root"},{provide:nl,useFactory:function LQ(){return new nl},deps:[]},{provide:m0,useClass:FQ,multi:!0,deps:[En,Xt,Iw]},{provide:m0,useClass:OQ,multi:!0,deps:[En]},{provide:g0,useClass:g0,deps:[p0,km,Dm]},{provide:um,useExisting:g0},{provide:kk,useExisting:km},{provide:km,useClass:km,deps:[En]},{provide:p0,useClass:p0,deps:[m0,Xt]},{provide:class WK{},useClass:SQ,deps:[]},[]];let $k=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Dm,useValue:t.appId},{provide:Ik,useExisting:Dm},wQ]}}}return n.\u0275fac=function(t){return new(t||n)(Oe(Gk,12))},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({providers:[...Wk,...qk],imports:[Jc,mZ]}),n})(),jk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:function(t){let i=null;return i=t?new t:function VQ(){return new jk(Oe(En))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let pM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(t){let i=null;return i=t?new(t||n):Oe(Zk),i},providedIn:"root"}),n})(),Zk=(()=>{class n extends pM{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case ai.NONE:return i;case ai.HTML:return vs(i,"HTML")?Ka(i):h2(this._doc,String(i)).toString();case ai.STYLE:return vs(i,"Style")?Ka(i):i;case ai.SCRIPT:if(vs(i,"Script"))return Ka(i);throw new Error("unsafe value used in a script context");case ai.URL:return vs(i,"URL")?Ka(i):yv(String(i));case ai.RESOURCE_URL:if(vs(i,"ResourceURL"))return Ka(i);throw new Error(`unsafe value used in a resource URL context (see ${id})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${id})`)}}bypassSecurityTrustHtml(t){return function xq(n){return new pq(n)}(t)}bypassSecurityTrustStyle(t){return function wq(n){return new gq(n)}(t)}bypassSecurityTrustScript(t){return function Mq(n){return new vq(n)}(t)}bypassSecurityTrustUrl(t){return function Sq(n){return new _q(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Cq(n){return new yq(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:function(t){let i=null;return i=t?new t:function XQ(n){return new Zk(n.get(En))}(Oe(Pa)),i},providedIn:"root"}),n})();function It(...n){return Xi(n,Rc(n))}class Eo extends fn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const v0=ni(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:YQ}=Array,{getPrototypeOf:ZQ,prototype:KQ,keys:QQ}=Object;function Kk(n){if(1===n.length){const e=n[0];if(YQ(e))return{args:e,keys:null};if(function JQ(n){return n&&"object"==typeof n&&ZQ(n)===KQ}(e)){const t=QQ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:eJ}=Array;function gM(n){return Ut(e=>function tJ(n,e){return eJ(e)?n(...e):n(e)}(n,e))}function Qk(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function vM(...n){const e=Rc(n),t=Pg(n),{args:i,keys:r}=Kk(n);if(0===i.length)return Xi([],e);const a=new Tn(function nJ(n,e,t=Ln){return i=>{Jk(e,()=>{const{length:r}=n,a=new Array(r);let o=r,s=r;for(let l=0;l<r;l++)Jk(e,()=>{const c=Xi(n[l],e);let u=!1;c.subscribe(Ei(i,d=>{a[l]=d,u||(u=!0,s--),s||i.next(t(a.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Qk(r,o):Ln));return t?a.pipe(gM(t)):a}function Jk(n,e,t){n?Bi(t,n,e):e()}function _0(...n){return function iJ(){return po(1)}()(Xi(n,Rc(n)))}function eR(n){return new Tn(e=>{ii(n()).subscribe(e)})}function $d(n,e){const t=ht(n)?n:()=>n,i=r=>r.error(t());return new Tn(e?r=>e.schedule(i,0,r):i)}function _M(){return Li((n,e)=>{let t=null;n._refCount++;const i=Ei(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tR extends Tn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Tg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ut;const t=this.getSubject();e.add(this.source.subscribe(Ei(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ut.EMPTY)}return e}refCount(){return _M()(this)}}function Cs(n,e){return Li((t,i)=>{let r=null,a=0,o=!1;const s=()=>o&&!r&&i.complete();t.subscribe(Ei(i,l=>{r?.unsubscribe();let c=0;const u=a++;ii(n(l,u)).subscribe(r=Ei(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,s()}))},()=>{o=!0,s()}))})}function cl(n){return n<=0?()=>qa:Li((e,t)=>{let i=0;e.subscribe(Ei(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Rm(...n){const e=Rc(n);return Li((t,i)=>{(e?_0(n,t,e):_0(n,t)).subscribe(i)})}function sa(n,e){return Li((t,i)=>{let r=0;t.subscribe(Ei(i,a=>n.call(e,a,r++)&&i.next(a)))})}function y0(n){return Li((e,t)=>{let i=!1;e.subscribe(Ei(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nR(n=rJ){return Li((e,t)=>{let i=!1;e.subscribe(Ei(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rJ(){return new v0}function ec(n,e){const t=arguments.length>=2;return i=>i.pipe(n?sa((r,a)=>n(r,a,i)):Ln,cl(1),t?y0(e):nR(()=>new v0))}function tc(n,e){return ht(e)?Gi(n,e,1):Gi(n,1)}function dr(n,e,t){const i=ht(n)||e||t?{next:n,error:e,complete:t}:n;return i?Li((r,a)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let s=!0;r.subscribe(Ei(a,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),a.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),a.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),a.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ln}function ul(n){return Li((e,t)=>{let a,i=null,r=!1;i=e.subscribe(Ei(t,void 0,void 0,o=>{a=ii(n(o,ul(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function aJ(n,e,t,i,r){return(a,o)=>{let s=t,l=e,c=0;a.subscribe(Ei(o,u=>{const d=c++;l=s?n(l,u,d):(s=!0,u),i&&o.next(l)},r&&(()=>{s&&o.next(l),o.complete()})))}}function iR(n,e){return Li(aJ(n,e,arguments.length>=2,!0))}function yM(n){return n<=0?()=>qa:Li((e,t)=>{let i=[];e.subscribe(Ei(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function rR(n,e){const t=arguments.length>=2;return i=>i.pipe(n?sa((r,a)=>n(r,a,i)):Ln,yM(1),t?y0(e):nR(()=>new v0))}function b0(n){return Li((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const xn="primary",Om=Symbol("RouteTitle");class lJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jd(n){return new lJ(n)}function cJ(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const o=i[a],s=n[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Es(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!aR(n[r],e[r]))return!1;return!0}function aR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function oR(n){return Array.prototype.concat.apply([],n)}function sR(n){return n.length>0?n[n.length-1]:null}function Gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function nc(n){return iw(n)?n:vm(n)?Xi(Promise.resolve(n)):It(n)}const x0=!1,dJ={exact:function uR(n,e,t){if(!tu(n.segments,e.segments)||!w0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!uR(n.children[i],e.children[i],t))return!1;return!0},subset:dR},lR={exact:function hJ(n,e){return Es(n,e)},subset:function fJ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aR(n[t],e[t]))},ignored:()=>!0};function cR(n,e,t){return dJ[t.paths](n.root,e.root,t.matrixParams)&&lR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dR(n,e,t){return hR(n,e,e.segments,t)}function hR(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!tu(r,t)||e.hasChildren()||!w0(r,t,i))}if(n.segments.length===t.length){if(!tu(n.segments,t)||!w0(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!dR(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(tu(n.segments,r)&&w0(n.segments,r,i)&&n.children[xn])&&hR(n.children[xn],e,a,i)}}function w0(n,e,t){return e.every((i,r)=>lR[t](n[r].parameters,i.parameters))}class eu{constructor(e=new Dn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jd(this.queryParams)),this._queryParamMap}toString(){return gJ.serialize(this)}}class Dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return M0(this)}}class Pm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=jd(this.parameters)),this._parameterMap}toString(){return pR(this)}}function tu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return new bM},providedIn:"root"}),n})();class bM{parse(e){const t=new CJ(e);return new eu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bm(e.root,!0)}`,i=function yJ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${S0(t)}=${S0(r)}`).join("&"):`${S0(t)}=${S0(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function vJ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gJ=new bM;function M0(n){return n.segments.map(e=>pR(e)).join("/")}function Bm(n,e){if(!n.hasChildren())return M0(n);if(e){const t=n.children[xn]?Bm(n.children[xn],!1):"",i=[];return Gr(n.children,(r,a)=>{a!==xn&&i.push(`${a}:${Bm(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function pJ(n,e){let t=[];return Gr(n.children,(i,r)=>{r===xn&&(t=t.concat(e(i,r)))}),Gr(n.children,(i,r)=>{r!==xn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===xn?[Bm(n.children[xn],!1)]:[`${r}:${Bm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xn]?`${M0(n)}/${t[0]}`:`${M0(n)}/(${t.join("//")})`}}function fR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function S0(n){return fR(n).replace(/%3B/gi,";")}function xM(n){return fR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function C0(n){return decodeURIComponent(n)}function mR(n){return C0(n.replace(/\+/g,"%20"))}function pR(n){return`${xM(n.path)}${function _J(n){return Object.keys(n).map(e=>`;${xM(e)}=${xM(n[e])}`).join("")}(n.parameters)}`}const bJ=/^[^\/()?;=#]+/;function E0(n){const e=n.match(bJ);return e?e[0]:""}const xJ=/^[^=?&#]+/,MJ=/^[^&#]+/;class CJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[xn]=new Dn(e,t)),i}parseSegment(){const e=E0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Re(4009,x0);return this.capture(e),new Pm(C0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=E0(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=E0(this.remaining);r&&(i=r,this.capture(i))}e[C0(t)]=C0(i)}parseQueryParam(e){const t=function wJ(n){const e=n.match(xJ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function SJ(n){const e=n.match(MJ);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=mR(t),a=mR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=E0(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Re(4010,x0);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=xn);const o=this.parseChildren();t[a]=1===Object.keys(o).length?o[xn]:new Dn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Re(4011,x0)}}function wM(n){return n.segments.length>0?new Dn([],{[xn]:n}):n}function D0(n){const e={};for(const i of Object.keys(n.children)){const a=D0(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function EJ(n){if(1===n.numberOfChildren&&n.children[xn]){const e=n.children[xn];return new Dn(n.segments.concat(e.segments),e.children)}return n}(new Dn(n.segments,e))}function nu(n){return n instanceof eu}function TJ(n,e,t,i,r){if(0===t.length)return Xd(e.root,e.root,e.root,i,r);const a=function _R(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vR(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const s={};return Gr(a.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:s}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===o?(a.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?t=!0:".."===s?e++:""!=s&&r.push(s))}),r):[...r,a]},[]);return new vR(t,e,i)}(t);return a.toRoot()?Xd(e.root,e.root,new Dn([],{}),i,r):function o(l){const c=function IJ(n,e,t,i){if(n.isAbsolute)return new Yd(e.root,!0,0);if(-1===i)return new Yd(t,t===e.root,0);return function yR(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Re(4005,!1);r=i.segments.length}return new Yd(i,!1,r-a)}(t,i+(zm(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,l),u=c.processChildren?Vm(c.segmentGroup,c.index,a.commands):SM(c.segmentGroup,c.index,a.commands);return Xd(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function zm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Um(n){return"object"==typeof n&&null!=n&&n.outlets}function Xd(n,e,t,i,r){let o,a={};i&&Gr(i,(l,c)=>{a[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:gR(n,e,t);const s=wM(D0(o));return new eu(s,a,r)}function gR(n,e,t){const i={};return Gr(n.children,(r,a)=>{i[a]=r===e?t:gR(r,e,t)}),new Dn(n.segments,i)}class vR{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zm(i[0]))throw new Re(4003,!1);const r=i.find(Um);if(r&&r!==sR(i))throw new Re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function SM(n,e,t){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return Vm(n,e,t);const i=function kJ(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const o=n.segments[r],s=t[i];if(Um(s))break;const l=`${s}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xR(l,c,o))return a;i+=2}else{if(!xR(l,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Dn(n.segments.slice(0,i.pathIndex),{});return a.children[xn]=new Dn(n.segments.slice(i.pathIndex),n.children),Vm(a,0,r)}return i.match&&0===r.length?new Dn(n.segments,{}):i.match&&!n.hasChildren()?CM(n,e,t):i.match?Vm(n,0,r):CM(n,e,t)}function Vm(n,e,t){if(0===t.length)return new Dn(n.segments,{});{const i=function FJ(n){return Um(n[0])?n[0].outlets:{[xn]:n}}(t),r={};return Gr(i,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[o]=SM(n.children[o],e,a))}),Gr(n.children,(a,o)=>{void 0===i[o]&&(r[o]=a)}),new Dn(n.segments,r)}}function CM(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Um(a)){const l=RJ(a.outlets);return new Dn(i,l)}if(0===r&&zm(t[0])){i.push(new Pm(n.segments[e].path,bR(t[0]))),r++;continue}const o=Um(a)?a.outlets[xn]:`${a}`,s=r<t.length-1?t[r+1]:null;o&&s&&zm(s)?(i.push(new Pm(o,bR(s))),r+=2):(i.push(new Pm(o,{})),r++)}return new Dn(i,{})}function RJ(n){const e={};return Gr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=CM(new Dn([],{}),0,t))}),e}function bR(n){const e={};return Gr(n,(t,i)=>e[i]=`${t}`),e}function xR(n,e,t){return n==t.path&&Es(e,t.parameters)}class dl{constructor(e,t){this.id=e,this.url=t}}class EM extends dl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class iu extends dl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class A0 extends dl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wR extends dl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OJ extends dl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PJ extends dl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LJ extends dl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BJ extends dl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zJ extends dl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MR{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jJ=(()=>{class n{createUrlTree(t,i,r,a,o,s){return TJ(t||i.root,r,a,o,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),XJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(e){return jJ.\u0275fac(e)},providedIn:"root"}),n})();class SR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DM(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=DM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=AM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return AM(e,this._root).map(t=>t.value)}}function DM(n,e){if(n===e.value)return e;for(const t of e.children){const i=DM(n,t);if(i)return i}return null}function AM(n,e){if(n===e.value)return[e];for(const t of e.children){const i=AM(n,t);if(i.length)return i.unshift(e),i}return[]}class hl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CR extends SR{constructor(e,t){super(e),this.snapshot=t,TM(this,e)}toString(){return this.snapshot.toString()}}function ER(n,e){const t=function YJ(n,e){const o=new T0([],{},{},"",{},xn,e,null,n.root,-1,{});return new AR("",new hl(o,[]))}(n,e),i=new Eo([new Pm("",{})]),r=new Eo({}),a=new Eo({}),o=new Eo({}),s=new Eo(""),l=new Kd(i,r,o,s,a,xn,e,t.root);return l.snapshot=t.root,new CR(new hl(l,[]),t)}class Kd{constructor(e,t,i,r,a,o,s,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.title=this.data?.pipe(Ut(c=>c[Om]))??It(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ut(e=>jd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ut(e=>jd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DR(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function ZJ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class T0{constructor(e,t,i,r,a,o,s,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get title(){return this.data?.[Om]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AR extends SR{constructor(e,t){super(t),this.url=e,TM(this,t)}toString(){return TR(this._root)}}function TM(n,e){e.value._routerState=n,e.children.forEach(t=>TM(n,t))}function TR(n){const e=n.children.length>0?` { ${n.children.map(TR).join(", ")} } `:"";return`${n.value}${e}`}function NM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Es(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Es(e.params,t.params)||n.params.next(t.params),function uJ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Es(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function IM(n,e){const t=Es(n.params,e.params)&&function mJ(n,e){return tu(n,e)&&n.every((t,i)=>Es(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||IM(n.parent,e.parent))}function Hm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function QJ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hm(n,i,r);return Hm(n,i)})}(n,e,t);return new hl(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const o=a.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(s=>Hm(n,s)),o}}const i=function JJ(n){return new Kd(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Hm(n,a));return new hl(i,r)}}const FM="ngNavigationCancelingError";function NR(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=nu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=IR(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function IR(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[FM]=!0,i.cancellationCode=e,t&&(i.url=t),i}function FR(n){return kR(n)&&nu(n.url)}function kR(n){return n&&n[FM]}class eee{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gm,this.attachRef=null}}let Gm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new eee,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N0=!1;let kM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=xn,this.activateEvents=new Fn,this.deactivateEvents=new Fn,this.attachEvents=new Fn,this.detachEvents=new Fn,this.parentContexts=mn(Gm),this.location=mn(Ja),this.changeDetector=mn(Mo),this.environmentInjector=mn(el)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Re(4012,N0);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Re(4012,N0);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Re(4012,N0);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Re(4013,N0);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new tee(t,s,r.injector);if(i&&function nee(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[na]}),n})();class tee{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Kd?this.route:e===Gm?this.childContexts:this.parent.get(e,t)}}let RM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mi({type:n,selectors:[["ng-component"]],standalone:!0,features:[vw],decls:1,vars:0,template:function(t,i){1&t&&gn(0,"router-outlet")},dependencies:[kM],encapsulation:2}),n})();function RR(n,e){return n.providers&&!n._injector&&(n._injector=Uv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function PM(n){const e=n.children&&n.children.map(PM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xn&&(t.component=RM),t}function Do(n){return n.outlet||xn}function OR(n,e){const t=n.filter(i=>Do(i)===e);return t.push(...n.filter(i=>Do(i)!==e)),t}function qm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class see{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),NM(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Zd(t);e.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,r[o],i),delete r[o]}),Gr(r,(a,o)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Zd(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],r);if(i&&i.outlet){const o=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Zd(e);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Zd(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new WJ(a.value.snapshot))}),e.children.length&&this.forwardEvent(new GJ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(NM(r),r===a)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),NM(s.route.value),this.activateChildRoutes(e,null,o.children)}else{const s=qm(r.snapshot),l=s?.get(Wc)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=s,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class PR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class I0{constructor(e,t){this.component=e,this.route=t}}function lee(n,e,t){const i=n._root;return Wm(i,e?e._root:null,t,[i.value])}function Qd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function d7(n){return null!==Vg(n)}(n)?e.get(n):n:i}function Wm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Zd(e);return n.children.forEach(o=>{(function uee(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,o=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const l=function dee(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tu(n.url,e.url)||!Es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IM(n,e)||!Es(n.queryParams,e.queryParams);default:return!IM(n,e)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new PR(i)):(a.data=o.data,a._resolvedData=o._resolvedData),Wm(n,e,a.component?s?s.children:null:t,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new I0(s.outlet.component,o))}else o&&$m(e,s,r),r.canActivateChecks.push(new PR(i)),Wm(n,null,a.component?s?s.children:null:t,i,r)})(o,a[o.value.outlet],t,i.concat([o.value]),r),delete a[o.value.outlet]}),Gr(a,(o,s)=>$m(o,t.getContext(s),r)),r}function $m(n,e,t){const i=Zd(n),r=n.value;Gr(i,(a,o)=>{$m(a,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new I0(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function jm(n){return"function"==typeof n}function LM(n){return n instanceof v0||"EmptyError"===n?.name}const F0=Symbol("INITIAL_VALUE");function Jd(){return Cs(n=>vM(n.map(e=>e.pipe(cl(1),Rm(F0)))).pipe(Ut(e=>{for(const t of e)if(!0!==t){if(t===F0)return F0;if(!1===t||t instanceof eu)return t}return!0}),sa(e=>e!==F0),cl(1)))}function LR(n){return function si(...n){return Hs(n)}(dr(e=>{if(nu(e))throw NR(0,e)}),Ut(e=>!0===e))}const BM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BR(n,e,t,i,r){const a=zM(n,e,t);return a.matched?function Aee(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?It(r.map(o=>{const s=Qd(o,n);return nc(function vee(n){return n&&jm(n.canMatch)}(s)?s.canMatch(e,t):n.runInContext(()=>s(e,t)))})).pipe(Jd(),LR()):It(!0)}(i=RR(e,i),e,t).pipe(Ut(o=>!0===o?a:{...BM})):It(a)}function zM(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...BM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||cJ)(t,n,e);if(!r)return{...BM};const a={};Gr(r.posParams,(s,l)=>{a[l]=s.path});const o=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function k0(n,e,t,i){if(t.length>0&&function Iee(n,e,t){return t.some(i=>R0(n,e,i)&&Do(i)!==xn)}(n,t,i)){const a=new Dn(e,function Nee(n,e,t,i){const r={};r[xn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Do(a)!==xn){const o=new Dn([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Do(a)]=o}return r}(n,e,i,new Dn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function Fee(n,e,t){return t.some(i=>R0(n,e,i))}(n,t,i)){const a=new Dn(n.segments,function Tee(n,e,t,i,r){const a={};for(const o of i)if(R0(n,t,o)&&!r[Do(o)]){const s=new Dn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,a[Do(o)]=s}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Dn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function R0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zR(n,e,t,i){return!!(Do(n)===i||i!==xn&&R0(e,t,n))&&("**"===n.path||zM(e,n,t).matched)}function UR(n,e,t){return 0===e.length&&!n.children[t]}const O0=!1;class P0{constructor(e){this.segmentGroup=e||null}}class VR{constructor(e){this.urlTree=e}}function Xm(n){return $d(new P0(n))}function HR(n){return $d(new VR(n))}class Pee{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=k0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,xn).pipe(Ut(a=>this.createUrlTree(D0(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ul(a=>{if(a instanceof VR)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof P0?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,xn).pipe(Ut(r=>this.createUrlTree(D0(r),e.queryParams,e.fragment))).pipe(ul(r=>{throw r instanceof P0?this.noMatchError(r):r}))}noMatchError(e){return new Re(4002,O0)}createUrlTree(e,t,i){const r=wM(e);return new eu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Ut(a=>new Dn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return Xi(r).pipe(tc(a=>{const o=i.children[a],s=OR(t,a);return this.expandSegmentGroup(e,s,o,a).pipe(Ut(l=>({segment:l,outlet:a})))}),iR((a,o)=>(a[o.outlet]=o.segment,a),{}),rR())}expandSegment(e,t,i,r,a,o){return Xi(i).pipe(tc(s=>this.expandSegmentAgainstRoute(e,t,i,s,r,a,o).pipe(ul(c=>{if(c instanceof P0)return It(null);throw c}))),ec(s=>!!s),ul((s,l)=>{if(LM(s))return UR(t,r,a)?It(new Dn([],{})):Xm(t);throw s}))}expandSegmentAgainstRoute(e,t,i,r,a,o,s){return zR(r,t,a,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,o):Xm(t):Xm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HR(a):this.lineralizeSegments(i,a).pipe(Gi(o=>{const s=new Dn(o,{});return this.expandSegment(e,s,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,o){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=zM(t,r,a);if(!s)return Xm(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?HR(d):this.lineralizeSegments(r,d).pipe(Gi(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=RR(i,e),i.loadChildren?(i._loadedRoutes?It({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Ut(s=>(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,new Dn(r,{})))):It(new Dn(r,{}))):BR(t,i,r,e).pipe(Cs(({matched:o,consumedSegments:s,remainingSegments:l})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(Gi(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:m}=k0(t,s,l,h),p=new Dn(f.segments,f.children);if(0===m.length&&p.hasChildren())return this.expandChildren(d,h,p).pipe(Ut(v=>new Dn(s,v)));if(0===h.length&&0===m.length)return It(new Dn(s,{}));const g=Do(i)===a;return this.expandSegment(d,p,h,m,g?xn:a,!0).pipe(Ut(w=>new Dn(s.concat(w.segments),w.children)))})):Xm(t)))}getChildConfig(e,t,i){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dee(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?It(!0):It(r.map(o=>{const s=Qd(o,n);return nc(function fee(n){return n&&jm(n.canLoad)}(s)?s.canLoad(e,t):n.runInContext(()=>s(e,t)))})).pipe(Jd(),LR())}(e,t,i).pipe(Gi(r=>r?this.configLoader.loadChildren(e,t).pipe(dr(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Ree(n){return $d(IR(O0,3))}())):It({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return It(i);if(r.numberOfChildren>1||!r.children[xn])return $d(new Re(4e3,O0));r=r.children[xn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new eu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Gr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const s=r.substring(1);i[a]=t[s]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let o={};return Gr(t.children,(s,l)=>{o[l]=this.createSegmentGroup(e,s,i,r)}),new Dn(a,o)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Re(4001,O0);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Bee{}class Vee{constructor(e,t,i,r,a,o,s){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s}recognize(){const e=k0(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,xn).pipe(Ut(t=>{if(null===t)return null;const i=new T0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hl(i,t),a=new AR(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=DR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Xi(Object.keys(i.children)).pipe(tc(r=>{const a=i.children[r],o=OR(t,r);return this.processSegmentGroup(e,o,a,r)}),iR((r,a)=>r&&a?(r.push(...a),r):null),function oJ(n,e=!1){return Li((t,i)=>{let r=0;t.subscribe(Ei(i,a=>{const o=n(a,r++);(o||e)&&i.next(a),!o&&i.complete()}))})}(r=>null!==r),y0(null),rR(),Ut(r=>{if(null===r)return null;const a=qR(r);return function Hee(n){n.sort((e,t)=>e.value.outlet===xn?-1:t.value.outlet===xn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return Xi(t).pipe(tc(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,a)),ec(o=>!!o),ul(o=>{if(LM(o))return UR(i,r,a)?It([]):It(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!zR(t,i,r,a))return It(null);let o;if("**"===t.path){const s=r.length>0?sR(r).parameters:{},l=$R(i)+r.length;o=It({snapshot:new T0(r,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jR(t),Do(t),t.component??t._loadedComponent??null,t,WR(i),l,XR(t)),consumedSegments:[],remainingSegments:[]})}else o=BR(i,t,r,e).pipe(Ut(({matched:s,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!s)return null;const d=$R(i)+l.length;return{snapshot:new T0(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jR(t),Do(t),t.component??t._loadedComponent??null,t,WR(i),d,XR(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Cs(s=>{if(null===s)return It(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=s;e=t._injector??e;const d=t._loadedInjector??e,h=function Gee(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:m}=k0(i,c,u,h.filter(g=>void 0===g.redirectTo));if(0===m.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Ut(g=>null===g?null:[new hl(l,g)]));if(0===h.length&&0===m.length)return It([new hl(l,[])]);const p=Do(t)===a;return this.processSegment(d,h,f,m,p?xn:a).pipe(Ut(g=>null===g?null:[new hl(l,g)]))}))}}function qee(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qR(n){const e=[],t=new Set;for(const i of n){if(!qee(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=qR(i.children);e.push(new hl(i.value,r))}return e.filter(i=>!t.has(i))}function WR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $R(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jR(n){return n.data||{}}function XR(n){return n.resolve||{}}function YR(n){return"string"==typeof n.title||null===n.title}function UM(n){return Cs(e=>{const t=n(e);return t?Xi(t).pipe(Ut(()=>e)):It(e)})}const eh=new je("ROUTES");let VM=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=nc(t.loadComponent()).pipe(Ut(KR),dr(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),b0(()=>{this.componentLoaders.delete(t)})),r=new tR(i,()=>new fn).pipe(_M());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return It({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(s)?c=s:(l=s.create(t).injector,c=oR(l.get(eh,[],Vt.Self|Vt.Optional)));return{routes:c.map(PM),injector:l}}),b0(()=>{this.childrenLoaders.delete(i)})),o=new tR(a,()=>new fn).pipe(_M());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return nc(t()).pipe(Ut(KR),Gi(r=>r instanceof VI||Array.isArray(r)?It(r):Xi(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pa),Oe(TF))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KR(n){return function Jee(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let HM=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fn,this.configLoader=mn(VM),this.environmentInjector=mn(el),this.urlSerializer=mn(Lm),this.rootContexts=mn(Gm),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new VJ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new UJ(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Eo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sa(i=>0!==i.id),Ut(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Cs(i=>{let r=!1,a=!1;return It(i).pipe(dr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cs(o=>{const s=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==s||s!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||l)&&t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return JR(o.source)&&(t.browserUrlTree=o.extractedUrl),It(o).pipe(Cs(u=>{const d=this.transitions?.getValue();return this.events.next(new EM(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?qa:Promise.resolve(u)}),function Lee(n,e,t,i){return Cs(r=>function Oee(n,e,t,i,r){return new Pee(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Ut(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),dr(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function $ee(n,e,t,i,r){return Gi(a=>function Uee(n,e,t,i,r,a,o="emptyOnly"){return new Vee(n,e,t,i,r,o,a).recognize().pipe(Cs(s=>null===s?function zee(n){return new Tn(e=>e.error(n))}(new Bee):It(s)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe(Ut(o=>({...a,targetSnapshot:o}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),dr(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new OJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:m,extras:p}=o,g=new EM(d,this.urlSerializer.serialize(h),f,m);this.events.next(g);const _=ER(h,t.rootComponentType).snapshot;return It(i={...o,targetSnapshot:_,urlAfterRedirects:h,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=o.rawUrl,o.resolve(null),qa}),dr(o=>{const s=new PJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ut(o=>i={...o,guards:lee(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function yee(n,e){return Gi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:o}}=t;return 0===o.length&&0===a.length?It({...t,guardsResult:!0}):function bee(n,e,t,i){return Xi(n).pipe(Gi(r=>function Eee(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?It(a.map(s=>{const l=qm(e)??r,c=Qd(s,l);return nc(function gee(n){return n&&jm(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(ec())})).pipe(Jd()):It(!0)}(r.component,r.route,t,e,i)),ec(r=>!0!==r,!0))}(o,i,r,n).pipe(Gi(s=>s&&function hee(n){return"boolean"==typeof n}(s)?function xee(n,e,t,i){return Xi(e).pipe(tc(r=>_0(function Mee(n,e){return null!==n&&e&&e(new HJ(n)),It(!0)}(r.route.parent,i),function wee(n,e){return null!==n&&e&&e(new qJ(n)),It(!0)}(r.route,i),function Cee(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(o=>function cee(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>eR(()=>It(o.guards.map(l=>{const c=qm(o.node)??t,u=Qd(l,c);return nc(function pee(n){return n&&jm(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(ec())})).pipe(Jd())));return It(a).pipe(Jd())}(n,r.path,t),function See(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const r=i.map(a=>eR(()=>{const o=qm(e)??t,s=Qd(a,o);return nc(function mee(n){return n&&jm(n.canActivate)}(s)?s.canActivate(e,n):o.runInContext(()=>s(e,n))).pipe(ec())}));return It(r).pipe(Jd())}(n,r.route,t))),ec(r=>!0!==r,!0))}(i,a,n,e):It(s)),Ut(s=>({...t,guardsResult:s})))})}(this.environmentInjector,o=>this.events.next(o)),dr(o=>{if(i.guardsResult=o.guardsResult,nu(o.guardsResult))throw NR(0,o.guardsResult);const s=new LJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),sa(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3,t),!1)),UM(o=>{if(o.guards.canActivateChecks.length)return It(o).pipe(dr(s=>{const l=new BJ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Cs(s=>{let l=!1;return It(s).pipe(function jee(n,e){return Gi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return It(t);let a=0;return Xi(r).pipe(tc(o=>function Xee(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!YR(r)&&(a[Om]=r.title),function Yee(n,e,t,i){const r=function Zee(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return It({});const a={};return Xi(r).pipe(Gi(o=>function Kee(n,e,t,i){const r=qm(e)??i,a=Qd(n,r);return nc(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[o],e,t,i).pipe(ec(),dr(s=>{a[o]=s}))),yM(1),function sJ(n){return Ut(()=>n)}(a),ul(o=>LM(o)?qa:$d(o)))}(a,n,e,i).pipe(Ut(o=>(n._resolvedData=o,n.data=DR(n,t).resolve,r&&YR(r)&&(n.data[Om]=r.title),null)))}(o.route,i,n,e)),dr(()=>a++),yM(1),Gi(o=>a===r.length?It(t):qa))})}(t.paramsInheritanceStrategy,this.environmentInjector),dr({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",2,t))}}))}),dr(s=>{const l=new zJ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),UM(o=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(dr(u=>{l.component=u}),Ut(()=>{})));for(const u of l.children)c.push(...s(u));return c};return vM(s(o.targetSnapshot.root)).pipe(y0(),cl(1))}),UM(()=>t.afterPreactivation()),Ut(o=>{const s=function KJ(n,e,t){const i=Hm(n,e._root,t?t._root:void 0);return new CR(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:s}}),dr(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Ut(i=>(new see(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),dr({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new iu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),b0(()=>{r||a||this.cancelNavigationTransition(i,"",1,t),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ul(o=>{if(a=!0,kR(o)){FR(o)||(t.navigated=!0,t.restoreHistory(i,!0));const s=new A0(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(s),FR(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||JR(i.source)};t.scheduleNavigation(l,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const s=new wR(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(s);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return qa}))}))}cancelNavigationTransition(t,i,r,a){const o=new A0(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JR(n){return"imperative"!==n}let eO=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===xn);return i}getResolvedTitleForRoute(t){return t.data[Om]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return mn(ete)},providedIn:"root"}),n})(),ete=(()=>{class n extends eO{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(Oe(jk))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return mn(ite)},providedIn:"root"}),n})();class nte{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ite=(()=>{class n extends nte{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L0=new je("",{providedIn:"root",factory:()=>({})});let ate=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return mn(ote)},providedIn:"root"}),n})(),ote=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ste(n){throw n}function lte(n,e,t){return e.parse("/")}const cte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ute={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=mn(RY),this.isNgZoneEnabled=!1,this.options=mn(L0,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ste,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lte,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>It(void 0),this.urlHandlingStrategy=mn(ate),this.routeReuseStrategy=mn(tte),this.urlCreationStrategy=mn(XJ),this.titleStrategy=mn(eO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=oR(mn(eh,{optional:!0})??[]),this.navigationTransitions=mn(HM),this.urlSerializer=mn(Lm),this.location=mn(Jv),this.rootComponentType=null,this.isNgZoneEnabled=mn(Xt)instanceof Xt&&Xt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ER(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(t.state){const s={...t.state};delete s.navigationId,delete s.\u0275routerPageId,0!==Object.keys(s).length&&(r.state=s)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(PM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...a};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=a||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=nu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function dte(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Re(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...cte}:!1===i?{...ute}:i,nu(t))return cR(this.currentUrlTree,t,r);const a=this.parseUrl(t);return cR(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,o){if(this.disposed)return Promise.resolve(!1);let s,l,c,u;return o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{s=d,l=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),u=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):u=0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B0=(()=>{class n{constructor(t,i,r,a,o,s){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=o,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fn;const l=o.nativeElement.tagName;this.isAnchorElement="A"===l||"AREA"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof iu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Wd(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Wd(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Wd(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function m2(n,e,t){return function Uq(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?f2:xv}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(ve(eo),ve(Kd),Yl("tabindex"),ve(tl),ve(Bn),ve(Qc))},n.\u0275dir=at({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&qn("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&xi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[na]}),n})();class nO{}let mte=(()=>{class n{constructor(t,i,r,a,o){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(sa(t=>t instanceof iu),tc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=Uv(a.providers,t,`Route: ${a.path}`));const o=a._injector??t,s=a._loadedInjector??o;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(o,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(s,a.children??a._loadedRoutes))}return Xi(r).pipe(po())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):It(null);const a=r.pipe(Gi(o=>null===o?It(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Xi([a,this.loader.loadComponent(i)]).pipe(po()):a})}}return n.\u0275fac=function(t){return new(t||n)(Oe(eo),Oe(TF),Oe(el),Oe(nO),Oe(VM))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GM=new je("");let iO=(()=>{class n{constructor(t,i,r,a,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof EM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof iu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){dm()},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function nh(n,e){return{\u0275kind:n,\u0275providers:e}}function aO(){const n=mn(Pa);return e=>{const t=n.get(qd);if(e!==t.components[0])return;const i=n.get(eo),r=n.get(oO);1===n.get(WM)&&i.initialNavigation(),n.get(sO,null,Vt.Optional)?.setUpPreloading(),n.get(GM,null,Vt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const oO=new je("",{factory:()=>new fn}),WM=new je("",{providedIn:"root",factory:()=>1});const sO=new je("");function yte(n){return nh(0,[{provide:sO,useExisting:mte},{provide:nO,useExisting:n}])}const lO=new je("ROUTER_FORROOT_GUARD"),bte=[Jv,{provide:Lm,useClass:bM},eo,Gm,{provide:Kd,useFactory:function rO(n){return n.routerState.root},deps:[eo]},VM,[]];function xte(){return new PF("Router",eo)}let cO=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[bte,[],{provide:eh,multi:!0,useValue:t},{provide:lO,useFactory:Cte,deps:[[eo,new Qs,new yd]]},{provide:L0,useValue:i||{}},i?.useHash?{provide:Qc,useClass:xZ}:{provide:Qc,useClass:ak},{provide:GM,useFactory:()=>{const n=mn(HK),e=mn(Xt),t=mn(L0),i=mn(HM),r=mn(Lm);return t.scrollOffset&&n.setOffset(t.scrollOffset),new iO(r,i,n,e,t)}},i?.preloadingStrategy?yte(i.preloadingStrategy).\u0275providers:[],{provide:PF,multi:!0,useFactory:xte},i?.initialNavigation?Ete(i):[],[{provide:uO,useFactory:aO},{provide:AF,multi:!0,useExisting:uO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:eh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Oe(lO,8))},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[RM]}),n})();function Cte(n){return"guarded"}function Ete(n){return["disabled"===n.initialNavigation?nh(3,[{provide:$v,multi:!0,useFactory:()=>{const e=mn(eo);return()=>{e.setUpLocationChangeListener()}}},{provide:WM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nh(2,[{provide:WM,useValue:0},{provide:$v,multi:!0,deps:[Pa],useFactory:e=>{const t=e.get(yZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const a=e.get(eo),o=e.get(oO);(function i(r){e.get(eo).events.pipe(sa(o=>o instanceof iu||o instanceof A0||o instanceof wR),Ut(o=>o instanceof iu||o instanceof A0&&(0===o.code||1===o.code)&&null),sa(o=>null!==o),cl(1)).subscribe(()=>{r()})})(()=>{r(!0)}),a.afterPreactivation=()=>(r(!0),o.closed?It(void 0):o),a.initialNavigation()}))}}]).\u0275providers:[]]}const uO=new je("");class ih{constructor(e,t,i,r=null,a=!1,o=null){this.title=e,this.description=t,this.imgSrc=i,this.hyperlink=r,this.isMarked=a,this.routerlink=o}}function pi(n){return null!=n&&"false"!=`${n}`}function $M(n,e=0){return function Ate(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function z0(n){return Array.isArray(n)?n:[n]}function hr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fl(n){return n instanceof Bn?n.nativeElement:n}let jM;try{jM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jM=!1}let rh,qr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function VK(n){return n===Sk}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Oe(Iw))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hO(){if(rh)return rh;if("object"!=typeof document||!document)return rh=new Set(dO),rh;let n=document.createElement("input");return rh=new Set(dO.filter(e=>(n.setAttribute("type",e),n.type===e))),rh}let Zm,U0,ru,XM;function ah(n){return function Tte(){if(null==Zm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zm=!0}))}finally{Zm=Zm||!1}return Zm}()?n:!!n.capture}function fO(){if(null==ru){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ru=!1,ru;if("scrollBehavior"in document.documentElement.style)ru=!0;else{const n=Element.prototype.scrollTo;ru=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ru}function Km(){if("object"!=typeof document||!document)return 0;if(null==U0){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),U0=0,0===n.scrollLeft&&(n.scrollLeft=1,U0=0===n.scrollLeft?1:2),n.remove()}return U0}function ic(n){return n.composedPath?n.composedPath()[0]:n.target}function YM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ZM(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class Zte extends ut{constructor(e,t){super()}schedule(e,t=0){return this}}const V0={setInterval(n,e,...t){const{delegate:i}=V0;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=V0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class KM extends Zte{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,i=0){return V0.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&V0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(a){i=!0,r=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Be(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vO={now:()=>(vO.delegate||Date).now(),delegate:void 0};class Qm{constructor(e,t=Qm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Qm.now=vO.now;class QM extends Qm{constructor(e,t=Qm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const JM=new QM(KM),Kte=JM;function eS(n,e=JM){return Li((t,i)=>{let r=null,a=null,o=null;const s=()=>{if(r){r.unsubscribe(),r=null;const c=a;a=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);s()}t.subscribe(Ei(i,c=>{a=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{a=r=null}))})}function _O(n){return sa((e,t)=>n<=t)}function yO(n,e=Ln){return n=n??Qte,Li((t,i)=>{let r,a=!0;t.subscribe(Ei(i,o=>{const s=e(o);(a||!n(r,s))&&(a=!1,r=s,i.next(o))}))})}function Qte(n,e){return n===e}function Ds(n){return Li((e,t)=>{ii(n).subscribe(Ei(t,()=>t.complete(),j)),!t.closed&&e.subscribe(t)})}let Jte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();const bO=new Set;let oh,ene=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nne}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function tne(n){if(!bO.has(n))try{oh||(oh=document.createElement("style"),oh.setAttribute("type","text/css"),document.head.appendChild(oh)),oh.sheet&&(oh.sheet.insertRule(`@media ${n} {body{ }}`,0),bO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(qr))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nne(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let xO=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new fn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return wO(z0(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=vM(wO(z0(t)).map(o=>this._registerQuery(o).observable));return a=_0(a.pipe(cl(1)),a.pipe(_O(1),eS(0))),a.pipe(Ut(o=>{const s={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Tn(o=>{const s=l=>this._zone.run(()=>o.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Rm(i),Ut(({matches:o})=>({query:t,matches:o})),Ds(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(Oe(ene),Oe(Xt))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class ane{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fn,this._typeaheadSubscription=ut.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new fn,this.change=new fn,e instanceof Vd&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(dr(t=>this._pressedLetters.push(t)),eS(e),sa(()=>this._pressedLetters.length>0),Ut(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,o=i[a];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}return;default:return void((r||ZM(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Vd?this._items.toArray():this._items}}class EO extends ane{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function AO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function TO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const dne=new je("cdk-input-modality-detector-options"),hne={ignoreKeys:[18,17,224,91,16]},sh=ah({passive:!0,capture:!0});let fne=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Eo(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(s=>s===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ic(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(AO(o)?"keyboard":"mouse"),this._mostRecentTarget=ic(o))},this._onTouchstart=o=>{TO(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ic(o))},this._options={...hne,...a},this.modalityDetected=this._modality.pipe(_O(1)),this.modalityChanged=this.modalityDetected.pipe(yO()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sh),r.addEventListener("mousedown",this._onMousedown,sh),r.addEventListener("touchstart",this._onTouchstart,sh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sh),document.removeEventListener("mousedown",this._onMousedown,sh),document.removeEventListener("touchstart",this._onTouchstart,sh))}}return n.\u0275fac=function(t){return new(t||n)(Oe(qr),Oe(Xt),Oe(En),Oe(dne,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pne=new je("cdk-focus-monitor-default-options"),H0=ah({passive:!0,capture:!0});let tS=(()=>{class n{constructor(t,i,r,a,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fn,this._rootNodeFocusAndBlurListener=s=>{for(let c=ic(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=a,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=fl(t);if(!this._platform.isBrowser||1!==r.nodeType)return It(null);const a=function Ite(n){if(function Nte(){if(null==XM){const n=typeof document<"u"?document.head:null;XM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const s={checkChildren:i,subject:new fn,rootNode:a};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const i=fl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=fl(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=ic(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,H0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,H0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ds(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,H0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,H0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let o=0;o<a.length;o++)if(a[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(Oe(Xt),Oe(qr),Oe(fne),Oe(En,8),Oe(pne,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IO="cdk-high-contrast-black-on-white",FO="cdk-high-contrast-white-on-black",nS="cdk-high-contrast-active";let gne=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=mn(xO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nS,IO,FO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(nS,IO):2===i&&t.add(nS,FO)}}}return n.\u0275fac=function(t){return new(t||n)(Oe(qr),Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vne=new je("cdk-dir-doc",{providedIn:"root",factory:function _ne(){return mn(En)}}),yne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Jm=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Fn,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function bne(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?yne.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Oe(vne,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();const wne=new je("mat-sanity-checks",{providedIn:"root",factory:function xne(){return!0}});let wi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(Oe(gne),Oe(wne,8),Oe(En))},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[ep,ep]}),n})();function iS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=pi(e)}}}function G0(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function rS(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=pi(e)}}}function aS(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$M(t):this.defaultTabIndex}}}function Mne(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Cne=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,wi]}),n})();class Ene{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const PO=ah({passive:!0,capture:!0});class Dne{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ic(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const o=a.get(i);o?o.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,PO)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);!a||(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,PO)))}}const LO={enterDuration:225,exitDuration:150},BO=ah({passive:!0,capture:!0}),zO=["mousedown","touchstart"],UO=["mouseup","mouseleave","touchend","touchcancel"];class lh{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...LO,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function Tne(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),s=e-r.left,l=t-r.top,c=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,m="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,p=new Ene(this,u,i,m);u.style.transform="scale3d(1, 1, 1)",p.state=0,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!m&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(p),w=()=>this._destroyRipple(p);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",w),g={onTransitionEnd:_,onTransitionCancel:w}}),this._activeRipples.set(p,g),(m||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...LO,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=fl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,zO.forEach(i=>{lh._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{UO.forEach(t=>{this._triggerElement.addEventListener(t,this,BO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=AO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!TO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(zO.forEach(t=>lh._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&UO.forEach(t=>e.removeEventListener(t,this,BO)))}}lh._eventManager=new Dne;const oS=new je("mat-ripple-global-options");let np=(()=>{class n{constructor(t,i,r,a,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new lh(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Xt),ve(qr),ve(oS,8),ve(wo,8))},n.\u0275dir=at({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Wn("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,wi]}),n})(),Nne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi]}),n})(),VO=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=pi(t)}get inset(){return this._inset}set inset(t){this._inset=pi(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mi({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(xi("aria-orientation",i.vertical?"vertical":"horizontal"),Wn("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,wi]}),n})();const Ine=["*"],Rne=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],One=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Pne=new je("MAT_CARD_CONFIG");let q0=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(ve(Pne,8))},n.\u0275cmp=mi({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&Wn("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Ine,decls:1,vars:0,template:function(t,i){1&t&&(_a(),Nn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mi({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:One,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(_a(Rne),Nn(0),Qe(1,"div",0),Nn(2,1),rt(),Nn(3,2))},encapsulation:2,changeDetection:0}),n})(),$O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"]}),n})(),Wne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,Jc,wi]}),n})();class sS{constructor(e,t,i=null){this.x=e,this.y=t,i&&(this.value=i(e,t))}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setValue(e){return this.value=e,this}getInterpolatedPoint(e,t){let i=this.x+t*Math.abs(this.x-e.x),r=this.y+t*Math.abs(this.y-e.y);return new sS(i,r)}}class rp{static polygonise(e,t){let i=0;if(e[0].value>t&&(i|=1),e[1].value>t&&(i|=2),e[2].value>t&&(i|=4),e[3].value>t&&(i|=8),15===i||0===i)return[];let r=[];for(let a=0;a<rp.configurations[i].length;a++){const o=rp.configurations[i][a];0===o?r.push(e[0].getInterpolatedPoint(e[1],.5)):1===o?r.push(e[1].getInterpolatedPoint(e[3],.5)):2===o?r.push(e[2].getInterpolatedPoint(e[3],.5)):3===o&&r.push(e[0].getInterpolatedPoint(e[2],.5))}return r}}!function $ne(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(rp,"configurations",[[],[0,3],[0,1],[1,3],[2,3],[0,2],[0,3,1,2],[2,1],[1,2],[0,1,2,3],[0,2],[2,3],[1,3],[0,1],[0,3],[]]);class jne{constructor(e,t,i,r,a){this.grid=[],this.verticies=[],this.isolevel=0,this.noise=a,this.CANVAS_HEIGHT=i,this.CANVAS_WIDTH=t,this.context=e,this.mouseCoordinates=r,this.render=this.render.bind(this),this.reDrawTimeCounter=0,this.reDrawTimeInterval=.5,this.offSetAddUp=0,this.lastMouseCoords={x:0,y:0},this.lastTime=0,this.reDrawPoints(),requestAnimationFrame(this.render)}linearMap(e,t,i,r,a){return(e-t)/(i-t)*(a-r)+r}generateGrid(e,t,i){let r=[],a=0,o=t/i;for(let s=0;s<o;s++){r[s]=[];let l=0;for(let c=0;c<o;c++)r[s].push(this.generatePoint({x:e.x+i*s,y:e.y+i*c},{x:l,y:a})),l+=.001+this.offSetAddUp;a+=.001+this.offSetAddUp}return r}generatePoint(e,t){return new sS(e.x,e.y,(r,a)=>Math.sqrt(Math.pow(r-this.mouseCoordinates.x,2)+Math.pow(a-this.mouseCoordinates.y,2))<100?1:.2*this.linearMap(this.noise(e.x+t.x,e.y+t.y),0,1,-1,1))}reDrawPoints(){this.verticies=[],this.grid=this.generateGrid({x:20,y:20},this.CANVAS_WIDTH,50);for(let e=0;e<this.grid.length-1;e++)for(let t=0;t<this.grid[e].length-1;t++)this.verticies.push(...rp.polygonise([this.grid[e][t],this.grid[e+1][t],this.grid[e][t+1],this.grid[e+1][t+1]],this.isolevel));this.lastMouseCoords.x=this.mouseCoordinates.x,this.lastMouseCoords.y=this.mouseCoordinates.y,this.context.clearRect(0,0,this.CANVAS_WIDTH,this.CANVAS_HEIGHT);for(let e=0;e<this.verticies.length;e+=2)this.drawLine(this.verticies[e],this.verticies[e+1],"cornflowerblue")}render(e){const t=(e-this.lastTime)/1e3;this.lastTime=e,this.update(t),requestAnimationFrame(this.render)}update(e){this.reDrawTimeCounter+=e,this.reDrawTimeCounter>=this.reDrawTimeInterval?(this.reDrawPoints(),this.offSetAddUp+=.01,this.reDrawTimeCounter=0):this.lastMouseCoords.x!==this.mouseCoordinates.x&&this.lastMouseCoords.y!==this.mouseCoordinates.y&&this.reDrawPoints()}renderPoint(e,t){this.context.lineWidth=.8,this.context.strokeStyle=e.value>t?"red":"black",this.context.beginPath(),this.context.arc(e.x,e.y,2,0,2*Math.PI),this.context.stroke()}drawLine(e,t,i="black"){this.context.beginPath(),this.context.moveTo(e.x,e.y),this.context.lineWidth=3,this.context.setLineDash([5,15]),this.context.lineCap="round",this.context.strokeStyle=i,this.context.lineTo(t.x,t.y),this.context.stroke()}}const Xne=.5*(Math.sqrt(3)-1),ap=(3-Math.sqrt(3))/6,As=1/6,ml=(Math.sqrt(5),Math.sqrt(5),n=>0|Math.floor(n)),jO=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),lS=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function cS(n){const t=new Uint8Array(512);for(let i=0;i<256;i++)t[i]=i;for(let i=0;i<255;i++){const r=i+~~(n()*(256-i)),a=t[i];t[i]=t[r],t[r]=a}for(let i=256;i<512;i++)t[i]=t[i-256];return t}const Jne=["demo_canvas"];class op{constructor(){this.canvas_width=500,this.canvas_height=500,this.mouseCoordinates={x:0,y:0}}ngAfterViewInit(){this.ctx=this.demoCanvas.nativeElement.getContext("2d"),this.showcase=new jne(this.ctx,this.canvas_width,this.canvas_height,this.mouseCoordinates,function Kne(n=Math.random){const e=cS(n),t=new Float64Array(e).map(r=>jO[r%12*2]),i=new Float64Array(e).map(r=>jO[r%12*2+1]);return function(a,o){let s=0,l=0,c=0;const u=(a+o)*Xne,d=ml(a+u),h=ml(o+u),f=(d+h)*ap,g=a-(d-f),_=o-(h-f);let w,v;g>_?(w=1,v=0):(w=0,v=1);const y=g-w+ap,b=_-v+ap,x=g-1+2*ap,C=_-1+2*ap,M=255&d,E=255&h;let S=.5-g*g-_*_;if(S>=0){const k=M+e[E];S*=S,s=S*S*(t[k]*g+i[k]*_)}let T=.5-y*y-b*b;if(T>=0){const k=M+w+e[E+v];T*=T,l=T*T*(t[k]*y+i[k]*b)}let N=.5-x*x-C*C;if(N>=0){const k=M+1+e[E+1];N*=N,c=N*N*(t[k]*x+i[k]*C)}return 70*(s+l+c)}}())}mouseMove(e){let t=this.demoCanvas.nativeElement.getBoundingClientRect();this.mouseCoordinates.x=e.clientX-t.left,this.mouseCoordinates.y=e.clientY-t.top}touchMove(e){let t=this.demoCanvas.nativeElement.getBoundingClientRect();this.mouseCoordinates.x=e.touches[0].clientX-t.left,this.mouseCoordinates.y=e.touches[0].clientY-t.top}}op.\u0275fac=function(e){return new(e||op)},op.\u0275cmp=mi({type:op,selectors:[["app-hero-demo"]],viewQuery:function(e,t){if(1&e&&Hr(Jne,5),2&e){let i;Jn(i=ei())&&(t.demoCanvas=i.first)}},inputs:{canvas_width:"canvas_width",canvas_height:"canvas_height"},decls:2,vars:2,consts:[[3,"width","height","mousemove"],["demo_canvas",""]],template:function(e,t){1&e&&(Qe(0,"canvas",0,1),qn("mousemove",function(r){return t.mouseMove(r)}),rt()),2&e&&Ct("width",t.canvas_width)("height",t.canvas_height)}});const uS=function(n){return{"is-phone-portrait":n}};class sp{constructor(e){this.responsive=e,this.isPhonePortrait=!1}ngOnInit(){this.responsive.observe(["(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)","(max-width: 599.98px) and (orientation: portrait)"]).subscribe(e=>{this.isPhonePortrait=e.matches})}}function XO(...n){const e=Pg(n),{args:t,keys:i}=Kk(n),r=new Tn(a=>{const{length:o}=t;if(!o)return void a.complete();const s=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ii(t[u]).subscribe(Ei(a,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||a.next(i?Qk(i,s):s),a.complete())}))}});return e?r.pipe(gM(e)):r}sp.\u0275fac=function(e){return new(e||sp)(ve(xO))},sp.\u0275cmp=mi({type:sp,selectors:[["app-hero-introduction"]],decls:18,vars:19,consts:[[1,"padded-box",3,"ngClass"],[1,"blue-border","demo-box",3,"ngClass"],[3,"canvas_height","canvas_width"],[1,"centered-text"],[1,"centered-elements","socials-article",3,"ngClass"],["href","https://www.linkedin.com/in/arthur-mousatov-591a661a1/"],["src","/assets/imgs/linkedin.jpg","width","50","height","50","alt","LinkedIn"],["href","https://github.com/ArthurMousatov"],["src","/assets/imgs/github.png","width","50","height","50","alt","Github"]],template:function(e,t){1&e&&(Qe(0,"section",0)(1,"article",1),gn(2,"app-hero-demo",2),rt(),Qe(3,"article")(4,"mat-card")(5,"mat-card-content",3)(6,"h1"),$n(7,"Hello, World!"),rt()()()(),Qe(8,"article")(9,"mat-card")(10,"mat-card-content",3)(11,"p"),$n(12,"My name is Arthur Mousatov, and I am a computer science student at Concordia University."),rt()()()(),Qe(13,"article",4)(14,"a",5),gn(15,"img",6),rt(),Qe(16,"a",7),gn(17,"img",8),rt()()()),2&e&&(Ct("ngClass",Vv(13,uS,t.isPhonePortrait)),Nt(1),xo("grid-area","demo"),Ct("ngClass",Vv(15,uS,t.isPhonePortrait)),Nt(1),Ct("canvas_height",450)("canvas_width",650),Nt(1),xo("grid-area","hello"),Nt(5),xo("grid-area","intro"),Nt(5),xo("grid-area","socials"),Ct("ngClass",Vv(17,uS,t.isPhonePortrait)))},dependencies:[pk,q0,W0,op],styles:['section[_ngcontent-%COMP%] {\n        display: grid;\n        gap: 16px;\n        grid-template-columns: 2fr 2fr 1fr 1fr 1fr;\n        grid-template-rows: repeat(4, 1fr);\n        grid-template-areas:\n            "demo demo . . ."\n            "demo demo hello hello ."\n            "demo demo . intro intro"\n            "demo demo . socials .";\n    }\n\n    section.is-phone-portrait[_ngcontent-%COMP%] {\n        grid-template-columns: repeat(3, 1fr);\n        grid-template-rows: 2fr 1fr 0.5fr 1fr;\n        grid-template-areas:\n            "demo demo demo"\n            "demo demo demo"\n            ". hello socials"\n            "intro intro socials"\n    }\n\n    .demo-box[_ngcontent-%COMP%] {\n        max-width: fit-content;\n    }\n\n    article.is-phone-portrait[_ngcontent-%COMP%] {\n        overflow: hidden;\n        border-radius: 16px;\n    }\n\n    .full-card[_ngcontent-%COMP%] {\n        height: 100%;\n        width: 100%;\n    }\n\n    .centered-elements[_ngcontent-%COMP%] {\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: center;\n        align-items: center;\n    }\n\n    img[_ngcontent-%COMP%] {\n        border-radius: 32px;\n    }\n\n    .socials-article[_ngcontent-%COMP%] {\n        display: flex;\n        flex-flow: row wrap;\n        gap: 16px;\n    }\n\n    .socials-article.is-phone-portrait[_ngcontent-%COMP%] {\n        flex-flow: column wrap;\n        justify-content: center;\n        align-items: center;\n        gap: 8px;\n    }']});class dS{}class rc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(o):this.headers.set(a,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof rc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new rc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let o=this.headers.get(t);if(!o)return;o=o.filter(s=>-1===a.indexOf(s)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class eie{encodeKey(e){return ZO(e)}encodeValue(e){return ZO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nie=/%(\d[a-f0-9])/gi,iie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZO(n){return encodeURIComponent(n).replace(nie,(e,t)=>iie[t]??e)}function j0(n){return`${n}`}class ac{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eie,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tie(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[o,s]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],l=t.get(o)||[];l.push(s),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(j0):[j0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ac({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(j0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(j0(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rie{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function QO(n){return typeof Blob<"u"&&n instanceof Blob}function JO(n){return typeof FormData<"u"&&n instanceof FormData}class lp{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function aie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new rc),this.context||(this.context=new rie),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+o}}else this.params=new ac,this.urlWithParams=t}serializeBody(){return null===this.body?null:KO(this.body)||QO(this.body)||JO(this.body)||function oie(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JO(this.body)?null:QO(this.body)?this.body.type||null:KO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new lp(t,i,a,{params:c,headers:l,context:u,reportProgress:s,responseType:r,withCredentials:o})}}var $r=(()=>(($r=$r||{})[$r.Sent=0]="Sent",$r[$r.UploadProgress=1]="UploadProgress",$r[$r.ResponseHeader=2]="ResponseHeader",$r[$r.DownloadProgress=3]="DownloadProgress",$r[$r.Response=4]="Response",$r[$r.User=5]="User",$r))();class sie{constructor(e,t=200,i="OK"){this.headers=e.headers||new rc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hS extends sie{constructor(e={}){super(e),this.type=$r.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function fS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let mS=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof lp)a=t;else{let l,c;l=r.headers instanceof rc?r.headers:new rc(r.headers),r.params&&(c=r.params instanceof ac?r.params:new ac({fromObject:r.params})),a=new lp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=It(a).pipe(tc(l=>this.handler.handle(l)));if(t instanceof lp||"events"===r.observe)return o;const s=o.pipe(sa(l=>l instanceof hS));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(Ut(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(Ut(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(Ut(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(Ut(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ac).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,fS(r,i))}post(t,i,r={}){return this.request("POST",t,fS(r,i))}put(t,i,r={}){return this.request("PUT",t,fS(r,i))}}return n.\u0275fac=function(t){return new(t||n)(Oe(dS))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const bie=["*"];let Y0;function cp(n){return function xie(){if(void 0===Y0&&(Y0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Y0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Y0}()?.createHTML(n)||n}function sP(n){return Error(`Unable to find icon with the name "${n}"`)}function lP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function cP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class au{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Z0=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new au(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const o=this._sanitizer.sanitize(ai.HTML,r);if(!o)throw cP(r);const s=cp(o);return this._addSvgIconConfig(t,i,new au("",s,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new au(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(ai.HTML,i);if(!a)throw cP(i);const o=cp(a);return this._addSvgIconSetConfig(t,new au("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(ai.RESOURCE_URL,t);if(!i)throw lP(t);const r=this._cachedIconsByUrl.get(i);return r?It(K0(r)):this._loadSvgIconFromConfig(new au(t,null)).pipe(dr(a=>this._cachedIconsByUrl.set(i,a)),Ut(a=>K0(a)))}getNamedSvgIcon(t,i=""){const r=uP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):$d(sP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?It(K0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ut(i=>K0(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?It(r):XO(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ul(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ai.RESOURCE_URL,o.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),It(null)})))).pipe(Ut(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw sP(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(a),s=this._extractSvgIconFromSet(o,t,a.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(dr(i=>t.svgText=i),Ut(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?It(null):this._fetchIcon(t).pipe(dr(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const o=a.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const s=this._svgElementFromString(cp("<svg></svg>"));return s.appendChild(o),this._setSvgAttributes(s,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(cp("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:o,value:s}=r[a];"id"!==o&&i.setAttribute(o,s)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function wie(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(ai.RESOURCE_URL,i);if(!o)throw lP(i);const s=this._inProgressUrlFetches.get(o);if(s)return s;const l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(Ut(c=>cp(c)),b0(()=>this._inProgressUrlFetches.delete(o)),zg());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(uP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Sie(a)?new au(a.url,null,a.options):new au(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(Oe(mS,8),Oe(pM),Oe(En,8),Oe(nl))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K0(n){return n.cloneNode(!0)}function uP(n,e){return n+":"+e}function Sie(n){return!(!n.url||!n.options)}const Cie=G0(class{constructor(n){this._elementRef=n}}),Eie=new je("MAT_ICON_DEFAULT_OPTIONS"),Die=new je("mat-icon-location",{providedIn:"root",factory:function Aie(){const n=mn(En),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),dP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tie=dP.map(n=>`[${n}]`).join(", "),Nie=/^url\(['"]?#(.*?)['"]?\)$/;let Iie=(()=>{class n extends Cie{constructor(t,i,r,a,o,s){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ut.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=pi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(o=>{a.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Tie),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)dP.forEach(o=>{const s=i[a],l=s.getAttribute(o),c=l?l.match(Nie):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(cl(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Z0),Yl("aria-hidden"),ve(Die),ve(nl),ve(Eie,8))},n.\u0275cmp=mi({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(xi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Wn("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[qt],ngContentSelectors:bie,decls:1,vars:0,template:function(t,i){1&t&&(_a(),Nn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Fie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,wi]}),n})();class up{}function kie(n,e){1&n&&gn(0,"app-simple-card",2),2&n&&Ct("card",e.$implicit)}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=mi({type:up,selectors:[["app-simple-card"]],inputs:{card:"card"},decls:12,vars:13,consts:[[1,"card-box"],[1,"card-box__header"],[3,"href"],["fontIcon","open_in_new",1,"black-icon"],[3,"routerLink"],["mat-card-lg-image","",1,"rounded-border",3,"src"],[1,"card-box__content"],[1,"centered-text"]],template:function(e,t){1&e&&(Qe(0,"mat-card",0)(1,"mat-card-header",1)(2,"a",2),gn(3,"mat-icon",3),rt(),Qe(4,"a",4),gn(5,"mat-icon",3),rt()(),gn(6,"img",5),Qe(7,"mat-card-content",6)(8,"mat-card-title",7),$n(9),rt(),Qe(10,"mat-card-subtitle",7),$n(11),rt()()()),2&e&&(Wn("blue-border",t.card.isMarked),Nt(2),xo("display",t.card.hyperlink?"block":"none"),Ct("href",t.card.hyperlink,xv),Nt(2),xo("display",t.card.routerlink?"block":"none"),Ct("routerLink",t.card.routerlink),Nt(2),xo("display",t.card.imgSrc?"block":"none"),Ct("src",t.card.imgSrc,xv),Nt(3),Kl(t.card.title),Nt(2),Kl(t.card.description))},dependencies:[B0,q0,W0,WO,$O,qO,GO,Iie],styles:[".card-box[_ngcontent-%COMP%] {\n        height: 350px;\n        width: 300px;\n    }\n\n    .card-box__content[_ngcontent-%COMP%] {\n        height: 150px;\n        display: flex;\n        flex-flow: column nowrap;\n        justify-content: start;\n    }\n\n    .card-box__header[_ngcontent-%COMP%] {\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: end;\n    }\n\n    .black-icon[_ngcontent-%COMP%] {\n        color: black;\n    }\n\n    img[_ngcontent-%COMP%] {\n        display: block;\n        margin: auto;\n    }"]});class dp{}dp.\u0275fac=function(e){return new(e||dp)},dp.\u0275cmp=mi({type:dp,selectors:[["app-card-container"]],inputs:{cards:"cards",title:"title"},decls:5,vars:2,consts:[[1,"padded-box"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(e,t){1&e&&(Qe(0,"section",0)(1,"h1"),$n(2),rt(),Qe(3,"article",0),oi(4,kie,1,1,"app-simple-card",1),rt()()),2&e&&(Nt(2),Kl(t.title),Nt(2),Ct("ngForOf",t.cards))},dependencies:[_k,up],styles:["article[_ngcontent-%COMP%] {\n        display: flex;\n        flex-flow: row wrap;\n        justify-content: center;\n        gap: 16px;\n    }"]});class hp{constructor(){this.experiences=[new ih("Coveo Blitz 2021","Team Hackathon","/assets/imgs/blitz.png"),new ih("Coveo Blitz 2022","Team Hackathon","/assets/imgs/blitz2022.jpg"),new ih("Mogile Technologies","Full-stack internship using MEVN (Mongo, Express, Vue, Node)","/assets/imgs/mogile.jpg"),new ih("Morgan Stanley","Python Development Focusing on SRE tooling","/assets/imgs/ms.jpg",null,!0)],this.projects=[new ih("Discord Notes","Multi-user drawing application using Socket.IO, NodeJS, Bootstrap, Heroku & Discord.py","/assets/imgs/draw.png","https://github.com/ArthurMousatov/DiscordNotes"),new ih("Marching Cubes Demo","Marching Cubes Interactive Demo using Three JS & React","/assets/imgs/marching.gif",null,!1,"marching-cubes")]}}hp.\u0275fac=function(e){return new(e||hp)},hp.\u0275cmp=mi({type:hp,selectors:[["app-main-page"]],decls:6,vars:2,consts:[["title","Experiences",3,"cards"],["title","Projects",3,"cards"]],template:function(e,t){1&e&&gn(0,"app-hero-introduction")(1,"mat-divider")(2,"app-card-container",0)(3,"mat-divider")(4,"app-card-container",1)(5,"mat-divider"),2&e&&(Nt(2),Ct("cards",t.experiences),Nt(2),Ct("cards",t.projects))},dependencies:[VO,sp,dp]});class fp{}function hP(n,e,t,i,r,a,o){try{var s=n[a](o),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(i,r)}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=mi({type:fp,selectors:[["app-marching-cube-intro"]],decls:35,vars:0,consts:[["id","intro-section"],["id","title"],["id","intro-paragraph"],["className","style-list"],["href","http://paulbourke.net/geometry/polygonise/"],["href","https://www.youtube.com/watch?v=M3iI2l0ltbE"],["id","showcase-image","src","/assets/imgs/marching.gif","alt","Marching Squares Showcase!"]],template:function(e,t){1&e&&(Qe(0,"section",0)(1,"h1",1),$n(2,"Marching Cubes: A Quick Note"),rt(),Qe(3,"div",2)(4,"p"),$n(5," Awhile back, I saw a YouTube video titled \u201cCoding Adventure: Marching Cubes\u201d by Sebastian Lague. It was an exploration of a graphical algorithm which generates a mesh (shape) based of 8-point fields (cubes). For those curious, the video goes in-depth about how the algorithm generates the mesh, but essentially: "),rt(),Qe(6,"ol",3)(7,"li"),$n(8,"Take 8 equidistant points, forming a cube."),rt(),Qe(9,"li"),$n(10,"Assign a numeric value to the points, based on a formula of your choosing."),rt(),Qe(11,"li"),$n(12,"Compare the numeric values to a constant, called the \u201cisolevel\u201d."),rt(),Qe(13,"li"),$n(14,"Create a new byte, set it to 0."),rt(),Qe(15,"li"),$n(16,"Go through the points, and if the point\u2019s value is above the isolevel, set the appropriate bit in the byte to 1. For example, if point 1\u2019s value is 25, and the isolevel is 10, then the byte is now 0000 0001."),rt(),Qe(17,"li"),$n(18,"As such, the byte creates a number between 0 and 255."),rt(),Qe(19,"li"),$n(20,"By inputting this number into a premade array of possible combinations, you get a shape made of triangles!"),rt(),Qe(21,"li"),$n(22,"You can use vertex interpolation to smooth out the shape."),rt(),Qe(23,"li"),$n(24,"Finally, take these triangles and render them on the screen."),rt()(),Qe(25,"p"),$n(26," If some of you are confused, that\u2019s perfectly normal. My brain shutdown the first time I read the algorithm. Take your time on each step, and don\u2019t be afraid to illustrate it on paper or whiteboard. Feel free to explore the demo on this page: it\u2019s made to illustrate what is possible with marching cubes and a bit of tinkering with the formula. As a final note, if you are interested in implementing the algorithm, these are the sources I used: "),rt(),Qe(27,"ul")(28,"li")(29,"a",4),$n(30," Paul Bourke's Marching Cube Implementation"),rt()(),Qe(31,"li")(32,"a",5),$n(33," Sebastian Lague's Video On Marching Cubes"),rt()()()(),gn(34,"img",6),rt())},styles:["#demo-section[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:center;align-items:center;flex-flow:row nowrap;overflow:hidden}#intro-section[_ngcontent-%COMP%]{margin:0 auto;padding:24px 0;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:.5fr 2fr 2fr;gap:16px}#intro-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px;text-align:justify}#title[_ngcontent-%COMP%]{grid-column:1 / 1;grid-row:1 / 1}#intro-paragraph[_ngcontent-%COMP%]{grid-column:1 / 1;grid-row:2 / span 2}#showcase-image[_ngcontent-%COMP%]{width:100%;height:100%;grid-column:2 / 2;grid-row:1 / span 3;border:#1FFF19 5px solid}"]});const xa=1001,fr=1003,mr=1006,cu=1008,uu=1009,du=1014,sc=1015,gp=1016,ph=1020,To=1023,hu=1026,gh=1027,fu=3e3,Oi=3001,Ts="srgb",vp="srgb-linear";class pu{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const a=r.indexOf(t);-1!==a&&r.splice(a,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}const la=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],gu=Math.PI/180,_p=180/Math.PI;function to(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(la[255&n]+la[n>>8&255]+la[n>>16&255]+la[n>>24&255]+"-"+la[255&e]+la[e>>8&255]+"-"+la[e>>16&15|64]+la[e>>24&255]+"-"+la[63&t|128]+la[t>>8&255]+"-"+la[t>>16&255]+la[t>>24&255]+la[255&i]+la[i>>8&255]+la[i>>16&255]+la[i>>24&255]).toLowerCase()}function ar(n,e,t){return Math.max(e,Math.min(t,n))}function yp(n,e,t){return(1-t)*n+t*e}function TS(n){return 0==(n&n-1)&&0!==n}function u_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gl(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Mi(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class Ue{constructor(e=0,t=0){Ue.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ba{constructor(){Ba.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,a,o,s,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=s,u[3]=t,u[4]=a,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],s=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],m=i[8],p=r[0],g=r[3],_=r[6],w=r[1],v=r[4],y=r[7],b=r[2],x=r[5],C=r[8];return a[0]=o*p+s*w+l*b,a[3]=o*g+s*v+l*x,a[6]=o*_+s*y+l*C,a[1]=c*p+u*w+d*b,a[4]=c*g+u*v+d*x,a[7]=c*_+u*y+d*C,a[2]=h*p+f*w+m*b,a[5]=h*g+f*v+m*x,a[8]=h*_+f*y+m*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*s*c-i*a*u+i*s*l+r*a*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*o-s*c,h=s*l-u*a,f=c*a-o*l,m=t*d+i*h+r*f;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);const p=1/m;return e[0]=d*p,e[1]=(r*c-u*i)*p,e[2]=(s*i-r*o)*p,e[3]=h*p,e[4]=(u*t-r*l)*p,e[5]=(r*a-s*t)*p,e[6]=f*p,e[7]=(i*l-c*t)*p,e[8]=(o*t-i*a)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,s){const l=Math.cos(a),c=Math.sin(a);return this.set(i*l,i*c,-i*(l*o+c*s)+o+e,-r*c,r*l,-r*(-c*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(NS.makeScale(e,t)),this}rotate(e){return this.premultiply(NS.makeRotation(-e)),this}translate(e,t){return this.premultiply(NS.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const NS=new Ba;function YP(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function bp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function vu(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function d_(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const IS={[Ts]:{[vp]:vu},[vp]:{[Ts]:d_}},wa={legacyMode:!0,get workingColorSpace(){return vp},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(IS[e]&&void 0!==IS[e][t]){const i=IS[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},ZP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cr={r:0,g:0,b:0},es={h:0,s:0,l:0},h_={h:0,s:0,l:0};function FS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function f_(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let bh,St=(()=>{class n{constructor(t,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===i&&void 0===r?this.set(t):this.setRGB(t,i,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,i=Ts){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,wa.toWorkingColorSpace(this,i),this}setRGB(t,i,r,a=wa.workingColorSpace){return this.r=t,this.g=i,this.b=r,wa.toWorkingColorSpace(this,a),this}setHSL(t,i,r,a=wa.workingColorSpace){if(t=function AS(n,e){return(n%e+e)%e}(t,1),i=ar(i,0,1),r=ar(r,0,1),0===i)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+i):r+i-r*i,s=2*r-o;this.r=FS(s,o,t+1/3),this.g=FS(s,o,t),this.b=FS(s,o,t-1/3)}return wa.toWorkingColorSpace(this,a),this}setStyle(t,i=Ts){function r(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let o;const l=a[2];switch(a[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,wa.toWorkingColorSpace(this,i),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,wa.toWorkingColorSpace(this,i),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(o[1])/360,u=parseFloat(o[2])/100,d=parseFloat(o[3])/100;return r(o[4]),this.setHSL(c,u,d,i)}}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=a[1],s=o.length;if(3===s)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,wa.toWorkingColorSpace(this,i),this;if(6===s)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,wa.toWorkingColorSpace(this,i),this}return t&&t.length>0?this.setColorName(t,i):this}setColorName(t,i=Ts){const r=ZP[t.toLowerCase()];return void 0!==r?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=vu(t.r),this.g=vu(t.g),this.b=vu(t.b),this}copyLinearToSRGB(t){return this.r=d_(t.r),this.g=d_(t.g),this.b=d_(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ts){return wa.fromWorkingColorSpace(f_(this,Cr),t),ar(255*Cr.r,0,255)<<16^ar(255*Cr.g,0,255)<<8^ar(255*Cr.b,0,255)<<0}getHexString(t=Ts){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,i=wa.workingColorSpace){wa.fromWorkingColorSpace(f_(this,Cr),i);const r=Cr.r,a=Cr.g,o=Cr.b,s=Math.max(r,a,o),l=Math.min(r,a,o);let c,u;const d=(l+s)/2;if(l===s)c=0,u=0;else{const h=s-l;switch(u=d<=.5?h/(s+l):h/(2-s-l),s){case r:c=(a-o)/h+(a<o?6:0);break;case a:c=(o-r)/h+2;break;case o:c=(r-a)/h+4}c/=6}return t.h=c,t.s=u,t.l=d,t}getRGB(t,i=wa.workingColorSpace){return wa.fromWorkingColorSpace(f_(this,Cr),i),t.r=Cr.r,t.g=Cr.g,t.b=Cr.b,t}getStyle(t=Ts){return wa.fromWorkingColorSpace(f_(this,Cr),t),t!==Ts?`color(${t} ${Cr.r} ${Cr.g} ${Cr.b})`:`rgb(${255*Cr.r|0},${255*Cr.g|0},${255*Cr.b|0})`}offsetHSL(t,i,r){return this.getHSL(es),es.h+=t,es.s+=i,es.l+=r,this.setHSL(es.h,es.s,es.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this}lerpColors(t,i,r){return this.r=t.r+(i.r-t.r)*r,this.g=t.g+(i.g-t.g)*r,this.b=t.b+(i.b-t.b)*r,this}lerpHSL(t,i){this.getHSL(es),t.getHSL(h_);const r=yp(es.h,h_.h,i),a=yp(es.s,h_.s,i),o=yp(es.l,h_.l,i);return this.setHSL(r,a,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this}toArray(t=[],i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}fromBufferAttribute(t,i){return this.r=t.getX(i),this.g=t.getY(i),this.b=t.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return n.NAMES=ZP,n})();class KP{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===bh&&(bh=bp("canvas")),bh.width=e.width,bh.height=e.height;const i=bh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=bh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=bp("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=255*vu(a[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*vu(t[i]/255)):vu(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class xh{constructor(e=null){this.isSource=!0,this.uuid=to(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let a;if(Array.isArray(r)){a=[];for(let o=0,s=r.length;o<s;o++)a.push(kS(r[o].isDataTexture?r[o].image:r[o]))}else a=kS(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function kS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?KP.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $re=0,lc=(()=>{class n extends pu{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=xa,a=xa,o=mr,s=cu,l=To,c=uu,u=n.DEFAULT_ANISOTROPY,d=fu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$re++}),this.uuid=to(),this.name="",this.source=new xh(t),this.mipmaps=[],this.mapping=i,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ba,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case xa:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case xa:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class _i{constructor(e=0,t=0,i=0,r=1){_i.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],m=l[9],p=l[2],g=l[6],_=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-p)<.01&&Math.abs(m-g)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+p)<.1&&Math.abs(m+g)<.1&&Math.abs(c+f+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,y=(f+1)/2,b=(_+1)/2,x=(u+h)/4,C=(d+p)/4,M=(m+g)/4;return v>y&&v>b?v<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(v),r=x/i,a=C/i):y>b?y<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(y),i=x/r,a=M/r):b<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(b),i=C/a,r=M/a),this.set(i,r,a,t),this}let w=Math.sqrt((g-m)*(g-m)+(d-p)*(d-p)+(h-u)*(h-u));return Math.abs(w)<.001&&(w=1),this.x=(g-m)/w,this.y=(d-p)/w,this.z=(h-u)/w,this.w=Math.acos((c+f+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _u extends pu{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new _i(0,0,e,t),this.scissorTest=!1,this.viewport=new _i(0,0,e,t),this.texture=new lc({width:e,height:t,depth:1},i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:mr,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new xh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class RS extends lc{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=xa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QP extends lc{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=xa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ma{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,s){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=a[o+0],f=a[o+1],m=a[o+2],p=a[o+3];if(0===s)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===s)return e[t+0]=h,e[t+1]=f,e[t+2]=m,void(e[t+3]=p);if(d!==p||l!==h||c!==f||u!==m){let g=1-s;const _=l*h+c*f+u*m+d*p,w=_>=0?1:-1,v=1-_*_;if(v>Number.EPSILON){const b=Math.sqrt(v),x=Math.atan2(b,_*w);g=Math.sin(g*x)/b,s=Math.sin(s*x)/b}const y=s*w;if(l=l*g+h*y,c=c*g+f*y,u=u*g+m*y,d=d*g+p*y,g===1-s){const b=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=b,c*=b,u*=b,d*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,a,o){const s=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=a[o],h=a[o+1],f=a[o+2],m=a[o+3];return e[t]=s*m+u*d+l*f-c*h,e[t+1]=l*m+u*h+c*d-s*f,e[t+2]=c*m+u*f+s*h-l*d,e[t+3]=u*m-s*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(i/2),u=s(r/2),d=s(a/2),h=l(i/2),f=l(r/2),m=l(a/2);switch(o){case"XYZ":this._x=h*u*d+c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d-h*f*m;break;case"YXZ":this._x=h*u*d+c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d+h*f*m;break;case"ZXY":this._x=h*u*d-c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d-h*f*m;break;case"ZYX":this._x=h*u*d-c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d+h*f*m;break;case"YZX":this._x=h*u*d+c*f*m,this._y=c*f*d+h*u*m,this._z=c*u*m-h*f*d,this._w=c*u*d-h*f*m;break;case"XZY":this._x=h*u*d-c*f*m,this._y=c*f*d-h*u*m,this._z=c*u*m+h*f*d,this._w=c*u*d+h*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],s=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=i+s+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(a-c)*f,this._z=(o-r)*f}else if(i>s&&i>d){const f=2*Math.sqrt(1+i-s-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(a+c)/f}else if(s>d){const f=2*Math.sqrt(1+s-i-d);this._w=(a-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-s);this._w=(o-r)/f,this._x=(a+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ar(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,s=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*s+r*c-a*l,this._y=r*u+o*l+a*s-i*c,this._z=a*u+o*c+i*l-r*s,this._w=o*u-i*s-r*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let s=o*e._w+i*e._x+r*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*i+t*this._x,this._y=f*r+t*this._y,this._z=f*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=a*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(a),i*Math.cos(a),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,i=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(JP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(JP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,s=e.z,l=e.w,c=l*t+o*r-s*i,u=l*i+s*t-a*r,d=l*r+a*i-o*t,h=-a*t-o*i-s*r;return this.x=c*l+h*-a+u*-s-d*-o,this.y=u*l+h*-o+d*-a-c*-s,this.z=d*l+h*-s+c*-o-u*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=r*l-a*s,this.y=a*o-i*l,this.z=i*s-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return OS.copy(this).projectOnVector(e),this.sub(OS)}reflect(e){return this.sub(OS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ar(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const OS=new ee,JP=new Ma;class wh{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<t&&(t=u),d<i&&(i=d),h<r&&(r=h),u>a&&(a=u),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,i,r),this.max.set(a,o,s),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<t&&(t=u),d<i&&(i=d),h<r&&(r=h),u>a&&(a=u),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,i,r),this.max.set(a,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=yu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i)if(t&&null!=i.attributes&&void 0!==i.attributes.position){const a=i.attributes.position;for(let o=0,s=a.count;o<s;o++)yu.fromBufferAttribute(a,o).applyMatrix4(e.matrixWorld),this.expandByPoint(yu)}else null===i.boundingBox&&i.computeBoundingBox(),PS.copy(i.boundingBox),PS.applyMatrix4(e.matrixWorld),this.union(PS);const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yu),yu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xp),m_.subVectors(this.max,xp),Mh.subVectors(e.a,xp),Sh.subVectors(e.b,xp),Ch.subVectors(e.c,xp),cc.subVectors(Sh,Mh),uc.subVectors(Ch,Sh),bu.subVectors(Mh,Ch);let t=[0,-cc.z,cc.y,0,-uc.z,uc.y,0,-bu.z,bu.y,cc.z,0,-cc.x,uc.z,0,-uc.x,bu.z,0,-bu.x,-cc.y,cc.x,0,-uc.y,uc.x,0,-bu.y,bu.x,0];return!(!LS(t,Mh,Sh,Ch,m_)||(t=[1,0,0,0,1,0,0,0,1],!LS(t,Mh,Sh,Ch,m_)))&&(p_.crossVectors(cc,uc),t=[p_.x,p_.y,p_.z],LS(t,Mh,Sh,Ch,m_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return yu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(yu).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(vl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vl)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vl=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],yu=new ee,PS=new wh,Mh=new ee,Sh=new ee,Ch=new ee,cc=new ee,uc=new ee,bu=new ee,xp=new ee,m_=new ee,p_=new ee,xu=new ee;function LS(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){xu.fromArray(n,a);const s=r.x*Math.abs(xu.x)+r.y*Math.abs(xu.y)+r.z*Math.abs(xu.z),l=e.dot(xu),c=t.dot(xu),u=i.dot(xu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const jre=new wh,wp=new ee,BS=new ee;class Eh{constructor(e=new ee,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):jre.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wp.subVectors(e,this.center);const t=wp.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(wp,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(BS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wp.copy(e.center).add(BS)),this.expandByPoint(wp.copy(e.center).sub(BS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const _l=new ee,zS=new ee,g_=new ee,dc=new ee,US=new ee,v_=new ee,VS=new ee;class __{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_l)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_l.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_l.copy(this.direction).multiplyScalar(t).add(this.origin),_l.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){zS.copy(e).add(t).multiplyScalar(.5),g_.copy(t).sub(e).normalize(),dc.copy(this.origin).sub(zS);const a=.5*e.distanceTo(t),o=-this.direction.dot(g_),s=dc.dot(this.direction),l=-dc.dot(g_),c=dc.lengthSq(),u=Math.abs(1-o*o);let d,h,f,m;if(u>0)if(d=o*l-s,h=o*s-l,m=a*u,d>=0)if(h>=-m)if(h<=m){const p=1/u;d*=p,h*=p,f=d*(d+o*h+2*s)+h*(o*d+h+2*l)+c}else h=a,d=Math.max(0,-(o*h+s)),f=-d*d+h*(h+2*l)+c;else h=-a,d=Math.max(0,-(o*h+s)),f=-d*d+h*(h+2*l)+c;else h<=-m?(d=Math.max(0,-(-o*a+s)),h=d>0?-a:Math.min(Math.max(-a,-l),a),f=-d*d+h*(h+2*l)+c):h<=m?(d=0,h=Math.min(Math.max(-a,-l),a),f=h*(h+2*l)+c):(d=Math.max(0,-(o*a+s)),h=d>0?a:Math.min(Math.max(-a,-l),a),f=-d*d+h*(h+2*l)+c);else h=o>0?-a:a,d=Math.max(0,-(o*h+s)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(g_).multiplyScalar(h).add(zS),f}intersectSphere(e,t){_l.subVectors(e.center,this.origin);const i=_l.dot(this.direction),r=_l.dot(_l)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),s=i-o,l=i+o;return s<0&&l<0?null:this.at(s<0?l:s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(a=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(a=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),d>=0?(s=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(s=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||s>r)||((s>i||i!=i)&&(i=s),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,_l)}intersectTriangle(e,t,i,r,a){US.subVectors(t,e),v_.subVectors(i,e),VS.crossVectors(US,v_);let s,o=this.direction.dot(VS);if(o>0){if(r)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}dc.subVectors(this.origin,e);const l=s*this.direction.dot(v_.crossVectors(dc,v_));if(l<0)return null;const c=s*this.direction.dot(US.cross(dc));if(c<0||l+c>o)return null;const u=-s*dc.dot(VS);return u<0?null:this.at(u/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class cn{constructor(){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,a,o,s,l,c,u,d,h,f,m,p,g){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=r,_[1]=a,_[5]=o,_[9]=s,_[13]=l,_[2]=c,_[6]=u,_[10]=d,_[14]=h,_[3]=f,_[7]=m,_[11]=p,_[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new cn).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Dh.setFromMatrixColumn(e,0).length(),a=1/Dh.setFromMatrixColumn(e,1).length(),o=1/Dh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),s=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(a),d=Math.sin(a);if("XYZ"===e.order){const h=o*u,f=o*d,m=s*u,p=s*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+m*c,t[5]=h-p*c,t[9]=-s*l,t[2]=p-h*c,t[6]=m+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,m=c*u,p=c*d;t[0]=h+p*s,t[4]=m*s-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-s,t[2]=f*s-m,t[6]=p+h*s,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,m=c*u,p=c*d;t[0]=h-p*s,t[4]=-o*d,t[8]=m+f*s,t[1]=f+m*s,t[5]=o*u,t[9]=p-h*s,t[2]=-o*c,t[6]=s,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,m=s*u,p=s*d;t[0]=l*u,t[4]=m*c-f,t[8]=h*c+p,t[1]=l*d,t[5]=p*c+h,t[9]=f*c-m,t[2]=-c,t[6]=s*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,m=s*l,p=s*c;t[0]=l*u,t[4]=p-h*d,t[8]=m*d+f,t[1]=d,t[5]=o*u,t[9]=-s*u,t[2]=-c*u,t[6]=f*d+m,t[10]=h-p*d}else if("XZY"===e.order){const h=o*l,f=o*c,m=s*l,p=s*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+p,t[5]=o*u,t[9]=f*d-m,t[2]=m*d-f,t[6]=s*u,t[10]=p*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Xre,e,Yre)}lookAt(e,t,i){const r=this.elements;return no.subVectors(e,t),0===no.lengthSq()&&(no.z=1),no.normalize(),hc.crossVectors(i,no),0===hc.lengthSq()&&(1===Math.abs(i.z)?no.x+=1e-4:no.z+=1e-4,no.normalize(),hc.crossVectors(i,no)),hc.normalize(),y_.crossVectors(no,hc),r[0]=hc.x,r[4]=y_.x,r[8]=no.x,r[1]=hc.y,r[5]=y_.y,r[9]=no.y,r[2]=hc.z,r[6]=y_.z,r[10]=no.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],s=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],m=i[2],p=i[6],g=i[10],_=i[14],w=i[3],v=i[7],y=i[11],b=i[15],x=r[0],C=r[4],M=r[8],E=r[12],S=r[1],T=r[5],N=r[9],k=r[13],R=r[2],B=r[6],D=r[10],A=r[14],O=r[3],I=r[7],L=r[11],q=r[15];return a[0]=o*x+s*S+l*R+c*O,a[4]=o*C+s*T+l*B+c*I,a[8]=o*M+s*N+l*D+c*L,a[12]=o*E+s*k+l*A+c*q,a[1]=u*x+d*S+h*R+f*O,a[5]=u*C+d*T+h*B+f*I,a[9]=u*M+d*N+h*D+f*L,a[13]=u*E+d*k+h*A+f*q,a[2]=m*x+p*S+g*R+_*O,a[6]=m*C+p*T+g*B+_*I,a[10]=m*M+p*N+g*D+_*L,a[14]=m*E+p*k+g*A+_*q,a[3]=w*x+v*S+y*R+b*O,a[7]=w*C+v*T+y*B+b*I,a[11]=w*M+v*N+y*D+b*L,a[15]=w*E+v*k+y*A+b*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],s=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+a*l*d-r*c*d-a*s*h+i*c*h+r*s*f-i*l*f)+e[7]*(+t*l*f-t*c*h+a*o*h-r*o*f+r*c*u-a*l*u)+e[11]*(+t*c*d-t*s*f-a*o*d+i*o*f+a*s*u-i*c*u)+e[15]*(-r*s*u-t*l*d+t*s*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],m=e[12],p=e[13],g=e[14],_=e[15],w=d*g*c-p*h*c+p*l*f-s*g*f-d*l*_+s*h*_,v=m*h*c-u*g*c-m*l*f+o*g*f+u*l*_-o*h*_,y=u*p*c-m*d*c+m*s*f-o*p*f-u*s*_+o*d*_,b=m*d*l-u*p*l-m*s*h+o*p*h+u*s*g-o*d*g,x=t*w+i*v+r*y+a*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/x;return e[0]=w*C,e[1]=(p*h*a-d*g*a-p*r*f+i*g*f+d*r*_-i*h*_)*C,e[2]=(s*g*a-p*l*a+p*r*c-i*g*c-s*r*_+i*l*_)*C,e[3]=(d*l*a-s*h*a-d*r*c+i*h*c+s*r*f-i*l*f)*C,e[4]=v*C,e[5]=(u*g*a-m*h*a+m*r*f-t*g*f-u*r*_+t*h*_)*C,e[6]=(m*l*a-o*g*a-m*r*c+t*g*c+o*r*_-t*l*_)*C,e[7]=(o*h*a-u*l*a+u*r*c-t*h*c-o*r*f+t*l*f)*C,e[8]=y*C,e[9]=(m*d*a-u*p*a-m*i*f+t*p*f+u*i*_-t*d*_)*C,e[10]=(o*p*a-m*s*a+m*i*c-t*p*c-o*i*_+t*s*_)*C,e[11]=(u*s*a-o*d*a-u*i*c+t*d*c+o*i*f-t*s*f)*C,e[12]=b*C,e[13]=(u*p*r-m*d*r+m*i*h-t*p*h-u*i*g+t*d*g)*C,e[14]=(m*s*r-o*p*r-m*i*l+t*p*l+o*i*g-t*s*g)*C,e[15]=(o*d*r-u*s*r+u*i*l-t*d*l-o*i*h+t*s*h)*C,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,s=e.y,l=e.z,c=a*o,u=a*s;return this.set(c*o+i,c*s-r*l,c*l+r*s,0,c*s+r*l,u*s+i,u*l-r*o,0,c*l-r*s,u*l+r*o,a*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,c=a+a,u=o+o,d=s+s,h=a*c,f=a*u,m=a*d,p=o*u,g=o*d,_=s*d,w=l*c,v=l*u,y=l*d,b=i.x,x=i.y,C=i.z;return r[0]=(1-(p+_))*b,r[1]=(f+y)*b,r[2]=(m-v)*b,r[3]=0,r[4]=(f-y)*x,r[5]=(1-(h+_))*x,r[6]=(g+w)*x,r[7]=0,r[8]=(m+v)*C,r[9]=(g-w)*C,r[10]=(1-(h+p))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Dh.set(r[0],r[1],r[2]).length();const o=Dh.set(r[4],r[5],r[6]).length(),s=Dh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ts.copy(this);const c=1/a,u=1/o,d=1/s;return ts.elements[0]*=c,ts.elements[1]*=c,ts.elements[2]*=c,ts.elements[4]*=u,ts.elements[5]*=u,ts.elements[6]*=u,ts.elements[8]*=d,ts.elements[9]*=d,ts.elements[10]*=d,t.setFromRotationMatrix(ts),i.x=a,i.y=o,i.z=s,this}makePerspective(e,t,i,r,a,o){const s=this.elements,c=2*a/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r),h=-(o+a)/(o-a),f=-2*o*a/(o-a);return s[0]=2*a/(t-e),s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,i,r,a,o){const s=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-a),d=(t+e)*l,h=(i+r)*c,f=(o+a)*u;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Dh=new ee,ts=new cn,Xre=new ee(0,0,0),Yre=new ee(1,1,1),hc=new ee,y_=new ee,no=new ee,e3=new cn,t3=new Ma;let Zre=(()=>{class n{constructor(t=0,i=0,r=0,a=n.DefaultOrder){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,a=this._order){return this._x=t,this._y=i,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const a=t.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],d=a[9],h=a[2],f=a[6],m=a[10];switch(i){case"XYZ":this._y=Math.asin(ar(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ar(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,m),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(ar(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-ar(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(ar(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,m));break;case"XZY":this._z=Math.asin(-ar(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return e3.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e3,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return t3.setFromEuler(this),this.setFromQuaternion(t3,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return n.DefaultOrder="XYZ",n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n})();class HS{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Kre=0;const n3=new ee,Ah=new Ma,yl=new cn,b_=new ee,Mp=new ee,Qre=new ee,Jre=new Ma,r3=new ee(1,0,0),a3=new ee(0,1,0),o3=new ee(0,0,1),eae={type:"added"},s3={type:"removed"};let za=(()=>{class n extends pu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Kre++}),this.uuid=to(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();const t=new ee,i=new Zre,r=new Ma,a=new ee(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function s(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new cn},normalMatrix:{value:new Ba}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,this.layers=new HS,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Ah.setFromAxisAngle(t,i),this.quaternion.multiply(Ah),this}rotateOnWorldAxis(t,i){return Ah.setFromAxisAngle(t,i),this.quaternion.premultiply(Ah),this}rotateX(t){return this.rotateOnAxis(r3,t)}rotateY(t){return this.rotateOnAxis(a3,t)}rotateZ(t){return this.rotateOnAxis(o3,t)}translateOnAxis(t,i){return n3.copy(t).applyQuaternion(this.quaternion),this.position.add(n3.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(r3,t)}translateY(t){return this.translateOnAxis(a3,t)}translateZ(t){return this.translateOnAxis(o3,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(yl.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?b_.copy(t):b_.set(t,i,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Mp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yl.lookAt(Mp,b_,this.up):yl.lookAt(b_,Mp,this.up),this.quaternion.setFromRotationMatrix(yl),a&&(yl.extractRotation(a.matrixWorld),Ah.setFromRotationMatrix(yl),this.quaternion.premultiply(Ah.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(eae)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(s3)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(s3)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),yl.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),yl.multiply(t.parent.matrixWorld)),t.applyMatrix4(yl),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,a=this.children.length;r<a;r++){const s=this.children[r].getObjectByProperty(t,i);if(void 0!==s)return s}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let a=0,o=this.children.length;a<o;a++){const s=this.children[a].getObjectsByProperty(t,i);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mp,t,Qre),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mp,Jre,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,a=i.length;r<a;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const a=this.children;for(let o=0,s=a.length;o<s;o++){const l=a[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(a.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));a.material=l}else a.material=o(t.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++)a.animations.push(o(t.animations,this.animations[l]))}if(i){const l=s(t.geometries),c=s(t.materials),u=s(t.textures),d=s(t.images),h=s(t.shapes),f=s(t.skeletons),m=s(t.animations),p=s(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),p.length>0&&(r.nodes=p)}return r.object=a,r;function s(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DefaultUp=new ee(0,1,0),n.DefaultMatrixAutoUpdate=!0,n.DefaultMatrixWorldAutoUpdate=!0,n})();const ns=new ee,bl=new ee,GS=new ee,xl=new ee,Th=new ee,Nh=new ee,l3=new ee,qS=new ee,WS=new ee,$S=new ee;class is{constructor(e=new ee,t=new ee,i=new ee){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ns.subVectors(e,t),r.cross(ns);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){ns.subVectors(r,t),bl.subVectors(i,t),GS.subVectors(e,t);const o=ns.dot(ns),s=ns.dot(bl),l=ns.dot(GS),c=bl.dot(bl),u=bl.dot(GS),d=o*c-s*s;if(0===d)return a.set(-2,-1,-1);const h=1/d,f=(c*l-s*u)*h,m=(o*u-s*l)*h;return a.set(1-f-m,m,f)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,xl),xl.x>=0&&xl.y>=0&&xl.x+xl.y<=1}static getUV(e,t,i,r,a,o,s,l){return this.getBarycoord(e,t,i,r,xl),l.set(0,0),l.addScaledVector(a,xl.x),l.addScaledVector(o,xl.y),l.addScaledVector(s,xl.z),l}static isFrontFacing(e,t,i,r){return ns.subVectors(i,t),bl.subVectors(e,t),ns.cross(bl).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ns.subVectors(this.c,this.b),bl.subVectors(this.a,this.b),.5*ns.cross(bl).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return is.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,a){return is.getUV(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,s;Th.subVectors(r,i),Nh.subVectors(a,i),qS.subVectors(e,i);const l=Th.dot(qS),c=Nh.dot(qS);if(l<=0&&c<=0)return t.copy(i);WS.subVectors(e,r);const u=Th.dot(WS),d=Nh.dot(WS);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Th,o);$S.subVectors(e,a);const f=Th.dot($S),m=Nh.dot($S);if(m>=0&&f<=m)return t.copy(a);const p=f*c-l*m;if(p<=0&&c>=0&&m<=0)return s=c/(c-m),t.copy(i).addScaledVector(Nh,s);const g=u*m-f*d;if(g<=0&&d-u>=0&&f-m>=0)return l3.subVectors(a,r),s=(d-u)/(d-u+(f-m)),t.copy(r).addScaledVector(l3,s);const _=1/(g+p+h);return o=p*_,s=h*_,t.copy(i).addScaledVector(Th,o).addScaledVector(Nh,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tae=0;class wu extends pu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tae++}),this.uuid=to(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Mu extends wu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pr=new ee,x_=new Ue;class Er{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)x_.fromBufferAttribute(this,t),x_.applyMatrix3(e),this.setXY(t,x_.x,x_.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyMatrix3(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyMatrix4(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyNormalMatrix(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.transformDirection(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=gl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=gl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=gl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=gl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Mi(t,this.array),i=Mi(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Mi(t,this.array),i=Mi(i,this.array),r=Mi(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Mi(t,this.array),i=Mi(i,this.array),r=Mi(r,this.array),a=Mi(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class c3 extends Er{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class u3 extends Er{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Tt extends Er{constructor(e,t,i){super(new Float32Array(e),t,i)}}let nae=0;const No=new cn,jS=new za,Ih=new ee,io=new wh,Sp=new wh,kr=new ee;class vn extends pu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nae++}),this.uuid=to(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(YP(e)?u3:c3)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const a=(new Ba).getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return No.makeRotationFromQuaternion(e),this.applyMatrix4(No),this}rotateX(e){return No.makeRotationX(e),this.applyMatrix4(No),this}rotateY(e){return No.makeRotationY(e),this.applyMatrix4(No),this}rotateZ(e){return No.makeRotationZ(e),this.applyMatrix4(No),this}translate(e,t,i){return No.makeTranslation(e,t,i),this.applyMatrix4(No),this}scale(e,t,i){return No.makeScale(e,t,i),this.applyMatrix4(No),this}lookAt(e){return jS.lookAt(e),jS.updateMatrix(),this.applyMatrix4(jS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ih).negate(),this.translate(Ih.x,Ih.y,Ih.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const a=e[i];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Tt(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new wh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)io.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Eh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ee,1/0);if(e){const i=this.boundingSphere.center;if(io.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++)Sp.setFromBufferAttribute(t[a]),this.morphTargetsRelative?(kr.addVectors(io.min,Sp.min),io.expandByPoint(kr),kr.addVectors(io.max,Sp.max),io.expandByPoint(kr)):(io.expandByPoint(Sp.min),io.expandByPoint(Sp.max));io.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)kr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(kr));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)kr.fromBufferAttribute(s,c),l&&(Ih.fromBufferAttribute(e,c),kr.add(Ih)),r=Math.max(r,i.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,a=t.normal.array,o=t.uv.array,s=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Er(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let S=0;S<s;S++)c[S]=new ee,u[S]=new ee;const d=new ee,h=new ee,f=new ee,m=new Ue,p=new Ue,g=new Ue,_=new ee,w=new ee;function v(S,T,N){d.fromArray(r,3*S),h.fromArray(r,3*T),f.fromArray(r,3*N),m.fromArray(o,2*S),p.fromArray(o,2*T),g.fromArray(o,2*N),h.sub(d),f.sub(d),p.sub(m),g.sub(m);const k=1/(p.x*g.y-g.x*p.y);!isFinite(k)||(_.copy(h).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(k),w.copy(f).multiplyScalar(p.x).addScaledVector(h,-g.x).multiplyScalar(k),c[S].add(_),c[T].add(_),c[N].add(_),u[S].add(w),u[T].add(w),u[N].add(w))}let y=this.groups;0===y.length&&(y=[{start:0,count:i.length}]);for(let S=0,T=y.length;S<T;++S){const N=y[S],k=N.start;for(let B=k,D=k+N.count;B<D;B+=3)v(i[B+0],i[B+1],i[B+2])}const b=new ee,x=new ee,C=new ee,M=new ee;function E(S){C.fromArray(a,3*S),M.copy(C);const T=c[S];b.copy(T),b.sub(C.multiplyScalar(C.dot(T))).normalize(),x.crossVectors(M,T);const k=x.dot(u[S])<0?-1:1;l[4*S]=b.x,l[4*S+1]=b.y,l[4*S+2]=b.z,l[4*S+3]=k}for(let S=0,T=y.length;S<T;++S){const N=y[S],k=N.start;for(let B=k,D=k+N.count;B<D;B+=3)E(i[B+0]),E(i[B+1]),E(i[B+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Er(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new ee,a=new ee,o=new ee,s=new ee,l=new ee,c=new ee,u=new ee,d=new ee;if(e)for(let h=0,f=e.count;h<f;h+=3){const m=e.getX(h+0),p=e.getX(h+1),g=e.getX(h+2);r.fromBufferAttribute(t,m),a.fromBufferAttribute(t,p),o.fromBufferAttribute(t,g),u.subVectors(o,a),d.subVectors(r,a),u.cross(d),s.fromBufferAttribute(i,m),l.fromBufferAttribute(i,p),c.fromBufferAttribute(i,g),s.add(u),l.add(u),c.add(u),i.setXYZ(m,s.x,s.y,s.z),i.setXYZ(p,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,a),d.subVectors(r,a),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)kr.fromBufferAttribute(e,t),kr.normalize(),e.setXYZ(t,kr.x,kr.y,kr.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,d=s.normalized,h=new c.constructor(l.length*u);let f=0,m=0;for(let p=0,g=l.length;p<g;p++){f=s.isInterleavedBufferAttribute?l[p]*s.data.stride+s.offset:l[p]*u;for(let _=0;_<u;_++)h[m++]=c[f++]}return new Er(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new vn,i=this.index.array,r=this.attributes;for(const s in r){const c=e(r[s],i);t.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const l=[],c=a[s];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],i);l.push(f)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const d3=new cn,Fh=new __,XS=new Eh,Cp=new ee,Ep=new ee,Dp=new ee,YS=new ee,w_=new ee,M_=new Ue,S_=new Ue,C_=new Ue,ZS=new ee,E_=new ee;class Ua extends za{constructor(e=new vn,t=new Mu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const i=this.geometry,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const s=this.morphTargetInfluences;if(a&&s){w_.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=s[l],d=a[l];0!==u&&(YS.fromBufferAttribute(d,e),w_.addScaledVector(o?YS:YS.sub(t),u))}t.add(w_)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0===r||(null===i.boundingSphere&&i.computeBoundingSphere(),XS.copy(i.boundingSphere),XS.applyMatrix4(a),!1===e.ray.intersectsSphere(XS))||(d3.copy(a).invert(),Fh.copy(e.ray).applyMatrix4(d3),null!==i.boundingBox&&!1===Fh.intersectsBox(i.boundingBox)))return;let o;const s=i.index,l=i.attributes.position,c=i.attributes.uv,u=i.attributes.uv2,d=i.groups,h=i.drawRange;if(null!==s)if(Array.isArray(r))for(let f=0,m=d.length;f<m;f++){const p=d[f],g=r[p.materialIndex];for(let v=Math.max(p.start,h.start),y=Math.min(s.count,Math.min(p.start+p.count,h.start+h.count));v<y;v+=3){const b=s.getX(v),x=s.getX(v+1),C=s.getX(v+2);o=D_(this,g,e,Fh,c,u,b,x,C),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else for(let p=Math.max(0,h.start),g=Math.min(s.count,h.start+h.count);p<g;p+=3){const _=s.getX(p),w=s.getX(p+1),v=s.getX(p+2);o=D_(this,r,e,Fh,c,u,_,w,v),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}else if(void 0!==l)if(Array.isArray(r))for(let f=0,m=d.length;f<m;f++){const p=d[f],g=r[p.materialIndex];for(let v=Math.max(p.start,h.start),y=Math.min(l.count,Math.min(p.start+p.count,h.start+h.count));v<y;v+=3)o=D_(this,g,e,Fh,c,u,v,v+1,v+2),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=p.materialIndex,t.push(o))}else for(let p=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);p<g;p+=3)o=D_(this,r,e,Fh,c,u,p,p+1,p+2),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}}function D_(n,e,t,i,r,a,o,s,l){n.getVertexPosition(o,Cp),n.getVertexPosition(s,Ep),n.getVertexPosition(l,Dp);const c=function iae(n,e,t,i,r,a,o,s){let l;if(l=1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,0===e.side,s),null===l)return null;E_.copy(s),E_.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(E_);return c<t.near||c>t.far?null:{distance:c,point:E_.clone(),object:n}}(n,e,t,i,Cp,Ep,Dp,ZS);if(c){r&&(M_.fromBufferAttribute(r,o),S_.fromBufferAttribute(r,s),C_.fromBufferAttribute(r,l),c.uv=is.getUV(ZS,Cp,Ep,Dp,M_,S_,C_,new Ue)),a&&(M_.fromBufferAttribute(a,o),S_.fromBufferAttribute(a,s),C_.fromBufferAttribute(a,l),c.uv2=is.getUV(ZS,Cp,Ep,Dp,M_,S_,C_,new Ue));const u={a:o,b:s,c:l,normal:new ee,materialIndex:0};is.getNormal(Cp,Ep,Dp,u.normal),c.face=u}return c}class kh extends vn{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const s=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function m(p,g,_,w,v,y,b,x,C,M,E){const S=y/C,T=b/M,N=y/2,k=b/2,R=x/2,B=C+1,D=M+1;let A=0,O=0;const I=new ee;for(let L=0;L<D;L++){const q=L*T-k;for(let G=0;G<B;G++)I[p]=(G*S-N)*w,I[g]=q*v,I[_]=R,c.push(I.x,I.y,I.z),I[p]=0,I[g]=0,I[_]=x>0?1:-1,u.push(I.x,I.y,I.z),d.push(G/C),d.push(1-L/M),A+=1}for(let L=0;L<M;L++)for(let q=0;q<C;q++){const z=h+q+B*(L+1),$=h+(q+1)+B*(L+1),ae=h+(q+1)+B*L;l.push(h+q+B*L,z,ae),l.push(z,$,ae),O+=6}s.addGroup(f,O,E),f+=O,h+=A}m("z","y","x",-1,-1,i,t,e,o,a,0),m("z","y","x",1,-1,i,t,-e,o,a,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,a,4),m("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(l),this.setAttribute("position",new Tt(c,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(d,2))}static fromJSON(e){return new kh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];e[t][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function Sa(n){const e={};for(let t=0;t<n.length;t++){const i=Rh(n[t]);for(const r in i)e[r]=i[r]}return e}function h3(n){return null===n.getRenderTarget()&&n.outputEncoding===Oi?Ts:vp}const aae={clone:Rh,merge:Sa};class fc extends wu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rh(e.uniforms),this.uniformsGroups=function rae(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class KS extends za{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class jr extends KS{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*_p*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*gu*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*_p*Math.atan(Math.tan(.5*gu*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*gu*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const s=this.filmOffset;0!==s&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class lae extends za{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new jr(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const a=new jr(-90,1,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(-1,0,0),this.add(a);const o=new jr(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const s=new jr(-90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);const l=new jr(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new jr(-90,1,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[r,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,a),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,s),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class A_ extends lc{constructor(e,t,i,r,a,o,s,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,i,r,a,o,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class cae extends _u{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1};this.texture=new A_([i,i,i,i,i,i],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:mr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new kh(5,5,5),a=new fc({name:"CubemapFromEquirect",uniforms:Rh(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});a.uniforms.tEquirect.value=t;const o=new Ua(r,a),s=t.minFilter;return t.minFilter===cu&&(t.minFilter=mr),new lae(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}const QS=new ee,uae=new ee,dae=new Ba;class Su{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=QS.subVectors(i,t).cross(uae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(QS),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(i).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||dae.getNormalMatrix(e),r=this.coplanarPoint(QS).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Lh=new Eh,T_=new ee;class JS{constructor(e=new Su,t=new Su,i=new Su,r=new Su,a=new Su,o=new Su){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(i),s[3].copy(r),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],f=i[9],m=i[10],p=i[11],g=i[12],_=i[13],w=i[14],v=i[15];return t[0].setComponents(s-r,d-l,p-h,v-g).normalize(),t[1].setComponents(s+r,d+l,p+h,v+g).normalize(),t[2].setComponents(s+a,d+c,p+f,v+_).normalize(),t[3].setComponents(s-a,d-c,p-f,v-_).normalize(),t[4].setComponents(s-o,d-u,p-m,v-w).normalize(),t[5].setComponents(s+o,d+u,p+m,v+w).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Lh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSprite(e){return Lh.center.set(0,0,0),Lh.radius=.7071067811865476,Lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(T_.x=r.normal.x>0?e.max.x:e.min.x,T_.y=r.normal.y>0?e.max.y:e.min.y,T_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(T_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function f3(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function hae(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);void 0===d?i.set(c,function r(c,u){const d=c.array,h=c.usage,f=n.createBuffer();let m;if(n.bindBuffer(u,f),n.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");m=5131}else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);m=5121}return{buffer:f,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function a(c,u,d){const h=u.array,f=u.updateRange;n.bindBuffer(d,c),-1===f.count?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}class N_ extends vn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,s=Math.floor(i),l=Math.floor(r),c=s+1,u=l+1,d=e/s,h=t/l,f=[],m=[],p=[],g=[];for(let _=0;_<u;_++){const w=_*h-o;for(let v=0;v<c;v++)m.push(v*d-a,-w,0),p.push(0,0,1),g.push(v/s),g.push(1-_/l)}for(let _=0;_<l;_++)for(let w=0;w<s;w++){const y=w+c*(_+1),b=w+1+c*(_+1),x=w+1+c*_;f.push(w+c*_,y,x),f.push(y,b,x)}this.setIndex(f),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(g,2))}static fromJSON(e){return new N_(e.width,e.height,e.widthSegments,e.heightSegments)}}const wn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},gt={common:{diffuse:{value:new St(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ba},uv2Transform:{value:new Ba},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new St(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new St(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ba}},sprite:{diffuse:{value:new St(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ba}}},Ns={basic:{uniforms:Sa([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.fog]),vertexShader:wn.meshbasic_vert,fragmentShader:wn.meshbasic_frag},lambert:{uniforms:Sa([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new St(0)}}]),vertexShader:wn.meshlambert_vert,fragmentShader:wn.meshlambert_frag},phong:{uniforms:Sa([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new St(0)},specular:{value:new St(1118481)},shininess:{value:30}}]),vertexShader:wn.meshphong_vert,fragmentShader:wn.meshphong_frag},standard:{uniforms:Sa([gt.common,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.roughnessmap,gt.metalnessmap,gt.fog,gt.lights,{emissive:{value:new St(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag},toon:{uniforms:Sa([gt.common,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.gradientmap,gt.fog,gt.lights,{emissive:{value:new St(0)}}]),vertexShader:wn.meshtoon_vert,fragmentShader:wn.meshtoon_frag},matcap:{uniforms:Sa([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,{matcap:{value:null}}]),vertexShader:wn.meshmatcap_vert,fragmentShader:wn.meshmatcap_frag},points:{uniforms:Sa([gt.points,gt.fog]),vertexShader:wn.points_vert,fragmentShader:wn.points_frag},dashed:{uniforms:Sa([gt.common,gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wn.linedashed_vert,fragmentShader:wn.linedashed_frag},depth:{uniforms:Sa([gt.common,gt.displacementmap]),vertexShader:wn.depth_vert,fragmentShader:wn.depth_frag},normal:{uniforms:Sa([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,{opacity:{value:1}}]),vertexShader:wn.meshnormal_vert,fragmentShader:wn.meshnormal_frag},sprite:{uniforms:Sa([gt.sprite,gt.fog]),vertexShader:wn.sprite_vert,fragmentShader:wn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ba},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wn.background_vert,fragmentShader:wn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:wn.backgroundCube_vert,fragmentShader:wn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wn.cube_vert,fragmentShader:wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wn.equirect_vert,fragmentShader:wn.equirect_frag},distanceRGBA:{uniforms:Sa([gt.common,gt.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wn.distanceRGBA_vert,fragmentShader:wn.distanceRGBA_frag},shadow:{uniforms:Sa([gt.lights,gt.fog,{color:{value:new St(0)},opacity:{value:1}}]),vertexShader:wn.shadow_vert,fragmentShader:wn.shadow_frag}};Ns.physical={uniforms:Sa([Ns.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new St(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new St(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new St(1,1,1)},specularColorMap:{value:null}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag};const I_={r:0,b:0,g:0};function dse(n,e,t,i,r,a,o){const s=new St(0);let c,u,l=!0===a?0:1,d=null,h=0,f=null;function p(g,_){g.getRGB(I_,h3(n)),i.buffers.color.setClear(I_.r,I_.g,I_.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(g,_=1){s.set(g),l=_,p(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,p(s,l)},render:function m(g,_){let w=!1,v=!0===_.isScene?_.background:null;v&&v.isTexture&&(v=(_.backgroundBlurriness>0?t:e).get(v));const y=n.xr,b=y.getSession&&y.getSession();b&&"additive"===b.environmentBlendMode&&(v=null),null===v?p(s,l):v&&v.isColor&&(p(v,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),v&&(v.isCubeTexture||306===v.mapping)?(void 0===u&&(u=new Ua(new kh(1,1,1),new fc({name:"BackgroundCubeMaterial",uniforms:Rh(Ns.backgroundCube.uniforms),vertexShader:Ns.backgroundCube.vertexShader,fragmentShader:Ns.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(x,C,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=v.encoding!==Oi,(d!==v||h!==v.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(void 0===c&&(c=new Ua(new N_(2,2),new fc({name:"BackgroundMaterial",uniforms:Rh(Ns.background.uniforms),vertexShader:Ns.background.vertexShader,fragmentShader:Ns.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=v,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=v.encoding!==Oi,!0===v.matrixAutoUpdate&&v.updateMatrix(),c.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||h!==v.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}}}function hse(n,e,t,i){const r=n.getParameter(34921),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=g(null);let c=l,u=!1;function f(R){return i.isWebGL2?n.bindVertexArray(R):a.bindVertexArrayOES(R)}function m(R){return i.isWebGL2?n.deleteVertexArray(R):a.deleteVertexArrayOES(R)}function g(R){const B=[],D=[],A=[];for(let O=0;O<r;O++)B[O]=0,D[O]=0,A[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:D,attributeDivisors:A,object:R,attributes:{},index:null}}function v(){const R=c.newAttributes;for(let B=0,D=R.length;B<D;B++)R[B]=0}function y(R){b(R,0)}function b(R,B){const A=c.enabledAttributes,O=c.attributeDivisors;c.newAttributes[R]=1,0===A[R]&&(n.enableVertexAttribArray(R),A[R]=1),O[R]!==B&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](R,B),O[R]=B)}function x(){const R=c.newAttributes,B=c.enabledAttributes;for(let D=0,A=B.length;D<A;D++)B[D]!==R[D]&&(n.disableVertexAttribArray(D),B[D]=0)}function C(R,B,D,A,O,I){!0!==i.isWebGL2||5124!==D&&5125!==D?n.vertexAttribPointer(R,B,D,A,O,I):n.vertexAttribIPointer(R,B,D,O,I)}function N(){k(),u=!0,c!==l&&(c=l,f(c.object))}function k(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(R,B,D,A,O){let I=!1;if(o){const L=function p(R,B,D){const A=!0===D.wireframe;let O=s[R.id];void 0===O&&(O={},s[R.id]=O);let I=O[B.id];void 0===I&&(I={},O[B.id]=I);let L=I[A];return void 0===L&&(L=g(function h(){return i.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}()),I[A]=L),L}(A,D,B);c!==L&&(c=L,f(c.object)),I=function _(R,B,D,A){const O=c.attributes,I=B.attributes;let L=0;const q=D.getAttributes();for(const G in q)if(q[G].location>=0){const $=O[G];let ae=I[G];if(void 0===ae&&("instanceMatrix"===G&&R.instanceMatrix&&(ae=R.instanceMatrix),"instanceColor"===G&&R.instanceColor&&(ae=R.instanceColor)),void 0===$||$.attribute!==ae||ae&&$.data!==ae.data)return!0;L++}return c.attributesNum!==L||c.index!==A}(R,A,D,O),I&&function w(R,B,D,A){const O={},I=B.attributes;let L=0;const q=D.getAttributes();for(const G in q)if(q[G].location>=0){let $=I[G];void 0===$&&("instanceMatrix"===G&&R.instanceMatrix&&($=R.instanceMatrix),"instanceColor"===G&&R.instanceColor&&($=R.instanceColor));const ae={};ae.attribute=$,$&&$.data&&(ae.data=$.data),O[G]=ae,L++}c.attributes=O,c.attributesNum=L,c.index=A}(R,A,D,O)}else{const L=!0===B.wireframe;(c.geometry!==A.id||c.program!==D.id||c.wireframe!==L)&&(c.geometry=A.id,c.program=D.id,c.wireframe=L,I=!0)}null!==O&&t.update(O,34963),(I||u)&&(u=!1,function M(R,B,D,A){if(!1===i.isWebGL2&&(R.isInstancedMesh||A.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;v();const O=A.attributes,I=D.getAttributes(),L=B.defaultAttributeValues;for(const q in I){const G=I[q];if(G.location>=0){let z=O[q];if(void 0===z&&("instanceMatrix"===q&&R.instanceMatrix&&(z=R.instanceMatrix),"instanceColor"===q&&R.instanceColor&&(z=R.instanceColor)),void 0!==z){const $=z.normalized,ae=z.itemSize,K=t.get(z);if(void 0===K)continue;const me=K.buffer,ye=K.type,ge=K.bytesPerElement;if(z.isInterleavedBufferAttribute){const re=z.data,Ie=re.stride,be=z.offset;if(re.isInstancedInterleavedBuffer){for(let fe=0;fe<G.locationSize;fe++)b(G.location+fe,re.meshPerAttribute);!0!==R.isInstancedMesh&&void 0===A._maxInstanceCount&&(A._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let fe=0;fe<G.locationSize;fe++)y(G.location+fe);n.bindBuffer(34962,me);for(let fe=0;fe<G.locationSize;fe++)C(G.location+fe,ae/G.locationSize,ye,$,Ie*ge,(be+ae/G.locationSize*fe)*ge)}else{if(z.isInstancedBufferAttribute){for(let re=0;re<G.locationSize;re++)b(G.location+re,z.meshPerAttribute);!0!==R.isInstancedMesh&&void 0===A._maxInstanceCount&&(A._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let re=0;re<G.locationSize;re++)y(G.location+re);n.bindBuffer(34962,me);for(let re=0;re<G.locationSize;re++)C(G.location+re,ae/G.locationSize,ye,$,ae*ge,ae/G.locationSize*re*ge)}}else if(void 0!==L){const $=L[q];if(void 0!==$)switch($.length){case 2:n.vertexAttrib2fv(G.location,$);break;case 3:n.vertexAttrib3fv(G.location,$);break;case 4:n.vertexAttrib4fv(G.location,$);break;default:n.vertexAttrib1fv(G.location,$)}}}}x()}(R,B,D,A),null!==O&&n.bindBuffer(34963,t.get(O).buffer))},reset:N,resetDefaultState:k,dispose:function E(){N();for(const R in s){const B=s[R];for(const D in B){const A=B[D];for(const O in A)m(A[O].object),delete A[O];delete B[D]}delete s[R]}},releaseStatesOfGeometry:function S(R){if(void 0===s[R.id])return;const B=s[R.id];for(const D in B){const A=B[D];for(const O in A)m(A[O].object),delete A[O];delete B[D]}delete s[R.id]},releaseStatesOfProgram:function T(R){for(const B in s){const D=s[B];if(void 0===D[R.id])continue;const A=D[R.id];for(const O in A)m(A[O].object),delete A[O];delete D[R.id]}},initAttributes:v,enableAttribute:y,disableUnusedAttributes:x}}function fse(n,e,t,i){const r=i.isWebGL2;let a;this.setMode=function o(c){a=c},this.render=function s(c,u){n.drawArrays(a,c,u),t.update(u,a,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=n,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](a,c,u,d),t.update(u,a,d)}}function mse(n,e,t){let i;function a(C){if("highp"===C){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";C="mediump"}return"mediump"===C&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let s=void 0!==t.precision?t.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(34930),h=n.getParameter(35660),f=n.getParameter(3379),m=n.getParameter(34076),p=n.getParameter(34921),g=n.getParameter(36347),_=n.getParameter(36348),w=n.getParameter(36349),v=h>0,y=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const C=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:g,maxVaryings:_,maxFragmentUniforms:w,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?n.getParameter(36183):0}}function pse(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new Su,s=new Ba,l={value:null,needsUpdate:!1};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,f,m){const p=null!==d?d.length:0;let g=null;if(0!==p){if(g=l.value,!0!==m||null===g){const _=f+4*p,w=h.matrixWorldInverse;s.getNormalMatrix(w),(null===g||g.length<_)&&(g=new Float32Array(_));for(let v=0,y=f;v!==p;++v,y+=4)o.copy(d[v]).applyMatrix4(w,s),o.normal.toArray(g,y),g[y+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){const m=0!==d.length||h||0!==i||r;return r=h,t=u(d,f,0),i=d.length,m},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(d,h,f){const m=d.clippingPlanes,p=d.clipIntersection,g=d.clipShadows,_=n.get(d);if(!r||null===m||0===m.length||a&&!g)a?u(null):c();else{const w=a?0:i,v=4*w;let y=_.clippingState||null;l.value=y,y=u(m,h,v,f);for(let b=0;b!==v;++b)y[b]=t[b];_.clippingState=y,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=w}}}function gse(n){let e=new WeakMap;function t(o,s){return 303===s?o.mapping=301:304===s&&(o.mapping=302),o}function r(o){const s=o.target;s.removeEventListener("dispose",r);const l=e.get(s);void 0!==l&&(e.delete(s),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const s=o.mapping;if(303===s||304===s){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new cae(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function a(){e=new WeakMap}}}class eC extends KS{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,s=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const m3=[.125,.215,.35,.446,.526,.582],tC=new eC,p3=new St;let nC=null;const Eu=(1+Math.sqrt(5))/2,zh=1/Eu,g3=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,Eu,zh),new ee(0,Eu,-zh),new ee(zh,0,Eu),new ee(-zh,0,Eu),new ee(Eu,zh,0),new ee(-Eu,zh,0)];class v3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){nC=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=b3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=y3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nC),e.scissorTest=!1,F_(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),nC=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:mr,minFilter:mr,generateMipmaps:!1,type:gp,format:To,encoding:fu,depthBuffer:!1},r=_3(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=_3(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function vse(n){const e=[],t=[],i=[];let r=n;const a=n-4+1+m3.length;for(let o=0;o<a;o++){const s=Math.pow(2,r);t.push(s);let l=1/s;o>n-4?l=m3[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(s-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,m=6,p=3,g=2,_=1,w=new Float32Array(p*m*f),v=new Float32Array(g*m*f),y=new Float32Array(_*m*f);for(let x=0;x<f;x++){const C=x%3*2/3-1,M=x>2?0:-1;w.set([C,M,0,C+2/3,M,0,C+2/3,M+1,0,C,M,0,C+2/3,M+1,0,C,M+1,0],p*m*x),v.set(h,g*m*x),y.set([x,x,x,x,x,x],_*m*x)}const b=new vn;b.setAttribute("position",new Er(w,p)),b.setAttribute("uv",new Er(v,g)),b.setAttribute("faceIndex",new Er(y,_)),e.push(b),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(a)),this._blurMaterial=function _se(n,e,t){const i=new Float32Array(20),r=new ee(0,1,0);return new fc({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(a,e,t)}return r}_compileMaterial(e){const t=new Ua(this._lodPlanes[0],e);this._renderer.compile(t,tC)}_sceneToCubeUV(e,t,i,r){const s=new jr(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(p3),u.toneMapping=0,u.autoClear=!1;const f=new Mu({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),m=new Ua(new kh,f);let p=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,p=!0):(f.color.copy(p3),p=!0);for(let _=0;_<6;_++){const w=_%3;0===w?(s.up.set(0,l[_],0),s.lookAt(c[_],0,0)):1===w?(s.up.set(0,0,l[_]),s.lookAt(0,c[_],0)):(s.up.set(0,l[_],0),s.lookAt(0,0,c[_]));const v=this._cubeSize;F_(r,w*v,_>2?v:0,v,v),u.setRenderTarget(r),p&&u.render(m,s),u.render(e,s)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=b3()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=y3());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Ua(this._lodPlanes[0],a);a.uniforms.envMap.value=e;const l=this._cubeSize;F_(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,tC)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,a,g3[(r-1)%g3.length])}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,s){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Ua(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,m=isFinite(a)?Math.PI/(2*f):2*Math.PI/39,p=a/m,g=isFinite(a)?1+Math.floor(3*p):20;g>20&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const _=[];let w=0;for(let C=0;C<20;++C){const M=C/p,E=Math.exp(-M*M/2);_.push(E),0===C?w+=E:C<g&&(w+=2*E)}for(let C=0;C<_.length;C++)_[C]=_[C]/w;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=_,h.latitudinal.value="latitudinal"===o,s&&(h.poleAxis.value=s);const{_lodMax:v}=this;h.dTheta.value=m,h.mipInt.value=v-i;const y=this._sizeLods[r];F_(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),l.setRenderTarget(t),l.render(d,tC)}}function _3(n,e,t){const i=new _u(n,e,t);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function F_(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function y3(){return new fc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function b3(){return new fc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function yse(n){let e=new WeakMap,t=null;function a(s){const l=s.target;l.removeEventListener("dispose",a);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(s){if(s&&s.isTexture){const l=s.mapping,c=303===l||304===l,u=301===l||302===l;if(c||u){if(s.isRenderTargetTexture&&!0===s.needsPMREMUpdate){s.needsPMREMUpdate=!1;let d=e.get(s);return null===t&&(t=new v3(n)),d=c?t.fromEquirectangular(s,d):t.fromCubemap(s,d),e.set(s,d),d.texture}if(e.has(s))return e.get(s).texture;{const d=s.image;if(c&&d&&d.height>0||u&&d&&function r(s){let l=0;for(let u=0;u<6;u++)void 0!==s[u]&&l++;return 6===l}(d)){null===t&&(t=new v3(n));const h=c?t.fromEquirectangular(s):t.fromCubemap(s);return e.set(s,h),s.addEventListener("dispose",a),h.texture}return null}}}return s},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function bse(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function xse(n,e,t,i){const r={},a=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete r[h.id];const f=a.get(h);f&&(e.remove(f),a.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,m=d.attributes.position;let p=0;if(null!==f){const w=f.array;p=f.version;for(let v=0,y=w.length;v<y;v+=3){const b=w[v+0],x=w[v+1],C=w[v+2];h.push(b,x,x,C,C,b)}}else{p=m.version;for(let v=0,y=m.array.length/3-1;v<y;v+=3){const b=v+0,x=v+1,C=v+2;h.push(b,x,x,C,C,b)}}const g=new(YP(h)?u3:c3)(h,1);g.version=p;const _=a.get(d);_&&e.remove(_),a.set(d,g)}return{get:function s(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function l(d){const h=d.attributes;for(const m in h)e.update(h[m],34962);const f=d.morphAttributes;for(const m in f){const p=f[m];for(let g=0,_=p.length;g<_;g++)e.update(p[g],34962)}},getWireframeAttribute:function u(d){const h=a.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return a.get(d)}}}function wse(n,e,t,i){const r=i.isWebGL2;let a,s,l;this.setMode=function o(h){a=h},this.setIndex=function c(h){s=h.type,l=h.bytesPerElement},this.render=function u(h,f){n.drawElements(a,f,s,h*l),t.update(f,a,1)},this.renderInstances=function d(h,f,m){if(0===m)return;let p,g;if(r)p=n,g="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===p)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");p[g](a,f,s,h*l,m),t.update(f,a,m)}}function Mse(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(a,o,s){switch(t.calls++,o){case 4:t.triangles+=s*(a/3);break;case 1:t.lines+=s*(a/2);break;case 3:t.lines+=s*(a-1);break;case 2:t.lines+=s*a;break;case 0:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function Sse(n,e){return n[0]-e[0]}function Cse(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Ese(n,e,t){const i={},r=new Float32Array(8),a=new WeakMap,o=new _i,s=[];for(let c=0;c<8;c++)s[c]=[c,0];return{update:function l(c,u,d,h){const f=c.morphTargetInfluences;if(!0===e.isWebGL2){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==m?m.length:0;let g=a.get(u);if(void 0===g||g.count!==p){let B=function(){k.dispose(),a.delete(u),u.removeEventListener("dispose",B)};void 0!==g&&g.texture.dispose();const v=void 0!==u.morphAttributes.position,y=void 0!==u.morphAttributes.normal,b=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let E=0;!0===v&&(E=1),!0===y&&(E=2),!0===b&&(E=3);let S=u.attributes.position.count*E,T=1;S>e.maxTextureSize&&(T=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const N=new Float32Array(S*T*4*p),k=new RS(N,S,T,p);k.type=sc,k.needsUpdate=!0;const R=4*E;for(let D=0;D<p;D++){const A=x[D],O=C[D],I=M[D],L=S*T*4*D;for(let q=0;q<A.count;q++){const G=q*R;!0===v&&(o.fromBufferAttribute(A,q),N[L+G+0]=o.x,N[L+G+1]=o.y,N[L+G+2]=o.z,N[L+G+3]=0),!0===y&&(o.fromBufferAttribute(O,q),N[L+G+4]=o.x,N[L+G+5]=o.y,N[L+G+6]=o.z,N[L+G+7]=0),!0===b&&(o.fromBufferAttribute(I,q),N[L+G+8]=o.x,N[L+G+9]=o.y,N[L+G+10]=o.z,N[L+G+11]=4===I.itemSize?o.w:1)}}g={count:p,texture:k,size:new Ue(S,T)},a.set(u,g),u.addEventListener("dispose",B)}let _=0;for(let v=0;v<f.length;v++)_+=f[v];const w=u.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",w),h.getUniforms().setValue(n,"morphTargetInfluences",f),h.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const m=void 0===f?0:f.length;let p=i[u.id];if(void 0===p||p.length!==m){p=[];for(let y=0;y<m;y++)p[y]=[y,0];i[u.id]=p}for(let y=0;y<m;y++){const b=p[y];b[0]=y,b[1]=f[y]}p.sort(Cse);for(let y=0;y<8;y++)y<m&&p[y][1]?(s[y][0]=p[y][0],s[y][1]=p[y][1]):(s[y][0]=Number.MAX_SAFE_INTEGER,s[y][1]=0);s.sort(Sse);const g=u.morphAttributes.position,_=u.morphAttributes.normal;let w=0;for(let y=0;y<8;y++){const b=s[y],x=b[0],C=b[1];x!==Number.MAX_SAFE_INTEGER&&C?(g&&u.getAttribute("morphTarget"+y)!==g[x]&&u.setAttribute("morphTarget"+y,g[x]),_&&u.getAttribute("morphNormal"+y)!==_[x]&&u.setAttribute("morphNormal"+y,_[x]),r[y]=C,w+=C):(g&&!0===u.hasAttribute("morphTarget"+y)&&u.deleteAttribute("morphTarget"+y),_&&!0===u.hasAttribute("morphNormal"+y)&&u.deleteAttribute("morphNormal"+y),r[y]=0)}const v=u.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",v),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function Dse(n,e,t,i){let r=new WeakMap;function s(l){const c=l.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function a(l){const c=i.render.frame,d=e.get(l,l.geometry);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",s)&&l.addEventListener("dispose",s),t.update(l.instanceMatrix,34962),null!==l.instanceColor&&t.update(l.instanceColor,34962)),d},dispose:function o(){r=new WeakMap}}}const x3=new lc,w3=new RS,M3=new QP,S3=new A_,C3=[],E3=[],D3=new Float32Array(16),A3=new Float32Array(9),T3=new Float32Array(4);function Uh(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=C3[r];if(void 0===a&&(a=new Float32Array(r),C3[r]=a),0!==e){i.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function Dr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ar(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function k_(n,e){let t=E3[e];void 0===t&&(t=new Int32Array(e),E3[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Ase(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Tse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2fv(this.addr,e),Ar(t,e)}}function Nse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Dr(t,e))return;n.uniform3fv(this.addr,e),Ar(t,e)}}function Ise(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4fv(this.addr,e),Ar(t,e)}}function Fse(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Dr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ar(t,e)}else{if(Dr(t,i))return;T3.set(i),n.uniformMatrix2fv(this.addr,!1,T3),Ar(t,i)}}function kse(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Dr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ar(t,e)}else{if(Dr(t,i))return;A3.set(i),n.uniformMatrix3fv(this.addr,!1,A3),Ar(t,i)}}function Rse(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Dr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ar(t,e)}else{if(Dr(t,i))return;D3.set(i),n.uniformMatrix4fv(this.addr,!1,D3),Ar(t,i)}}function Ose(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Pse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2iv(this.addr,e),Ar(t,e)}}function Lse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3iv(this.addr,e),Ar(t,e)}}function Bse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4iv(this.addr,e),Ar(t,e)}}function zse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Use(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2uiv(this.addr,e),Ar(t,e)}}function Vse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3uiv(this.addr,e),Ar(t,e)}}function Hse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4uiv(this.addr,e),Ar(t,e)}}function Gse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||x3,r)}function qse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||M3,r)}function Wse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||S3,r)}function $se(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||w3,r)}function Xse(n,e){n.uniform1fv(this.addr,e)}function Yse(n,e){const t=Uh(e,this.size,2);n.uniform2fv(this.addr,t)}function Zse(n,e){const t=Uh(e,this.size,3);n.uniform3fv(this.addr,t)}function Kse(n,e){const t=Uh(e,this.size,4);n.uniform4fv(this.addr,t)}function Qse(n,e){const t=Uh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Jse(n,e){const t=Uh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ele(n,e){const t=Uh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function tle(n,e){n.uniform1iv(this.addr,e)}function nle(n,e){n.uniform2iv(this.addr,e)}function ile(n,e){n.uniform3iv(this.addr,e)}function rle(n,e){n.uniform4iv(this.addr,e)}function ale(n,e){n.uniform1uiv(this.addr,e)}function ole(n,e){n.uniform2uiv(this.addr,e)}function sle(n,e){n.uniform3uiv(this.addr,e)}function lle(n,e){n.uniform4uiv(this.addr,e)}function cle(n,e,t){const i=this.cache,r=e.length,a=k_(t,r);Dr(i,a)||(n.uniform1iv(this.addr,a),Ar(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||x3,a[o])}function ule(n,e,t){const i=this.cache,r=e.length,a=k_(t,r);Dr(i,a)||(n.uniform1iv(this.addr,a),Ar(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||M3,a[o])}function dle(n,e,t){const i=this.cache,r=e.length,a=k_(t,r);Dr(i,a)||(n.uniform1iv(this.addr,a),Ar(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||S3,a[o])}function hle(n,e,t){const i=this.cache,r=e.length,a=k_(t,r);Dr(i,a)||(n.uniform1iv(this.addr,a),Ar(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||w3,a[o])}class mle{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function jse(n){switch(n){case 5126:return Ase;case 35664:return Tse;case 35665:return Nse;case 35666:return Ise;case 35674:return Fse;case 35675:return kse;case 35676:return Rse;case 5124:case 35670:return Ose;case 35667:case 35671:return Pse;case 35668:case 35672:return Lse;case 35669:case 35673:return Bse;case 5125:return zse;case 36294:return Use;case 36295:return Vse;case 36296:return Hse;case 35678:case 36198:case 36298:case 36306:case 35682:return Gse;case 35679:case 36299:case 36307:return qse;case 35680:case 36300:case 36308:case 36293:return Wse;case 36289:case 36303:case 36311:case 36292:return $se}}(t.type)}}class ple{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function fle(n){switch(n){case 5126:return Xse;case 35664:return Yse;case 35665:return Zse;case 35666:return Kse;case 35674:return Qse;case 35675:return Jse;case 35676:return ele;case 5124:case 35670:return tle;case 35667:case 35671:return nle;case 35668:case 35672:return ile;case 35669:case 35673:return rle;case 5125:return ale;case 36294:return ole;case 36295:return sle;case 36296:return lle;case 35678:case 36198:case 36298:case 36306:case 35682:return cle;case 35679:case 36299:case 36307:return ule;case 35680:case 36300:case 36308:case 36293:return dle;case 36289:case 36303:case 36311:case 36292:return hle}}(t.type)}}class gle{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const s=r[a];s.setValue(e,t[s.id],i)}}}const rC=/(\w+)(\])?(\[|\.)?/g;function N3(n,e){n.seq.push(e),n.map[e.id]=e}function vle(n,e,t){const i=n.name,r=i.length;for(rC.lastIndex=0;;){const a=rC.exec(i),o=rC.lastIndex;let s=a[1];const c=a[3];if("]"===a[2]&&(s|=0),void 0===c||"["===c&&o+2===r){N3(t,void 0===c?new mle(s,n,e):new ple(s,n,e));break}{let d=t.map[s];void 0===d&&(d=new gle(s),N3(t,d)),t=d}}}class R_{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r);vle(a,e.getUniformLocation(t,a.name),this)}}setValue(e,t,i,r){const a=this.map[t];void 0!==a&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=i[s.id];!1!==l.needsUpdate&&s.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function I3(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let _le=0;function F3(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function yle(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const s=o+1;i.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function xle(n,e){const t=function ble(n){switch(n){case fu:return["Linear","( value )"];case Oi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function wle(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Ap(n){return""!==n}function k3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function R3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ele=/^[ \t]*#include +<([\w\d./]+)>/gm;function aC(n){return n.replace(Ele,Dle)}function Dle(n,e){const t=wn[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return aC(t)}const Ale=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function O3(n){return n.replace(Ale,Tle)}function Tle(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function P3(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Ole(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=function Nle(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function Ile(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function Fle(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function kle(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Rle(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),f=t.isWebGL2?"":function Mle(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ap).join("\n")}(t),m=function Sle(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(a),p=r.createProgram();let g,_,w=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=[m].filter(Ap).join("\n"),g.length>0&&(g+="\n"),_=[f,m].filter(Ap).join("\n"),_.length>0&&(_+="\n")):(g=[P3(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ap).join("\n"),_=[f,P3(t),"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?wn.tonemapping_pars_fragment:"",0!==t.toneMapping?wle("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wn.encodings_pars_fragment,xle("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Ap).join("\n")),o=aC(o),o=k3(o,t),o=R3(o,t),s=aC(s),s=k3(s,t),s=R3(s,t),o=O3(o),s=O3(s),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(w="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,_=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const y=w+_+s,b=I3(r,35633,w+g+o),x=I3(r,35632,y);if(r.attachShader(p,b),r.attachShader(p,x),void 0!==t.index0AttributeName?r.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),n.debug.checkShaderErrors){const E=r.getProgramInfoLog(p).trim(),S=r.getShaderInfoLog(b).trim(),T=r.getShaderInfoLog(x).trim();let N=!0,k=!0;if(!1===r.getProgramParameter(p,35714)){N=!1;const R=F3(r,b,"vertex"),B=F3(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,35715)+"\n\nProgram Info Log: "+E+"\n"+R+"\n"+B)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):(""===S||""===T)&&(k=!1);k&&(this.diagnostics={runnable:N,programLog:E,vertexShader:{log:S,prefix:g},fragmentShader:{log:T,prefix:_}})}let C,M;return r.deleteShader(b),r.deleteShader(x),this.getUniforms=function(){return void 0===C&&(C=new R_(r,p)),C},this.getAttributes=function(){return void 0===M&&(M=function Cle(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}(r,p)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=t.shaderName,this.id=_le++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=b,this.fragmentShader=x,this}let Ple=0;class Lle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(a)&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Ble(e),t.set(e,i)),i}}class Ble{constructor(e){this.id=Ple++,this.code=e,this.usedTimes=0}}function zle(n,e,t,i,r,a,o){const s=new HS,l=new Lle,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function p(M,E,S,T,N){const k=T.fog,R=N.geometry,D=(M.isMeshStandardMaterial?t:e).get(M.envMap||(M.isMeshStandardMaterial?T.environment:null)),A=D&&306===D.mapping?D.image.height:null,O=m[M.type];null!==M.precision&&(f=r.getMaxPrecision(M.precision),f!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",f,"instead."));const I=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,L=void 0!==I?I.length:0;let G,z,$,ae,q=0;if(void 0!==R.morphAttributes.position&&(q=1),void 0!==R.morphAttributes.normal&&(q=2),void 0!==R.morphAttributes.color&&(q=3),O){const Ie=Ns[O];G=Ie.vertexShader,z=Ie.fragmentShader}else G=M.vertexShader,z=M.fragmentShader,l.update(M),$=l.getVertexShaderID(M),ae=l.getFragmentShaderID(M);const K=n.getRenderTarget(),ye=M.clearcoat>0,ge=M.iridescence>0;return{isWebGL2:u,shaderID:O,shaderName:M.type,vertexShader:G,fragmentShader:z,defines:M.defines,customVertexShaderID:$,customFragmentShaderID:ae,isRawShaderMaterial:!0===M.isRawShaderMaterial,glslVersion:M.glslVersion,precision:f,instancing:!0===N.isInstancedMesh,instancingColor:!0===N.isInstancedMesh&&null!==N.instanceColor,supportsVertexTextures:h,outputEncoding:null===K?n.outputEncoding:!0===K.isXRRenderTarget?K.texture.encoding:fu,map:!!M.map,matcap:!!M.matcap,envMap:!!D,envMapMode:D&&D.mapping,envMapCubeUVHeight:A,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:1===M.normalMapType,tangentSpaceNormalMap:0===M.normalMapType,decodeVideoTexture:!!M.map&&!0===M.map.isVideoTexture&&M.map.encoding===Oi,clearcoat:ye,clearcoatMap:ye&&!!M.clearcoatMap,clearcoatRoughnessMap:ye&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:ye&&!!M.clearcoatNormalMap,iridescence:ge,iridescenceMap:ge&&!!M.iridescenceMap,iridescenceThicknessMap:ge&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:!1===M.transparent&&1===M.blending,alphaMap:!!M.alphaMap,alphaTest:M.alphaTest>0,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!R.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:!0===M.vertexColors&&!!R.attributes.color&&4===R.attributes.color.itemSize,vertexUvs:!!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatMap||M.clearcoatRoughnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.displacementMap||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheenColorMap||M.sheenRoughnessMap),uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap||!M.displacementMap),fog:!!k,useFog:!0===M.fog,fogExp2:k&&k.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===N.isSkinnedMesh,morphTargets:void 0!==R.morphAttributes.position,morphNormals:void 0!==R.morphAttributes.normal,morphColors:void 0!==R.morphAttributes.color,morphTargetsCount:L,morphTextureStride:q,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&S.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:2===M.side,flipSided:1===M.side,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}},getProgramCacheKey:function g(M){const E=[];if(M.shaderID?E.push(M.shaderID):(E.push(M.customVertexShaderID),E.push(M.customFragmentShaderID)),void 0!==M.defines)for(const S in M.defines)E.push(S),E.push(M.defines[S]);return!1===M.isRawShaderMaterial&&(function _(M,E){M.push(E.precision),M.push(E.outputEncoding),M.push(E.envMapMode),M.push(E.envMapCubeUVHeight),M.push(E.combine),M.push(E.vertexUvs),M.push(E.fogExp2),M.push(E.sizeAttenuation),M.push(E.morphTargetsCount),M.push(E.morphAttributeCount),M.push(E.numDirLights),M.push(E.numPointLights),M.push(E.numSpotLights),M.push(E.numSpotLightMaps),M.push(E.numHemiLights),M.push(E.numRectAreaLights),M.push(E.numDirLightShadows),M.push(E.numPointLightShadows),M.push(E.numSpotLightShadows),M.push(E.numSpotLightShadowsWithMaps),M.push(E.shadowMapType),M.push(E.toneMapping),M.push(E.numClippingPlanes),M.push(E.numClipIntersection),M.push(E.depthPacking)}(E,M),function w(M,E){s.disableAll(),E.isWebGL2&&s.enable(0),E.supportsVertexTextures&&s.enable(1),E.instancing&&s.enable(2),E.instancingColor&&s.enable(3),E.map&&s.enable(4),E.matcap&&s.enable(5),E.envMap&&s.enable(6),E.lightMap&&s.enable(7),E.aoMap&&s.enable(8),E.emissiveMap&&s.enable(9),E.bumpMap&&s.enable(10),E.normalMap&&s.enable(11),E.objectSpaceNormalMap&&s.enable(12),E.tangentSpaceNormalMap&&s.enable(13),E.clearcoat&&s.enable(14),E.clearcoatMap&&s.enable(15),E.clearcoatRoughnessMap&&s.enable(16),E.clearcoatNormalMap&&s.enable(17),E.iridescence&&s.enable(18),E.iridescenceMap&&s.enable(19),E.iridescenceThicknessMap&&s.enable(20),E.displacementMap&&s.enable(21),E.specularMap&&s.enable(22),E.roughnessMap&&s.enable(23),E.metalnessMap&&s.enable(24),E.gradientMap&&s.enable(25),E.alphaMap&&s.enable(26),E.alphaTest&&s.enable(27),E.vertexColors&&s.enable(28),E.vertexAlphas&&s.enable(29),E.vertexUvs&&s.enable(30),E.vertexTangents&&s.enable(31),E.uvsVertexOnly&&s.enable(32),M.push(s.mask),s.disableAll(),E.fog&&s.enable(0),E.useFog&&s.enable(1),E.flatShading&&s.enable(2),E.logarithmicDepthBuffer&&s.enable(3),E.skinning&&s.enable(4),E.morphTargets&&s.enable(5),E.morphNormals&&s.enable(6),E.morphColors&&s.enable(7),E.premultipliedAlpha&&s.enable(8),E.shadowMapEnabled&&s.enable(9),E.physicallyCorrectLights&&s.enable(10),E.doubleSided&&s.enable(11),E.flipSided&&s.enable(12),E.useDepthPacking&&s.enable(13),E.dithering&&s.enable(14),E.specularIntensityMap&&s.enable(15),E.specularColorMap&&s.enable(16),E.transmission&&s.enable(17),E.transmissionMap&&s.enable(18),E.thicknessMap&&s.enable(19),E.sheen&&s.enable(20),E.sheenColorMap&&s.enable(21),E.sheenRoughnessMap&&s.enable(22),E.decodeVideoTexture&&s.enable(23),E.opaque&&s.enable(24),M.push(s.mask)}(E,M),E.push(n.outputEncoding)),E.push(M.customProgramCacheKey),E.join()},getUniforms:function v(M){const E=m[M.type];let S;return S=E?aae.clone(Ns[E].uniforms):M.uniforms,S},acquireProgram:function y(M,E){let S;for(let T=0,N=c.length;T<N;T++){const k=c[T];if(k.cacheKey===E){S=k,++S.usedTimes;break}}return void 0===S&&(S=new Ole(n,E,M,a),c.push(S)),S},releaseProgram:function b(M){if(0==--M.usedTimes){const E=c.indexOf(M);c[E]=c[c.length-1],c.pop(),M.destroy()}},releaseShaderCache:function x(M){l.remove(M)},programs:c,dispose:function C(){l.dispose()}}}function Ule(){let n=new WeakMap;return{get:function e(a){let o=n.get(a);return void 0===o&&(o={},n.set(a,o)),o},remove:function t(a){n.delete(a)},update:function i(a,o,s){n.get(a)[o]=s},dispose:function r(){n=new WeakMap}}}function Vle(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function L3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function B3(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,h,f,m,p,g){let _=n[e];return void 0===_?(_={id:d.id,object:d,geometry:h,material:f,groupOrder:m,renderOrder:d.renderOrder,z:p,group:g},n[e]=_):(_.id=d.id,_.object=d,_.geometry=h,_.material=f,_.groupOrder=m,_.renderOrder=d.renderOrder,_.z=p,_.group=g),e++,_}return{opaque:t,transmissive:i,transparent:r,init:function a(){e=0,t.length=0,i.length=0,r.length=0},push:function s(d,h,f,m,p,g){const _=o(d,h,f,m,p,g);f.transmission>0?i.push(_):!0===f.transparent?r.push(_):t.push(_)},unshift:function l(d,h,f,m,p,g){const _=o(d,h,f,m,p,g);f.transmission>0?i.unshift(_):!0===f.transparent?r.unshift(_):t.unshift(_)},finish:function u(){for(let d=e,h=n.length;d<h;d++){const f=n[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){t.length>1&&t.sort(d||Vle),i.length>1&&i.sort(h||L3),r.length>1&&r.sort(h||L3)}}}function Hle(){let n=new WeakMap;return{get:function e(i,r){const a=n.get(i);let o;return void 0===a?(o=new B3,n.set(i,[o])):r>=a.length?(o=new B3,a.push(o)):o=a[r],o},dispose:function t(){n=new WeakMap}}}function Gle(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new St};break;case"SpotLight":t={position:new ee,direction:new ee,color:new St,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new St,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new St,groundColor:new St};break;case"RectAreaLight":t={color:new St,position:new ee,halfWidth:new ee,halfHeight:new ee}}return n[e.id]=t,t}}}let Wle=0;function $le(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function jle(n,e){const t=new Gle,i=function qle(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new ee);const a=new ee,o=new cn,s=new cn;return{setup:function l(u,d){let h=0,f=0,m=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let p=0,g=0,_=0,w=0,v=0,y=0,b=0,x=0,C=0,M=0;u.sort($le);const E=!0!==d?Math.PI:1;for(let T=0,N=u.length;T<N;T++){const k=u[T],R=k.color,B=k.intensity,D=k.distance,A=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)h+=R.r*B*E,f+=R.g*B*E,m+=R.b*B*E;else if(k.isLightProbe)for(let O=0;O<9;O++)r.probe[O].addScaledVector(k.sh.coefficients[O],B);else if(k.isDirectionalLight){const O=t.get(k);if(O.color.copy(k.color).multiplyScalar(k.intensity*E),k.castShadow){const I=k.shadow,L=i.get(k);L.shadowBias=I.bias,L.shadowNormalBias=I.normalBias,L.shadowRadius=I.radius,L.shadowMapSize=I.mapSize,r.directionalShadow[p]=L,r.directionalShadowMap[p]=A,r.directionalShadowMatrix[p]=k.shadow.matrix,y++}r.directional[p]=O,p++}else if(k.isSpotLight){const O=t.get(k);O.position.setFromMatrixPosition(k.matrixWorld),O.color.copy(R).multiplyScalar(B*E),O.distance=D,O.coneCos=Math.cos(k.angle),O.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),O.decay=k.decay,r.spot[_]=O;const I=k.shadow;if(k.map&&(r.spotLightMap[C]=k.map,C++,I.updateMatrices(k),k.castShadow&&M++),r.spotLightMatrix[_]=I.matrix,k.castShadow){const L=i.get(k);L.shadowBias=I.bias,L.shadowNormalBias=I.normalBias,L.shadowRadius=I.radius,L.shadowMapSize=I.mapSize,r.spotShadow[_]=L,r.spotShadowMap[_]=A,x++}_++}else if(k.isRectAreaLight){const O=t.get(k);O.color.copy(R).multiplyScalar(B),O.halfWidth.set(.5*k.width,0,0),O.halfHeight.set(0,.5*k.height,0),r.rectArea[w]=O,w++}else if(k.isPointLight){const O=t.get(k);if(O.color.copy(k.color).multiplyScalar(k.intensity*E),O.distance=k.distance,O.decay=k.decay,k.castShadow){const I=k.shadow,L=i.get(k);L.shadowBias=I.bias,L.shadowNormalBias=I.normalBias,L.shadowRadius=I.radius,L.shadowMapSize=I.mapSize,L.shadowCameraNear=I.camera.near,L.shadowCameraFar=I.camera.far,r.pointShadow[g]=L,r.pointShadowMap[g]=A,r.pointShadowMatrix[g]=k.shadow.matrix,b++}r.point[g]=O,g++}else if(k.isHemisphereLight){const O=t.get(k);O.skyColor.copy(k.color).multiplyScalar(B*E),O.groundColor.copy(k.groundColor).multiplyScalar(B*E),r.hemi[v]=O,v++}}w>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=gt.LTC_FLOAT_1,r.rectAreaLTC2=gt.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=gt.LTC_HALF_1,r.rectAreaLTC2=gt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=m;const S=r.hash;(S.directionalLength!==p||S.pointLength!==g||S.spotLength!==_||S.rectAreaLength!==w||S.hemiLength!==v||S.numDirectionalShadows!==y||S.numPointShadows!==b||S.numSpotShadows!==x||S.numSpotMaps!==C)&&(r.directional.length=p,r.spot.length=_,r.rectArea.length=w,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=x+C-M,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=M,S.directionalLength=p,S.pointLength=g,S.spotLength=_,S.rectAreaLength=w,S.hemiLength=v,S.numDirectionalShadows=y,S.numPointShadows=b,S.numSpotShadows=x,S.numSpotMaps=C,r.version=Wle++)},setupView:function c(u,d){let h=0,f=0,m=0,p=0,g=0;const _=d.matrixWorldInverse;for(let w=0,v=u.length;w<v;w++){const y=u[w];if(y.isDirectionalLight){const b=r.directional[h];b.direction.setFromMatrixPosition(y.matrixWorld),a.setFromMatrixPosition(y.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(_),h++}else if(y.isSpotLight){const b=r.spot[m];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(_),b.direction.setFromMatrixPosition(y.matrixWorld),a.setFromMatrixPosition(y.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(_),m++}else if(y.isRectAreaLight){const b=r.rectArea[p];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(_),s.identity(),o.copy(y.matrixWorld),o.premultiply(_),s.extractRotation(o),b.halfWidth.set(.5*y.width,0,0),b.halfHeight.set(0,.5*y.height,0),b.halfWidth.applyMatrix4(s),b.halfHeight.applyMatrix4(s),p++}else if(y.isPointLight){const b=r.point[f];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(_),f++}else if(y.isHemisphereLight){const b=r.hemi[g];b.direction.setFromMatrixPosition(y.matrixWorld),b.direction.transformDirection(_),g++}}},state:r}}function z3(n,e){const t=new jle(n,e),i=[],r=[];return{init:function a(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function l(d){t.setup(i,d)},setupLightsView:function c(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function s(d){r.push(d)}}}function Xle(n,e){let t=new WeakMap;return{get:function i(a,o=0){const s=t.get(a);let l;return void 0===s?(l=new z3(n,e),t.set(a,[l])):o>=s.length?(l=new z3(n,e),s.push(l)):l=s[o],l},dispose:function r(){t=new WeakMap}}}class U3 extends wu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class V3 extends wu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Kle(n,e,t){let i=new JS;const r=new Ue,a=new Ue,o=new _i,s=new U3({depthPacking:3201}),l=new V3,c={},u=t.maxTextureSize,d={0:1,1:0,2:2},h=new fc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const m=new vn;m.setAttribute("position",new Er(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Ua(m,h),g=this;function _(y,b){const x=e.update(p);h.defines.VSM_SAMPLES!==y.blurSamples&&(h.defines.VSM_SAMPLES=y.blurSamples,f.defines.VSM_SAMPLES=y.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===y.mapPass&&(y.mapPass=new _u(r.x,r.y)),h.uniforms.shadow_pass.value=y.map.texture,h.uniforms.resolution.value=y.mapSize,h.uniforms.radius.value=y.radius,n.setRenderTarget(y.mapPass),n.clear(),n.renderBufferDirect(b,null,x,h,p,null),f.uniforms.shadow_pass.value=y.mapPass.texture,f.uniforms.resolution.value=y.mapSize,f.uniforms.radius.value=y.radius,n.setRenderTarget(y.map),n.clear(),n.renderBufferDirect(b,null,x,f,p,null)}function w(y,b,x,C,M,E){let S=null;const T=!0===x.isPointLight?y.customDistanceMaterial:y.customDepthMaterial;if(void 0!==T)S=T;else if(S=!0===x.isPointLight?l:s,n.localClippingEnabled&&!0===b.clipShadows&&Array.isArray(b.clippingPlanes)&&0!==b.clippingPlanes.length||b.displacementMap&&0!==b.displacementScale||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const N=S.uuid,k=b.uuid;let R=c[N];void 0===R&&(R={},c[N]=R);let B=R[k];void 0===B&&(B=S.clone(),R[k]=B),S=B}return S.visible=b.visible,S.wireframe=b.wireframe,S.side=3===E?null!==b.shadowSide?b.shadowSide:b.side:null!==b.shadowSide?b.shadowSide:d[b.side],S.alphaMap=b.alphaMap,S.alphaTest=b.alphaTest,S.map=b.map,S.clipShadows=b.clipShadows,S.clippingPlanes=b.clippingPlanes,S.clipIntersection=b.clipIntersection,S.displacementMap=b.displacementMap,S.displacementScale=b.displacementScale,S.displacementBias=b.displacementBias,S.wireframeLinewidth=b.wireframeLinewidth,S.linewidth=b.linewidth,!0===x.isPointLight&&!0===S.isMeshDistanceMaterial&&(S.referencePosition.setFromMatrixPosition(x.matrixWorld),S.nearDistance=C,S.farDistance=M),S}function v(y,b,x,C,M){if(!1===y.visible)return;if(y.layers.test(b.layers)&&(y.isMesh||y.isLine||y.isPoints)&&(y.castShadow||y.receiveShadow&&3===M)&&(!y.frustumCulled||i.intersectsObject(y))){y.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,y.matrixWorld);const T=e.update(y),N=y.material;if(Array.isArray(N)){const k=T.groups;for(let R=0,B=k.length;R<B;R++){const D=k[R],A=N[D.materialIndex];if(A&&A.visible){const O=w(y,A,C,x.near,x.far,M);n.renderBufferDirect(x,null,T,O,y,D)}}}else if(N.visible){const k=w(y,N,C,x.near,x.far,M);n.renderBufferDirect(x,null,T,k,y,null)}}const S=y.children;for(let T=0,N=S.length;T<N;T++)v(S[T],b,x,C,M)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(y,b,x){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===y.length)return;const C=n.getRenderTarget(),M=n.getActiveCubeFace(),E=n.getActiveMipmapLevel(),S=n.state;S.setBlending(0),S.buffers.color.setClear(1,1,1,1),S.buffers.depth.setTest(!0),S.setScissorTest(!1);for(let T=0,N=y.length;T<N;T++){const k=y[T],R=k.shadow;if(void 0===R){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(!1===R.autoUpdate&&!1===R.needsUpdate)continue;r.copy(R.mapSize);const B=R.getFrameExtents();r.multiply(B),a.copy(R.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/B.x),r.x=a.x*B.x,R.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/B.y),r.y=a.y*B.y,R.mapSize.y=a.y)),null===R.map&&(R.map=new _u(r.x,r.y,3!==this.type?{minFilter:fr,magFilter:fr}:{}),R.map.texture.name=k.name+".shadowMap",R.camera.updateProjectionMatrix()),n.setRenderTarget(R.map),n.clear();const D=R.getViewportCount();for(let A=0;A<D;A++){const O=R.getViewport(A);o.set(a.x*O.x,a.y*O.y,a.x*O.z,a.y*O.w),S.viewport(o),R.updateMatrices(k,A),i=R.getFrustum(),v(b,x,R.camera,k,this.type)}!0!==R.isPointLightShadow&&3===this.type&&_(R,x),R.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(C,M,E)}}function Qle(n,e,t){const i=t.isWebGL2,s=new function r(){let P=!1;const ie=new _i;let Me=null;const Ge=new _i(0,0,0,0);return{setMask:function(et){Me!==et&&!P&&(n.colorMask(et,et,et,et),Me=et)},setLocked:function(et){P=et},setClear:function(et,an,_r,fa,Qu){!0===Qu&&(et*=fa,an*=fa,_r*=fa),ie.set(et,an,_r,fa),!1===Ge.equals(ie)&&(n.clearColor(et,an,_r,fa),Ge.copy(ie))},reset:function(){P=!1,Me=null,Ge.set(-1,0,0,0)}}},l=new function a(){let P=!1,ie=null,Me=null,Ge=null;return{setTest:function(et){et?me(2929):ye(2929)},setMask:function(et){ie!==et&&!P&&(n.depthMask(et),ie=et)},setFunc:function(et){if(Me!==et){switch(et){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}Me=et}},setLocked:function(et){P=et},setClear:function(et){Ge!==et&&(n.clearDepth(et),Ge=et)},reset:function(){P=!1,ie=null,Me=null,Ge=null}}},c=new function o(){let P=!1,ie=null,Me=null,Ge=null,et=null,an=null,_r=null,fa=null,Qu=null;return{setTest:function(Vi){P||(Vi?me(2960):ye(2960))},setMask:function(Vi){ie!==Vi&&!P&&(n.stencilMask(Vi),ie=Vi)},setFunc:function(Vi,Hl,Ho){(Me!==Vi||Ge!==Hl||et!==Ho)&&(n.stencilFunc(Vi,Hl,Ho),Me=Vi,Ge=Hl,et=Ho)},setOp:function(Vi,Hl,Ho){(an!==Vi||_r!==Hl||fa!==Ho)&&(n.stencilOp(Vi,Hl,Ho),an=Vi,_r=Hl,fa=Ho)},setLocked:function(Vi){P=Vi},setClear:function(Vi){Qu!==Vi&&(n.clearStencil(Vi),Qu=Vi)},reset:function(){P=!1,ie=null,Me=null,Ge=null,et=null,an=null,_r=null,fa=null,Qu=null}}},u=new WeakMap,d=new WeakMap;let h={},f={},m=new WeakMap,p=[],g=null,_=!1,w=null,v=null,y=null,b=null,x=null,C=null,M=null,E=!1,S=null,T=null,N=null,k=null,R=null;const B=n.getParameter(35661);let D=!1,A=0;const O=n.getParameter(7938);-1!==O.indexOf("WebGL")?(A=parseFloat(/^WebGL (\d)/.exec(O)[1]),D=A>=1):-1!==O.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),D=A>=2);let I=null,L={};const q=n.getParameter(3088),G=n.getParameter(2978),z=(new _i).fromArray(q),$=(new _i).fromArray(G);function ae(P,ie,Me){const Ge=new Uint8Array(4),et=n.createTexture();n.bindTexture(P,et),n.texParameteri(P,10241,9728),n.texParameteri(P,10240,9728);for(let an=0;an<Me;an++)n.texImage2D(ie+an,0,6408,1,1,0,6408,5121,Ge);return et}const K={};function me(P){!0!==h[P]&&(n.enable(P),h[P]=!0)}function ye(P){!1!==h[P]&&(n.disable(P),h[P]=!1)}K[3553]=ae(3553,3553,1),K[34067]=ae(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),me(2929),l.setFunc(3),Z(!1),pe(1),me(2884),Se(0);const be={100:32774,101:32778,102:32779};if(i)be[103]=32775,be[104]=32776;else{const P=e.get("EXT_blend_minmax");null!==P&&(be[103]=P.MIN_EXT,be[104]=P.MAX_EXT)}const fe={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Se(P,ie,Me,Ge,et,an,_r,fa){if(0!==P){if(!1===_&&(me(3042),_=!0),5===P)et=et||ie,an=an||Me,_r=_r||Ge,(ie!==v||et!==x)&&(n.blendEquationSeparate(be[ie],be[et]),v=ie,x=et),(Me!==y||Ge!==b||an!==C||_r!==M)&&(n.blendFuncSeparate(fe[Me],fe[Ge],fe[an],fe[_r]),y=Me,b=Ge,C=an,M=_r),w=P,E=!1;else if(P!==w||fa!==E){if((100!==v||100!==x)&&(n.blendEquation(32774),v=100,x=100),fa)switch(P){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",P)}else switch(P){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",P)}y=null,b=null,C=null,M=null,w=P,E=fa}}else!0===_&&(ye(3042),_=!1)}function Z(P){S!==P&&(n.frontFace(P?2304:2305),S=P)}function pe(P){0!==P?(me(2884),P!==T&&n.cullFace(1===P?1029:2===P?1028:1032)):ye(2884),T=P}function J(P,ie,Me){P?(me(32823),(k!==ie||R!==Me)&&(n.polygonOffset(ie,Me),k=ie,R=Me)):ye(32823)}return{buffers:{color:s,depth:l,stencil:c},enable:me,disable:ye,bindFramebuffer:function ge(P,ie){return f[P]!==ie&&(n.bindFramebuffer(P,ie),f[P]=ie,i&&(36009===P&&(f[36160]=ie),36160===P&&(f[36009]=ie)),!0)},drawBuffers:function re(P,ie){let Me=p,Ge=!1;if(P)if(Me=m.get(ie),void 0===Me&&(Me=[],m.set(ie,Me)),P.isWebGLMultipleRenderTargets){const et=P.texture;if(Me.length!==et.length||36064!==Me[0]){for(let an=0,_r=et.length;an<_r;an++)Me[an]=36064+an;Me.length=et.length,Ge=!0}}else 36064!==Me[0]&&(Me[0]=36064,Ge=!0);else 1029!==Me[0]&&(Me[0]=1029,Ge=!0);Ge&&(t.isWebGL2?n.drawBuffers(Me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Me))},useProgram:function Ie(P){return g!==P&&(n.useProgram(P),g=P,!0)},setBlending:Se,setMaterial:function W(P,ie){2===P.side?ye(2884):me(2884);let Me=1===P.side;ie&&(Me=!Me),Z(Me),1===P.blending&&!1===P.transparent?Se(0):Se(P.blending,P.blendEquation,P.blendSrc,P.blendDst,P.blendEquationAlpha,P.blendSrcAlpha,P.blendDstAlpha,P.premultipliedAlpha),l.setFunc(P.depthFunc),l.setTest(P.depthTest),l.setMask(P.depthWrite),s.setMask(P.colorWrite);const Ge=P.stencilWrite;c.setTest(Ge),Ge&&(c.setMask(P.stencilWriteMask),c.setFunc(P.stencilFunc,P.stencilRef,P.stencilFuncMask),c.setOp(P.stencilFail,P.stencilZFail,P.stencilZPass)),J(P.polygonOffset,P.polygonOffsetFactor,P.polygonOffsetUnits),!0===P.alphaToCoverage?me(32926):ye(32926)},setFlipSided:Z,setCullFace:pe,setLineWidth:function X(P){P!==N&&(D&&n.lineWidth(P),N=P)},setPolygonOffset:J,setScissorTest:function he(P){P?me(3089):ye(3089)},activeTexture:function De(P){void 0===P&&(P=33984+B-1),I!==P&&(n.activeTexture(P),I=P)},bindTexture:function V(P,ie,Me){void 0===Me&&(Me=null===I?33984+B-1:I);let Ge=L[Me];void 0===Ge&&(Ge={type:void 0,texture:void 0},L[Me]=Ge),(Ge.type!==P||Ge.texture!==ie)&&(I!==Me&&(n.activeTexture(Me),I=Me),n.bindTexture(P,ie||K[P]),Ge.type=P,Ge.texture=ie)},unbindTexture:function U(){const P=L[I];void 0!==P&&void 0!==P.type&&(n.bindTexture(P.type,null),P.type=void 0,P.texture=void 0)},compressedTexImage2D:function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},compressedTexImage3D:function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texImage2D:function ct(){try{n.texImage2D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texImage3D:function ot(){try{n.texImage3D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},updateUBOMapping:function Dt(P,ie){let Me=d.get(ie);void 0===Me&&(Me=new WeakMap,d.set(ie,Me));let Ge=Me.get(P);void 0===Ge&&(Ge=n.getUniformBlockIndex(ie,P.name),Me.set(P,Ge))},uniformBlockBinding:function Kt(P,ie){const Ge=d.get(ie).get(P);u.get(ie)!==Ge&&(n.uniformBlockBinding(ie,Ge,P.__bindingPointIndex),u.set(ie,Ge))},texStorage2D:function we(){try{n.texStorage2D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texStorage3D:function Je(){try{n.texStorage3D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texSubImage2D:function Fe(){try{n.texSubImage2D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texSubImage3D:function He(){try{n.texSubImage3D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},compressedTexSubImage2D:function dt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},compressedTexSubImage3D:function ne(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},scissor:function _t(P){!1===z.equals(P)&&(n.scissor(P.x,P.y,P.z,P.w),z.copy(P))},viewport:function Xe(P){!1===$.equals(P)&&(n.viewport(P.x,P.y,P.z,P.w),$.copy(P))},reset:function F(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===i&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},I=null,L={},f={},m=new WeakMap,p=[],g=null,_=!1,w=null,v=null,y=null,b=null,x=null,C=null,M=null,E=!1,S=null,T=null,N=null,k=null,R=null,z.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),c.reset()}}}function Jle(n,e,t,i,r,a,o){const s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let p;const g=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function w(V,U){return _?new OffscreenCanvas(V,U):bp("canvas")}function v(V,U,oe,Te){let Fe=1;if((V.width>Te||V.height>Te)&&(Fe=Te/Math.max(V.width,V.height)),Fe<1||!0===U){if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const He=U?u_:Math.floor,dt=He(Fe*V.width),ne=He(Fe*V.height);void 0===p&&(p=w(dt,ne));const we=oe?w(dt,ne):p;return we.width=dt,we.height=ne,we.getContext("2d").drawImage(V,0,0,dt,ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+dt+"x"+ne+")."),we}return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V}return V}function y(V){return TS(V.width)&&TS(V.height)}function x(V,U){return V.generateMipmaps&&U&&V.minFilter!==fr&&V.minFilter!==mr}function C(V){n.generateMipmap(V)}function M(V,U,oe,Te,Fe=!1){if(!1===s)return U;if(null!==V){if(void 0!==n[V])return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let He=U;return 6403===U&&(5126===oe&&(He=33326),5131===oe&&(He=33325),5121===oe&&(He=33321)),33319===U&&(5126===oe&&(He=33328),5131===oe&&(He=33327),5121===oe&&(He=33323)),6408===U&&(5126===oe&&(He=34836),5131===oe&&(He=34842),5121===oe&&(He=Te===Oi&&!1===Fe?35907:32856),32819===oe&&(He=32854),32820===oe&&(He=32855)),(33325===He||33326===He||33327===He||33328===He||34842===He||34836===He)&&e.get("EXT_color_buffer_float"),He}function E(V,U,oe){return!0===x(V,oe)||V.isFramebufferTexture&&V.minFilter!==fr&&V.minFilter!==mr?Math.log2(Math.max(U.width,U.height))+1:void 0!==V.mipmaps&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?U.mipmaps.length:1}function S(V){return V===fr||1004===V||1005===V?9728:9729}function T(V){const U=V.target;U.removeEventListener("dispose",T),function k(V){const U=i.get(V);if(void 0===U.__webglInit)return;const oe=V.source,Te=g.get(oe);if(Te){const Fe=Te[U.__cacheKey];Fe.usedTimes--,0===Fe.usedTimes&&R(V),0===Object.keys(Te).length&&g.delete(oe)}i.remove(V)}(U),U.isVideoTexture&&m.delete(U)}function N(V){const U=V.target;U.removeEventListener("dispose",N),function B(V){const U=V.texture,oe=i.get(V),Te=i.get(U);if(void 0!==Te.__webglTexture&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++)n.deleteFramebuffer(oe.__webglFramebuffer[Fe]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Fe]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Fe=0;Fe<oe.__webglColorRenderbuffer.length;Fe++)oe.__webglColorRenderbuffer[Fe]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Fe]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let Fe=0,He=U.length;Fe<He;Fe++){const dt=i.get(U[Fe]);dt.__webglTexture&&(n.deleteTexture(dt.__webglTexture),o.memory.textures--),i.remove(U[Fe])}i.remove(U),i.remove(V)}(U)}function R(V){const U=i.get(V);n.deleteTexture(U.__webglTexture),delete g.get(V.source)[U.__cacheKey],o.memory.textures--}let D=0;function L(V,U){const oe=i.get(V);if(V.isVideoTexture&&function he(V){const U=o.render.frame;m.get(V)!==U&&(m.set(V,U),V.update())}(V),!1===V.isRenderTargetTexture&&V.version>0&&oe.__version!==V.version){const Te=V.image;if(null===Te)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Te.complete)return void ye(oe,V,U);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(3553,oe.__webglTexture,33984+U)}const $={1e3:10497,[xa]:33071,1002:33648},ae={[fr]:9728,1004:9984,1005:9986,[mr]:9729,1007:9985,[cu]:9987};function K(V,U,oe){if(oe?(n.texParameteri(V,10242,$[U.wrapS]),n.texParameteri(V,10243,$[U.wrapT]),(32879===V||35866===V)&&n.texParameteri(V,32882,$[U.wrapR]),n.texParameteri(V,10240,ae[U.magFilter]),n.texParameteri(V,10241,ae[U.minFilter])):(n.texParameteri(V,10242,33071),n.texParameteri(V,10243,33071),(32879===V||35866===V)&&n.texParameteri(V,32882,33071),(U.wrapS!==xa||U.wrapT!==xa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,10240,S(U.magFilter)),n.texParameteri(V,10241,S(U.minFilter)),U.minFilter!==fr&&U.minFilter!==mr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const Te=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===fr||1005!==U.minFilter&&U.minFilter!==cu||U.type===sc&&!1===e.has("OES_texture_float_linear")||!1===s&&U.type===gp&&!1===e.has("OES_texture_half_float_linear"))return;(U.anisotropy>1||i.get(U).__currentAnisotropy)&&(n.texParameterf(V,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),i.get(U).__currentAnisotropy=U.anisotropy)}}function me(V,U){let oe=!1;void 0===V.__webglInit&&(V.__webglInit=!0,U.addEventListener("dispose",T));const Te=U.source;let Fe=g.get(Te);void 0===Fe&&(Fe={},g.set(Te,Fe));const He=function I(V){const U=[];return U.push(V.wrapS),U.push(V.wrapT),U.push(V.wrapR||0),U.push(V.magFilter),U.push(V.minFilter),U.push(V.anisotropy),U.push(V.internalFormat),U.push(V.format),U.push(V.type),U.push(V.generateMipmaps),U.push(V.premultiplyAlpha),U.push(V.flipY),U.push(V.unpackAlignment),U.push(V.encoding),U.join()}(U);if(He!==V.__cacheKey){void 0===Fe[He]&&(Fe[He]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Fe[He].usedTimes++;const dt=Fe[V.__cacheKey];void 0!==dt&&(Fe[V.__cacheKey].usedTimes--,0===dt.usedTimes&&R(U)),V.__cacheKey=He,V.__webglTexture=Fe[He].texture}return oe}function ye(V,U,oe){let Te=3553;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Te=35866),U.isData3DTexture&&(Te=32879);const Fe=me(V,U),He=U.source;t.bindTexture(Te,V.__webglTexture,33984+oe);const dt=i.get(He);if(He.version!==dt.__version||!0===Fe){t.activeTexture(33984+oe),n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const ne=function b(V){return!s&&(V.wrapS!==xa||V.wrapT!==xa||V.minFilter!==fr&&V.minFilter!==mr)}(U)&&!1===y(U.image);let we=v(U.image,ne,!1,u);we=De(U,we);const Je=y(we)||s,ct=a.convert(U.format,U.encoding);let Xe,ot=a.convert(U.type),_t=M(U.internalFormat,ct,ot,U.encoding,U.isVideoTexture);K(Te,U,Je);const Dt=U.mipmaps,Kt=s&&!0!==U.isVideoTexture,F=void 0===dt.__version||!0===Fe,P=E(U,we,Je);if(U.isDepthTexture)_t=6402,s?_t=U.type===sc?36012:U.type===du?33190:U.type===ph?35056:33189:U.type===sc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===hu&&6402===_t&&1012!==U.type&&U.type!==du&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=du,ot=a.convert(U.type)),U.format===gh&&6402===_t&&(_t=34041,U.type!==ph&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=ph,ot=a.convert(U.type))),F&&(Kt?t.texStorage2D(3553,1,_t,we.width,we.height):t.texImage2D(3553,0,_t,we.width,we.height,0,ct,ot,null));else if(U.isDataTexture)if(Dt.length>0&&Je){Kt&&F&&t.texStorage2D(3553,P,_t,Dt[0].width,Dt[0].height);for(let ie=0,Me=Dt.length;ie<Me;ie++)Xe=Dt[ie],Kt?t.texSubImage2D(3553,ie,0,0,Xe.width,Xe.height,ct,ot,Xe.data):t.texImage2D(3553,ie,_t,Xe.width,Xe.height,0,ct,ot,Xe.data);U.generateMipmaps=!1}else Kt?(F&&t.texStorage2D(3553,P,_t,we.width,we.height),t.texSubImage2D(3553,0,0,0,we.width,we.height,ct,ot,we.data)):t.texImage2D(3553,0,_t,we.width,we.height,0,ct,ot,we.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){Kt&&F&&t.texStorage3D(35866,P,_t,Dt[0].width,Dt[0].height,we.depth);for(let ie=0,Me=Dt.length;ie<Me;ie++)Xe=Dt[ie],U.format!==To?null!==ct?Kt?t.compressedTexSubImage3D(35866,ie,0,0,0,Xe.width,Xe.height,we.depth,ct,Xe.data,0,0):t.compressedTexImage3D(35866,ie,_t,Xe.width,Xe.height,we.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?t.texSubImage3D(35866,ie,0,0,0,Xe.width,Xe.height,we.depth,ct,ot,Xe.data):t.texImage3D(35866,ie,_t,Xe.width,Xe.height,we.depth,0,ct,ot,Xe.data)}else{Kt&&F&&t.texStorage2D(3553,P,_t,Dt[0].width,Dt[0].height);for(let ie=0,Me=Dt.length;ie<Me;ie++)Xe=Dt[ie],U.format!==To?null!==ct?Kt?t.compressedTexSubImage2D(3553,ie,0,0,Xe.width,Xe.height,ct,Xe.data):t.compressedTexImage2D(3553,ie,_t,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?t.texSubImage2D(3553,ie,0,0,Xe.width,Xe.height,ct,ot,Xe.data):t.texImage2D(3553,ie,_t,Xe.width,Xe.height,0,ct,ot,Xe.data)}else if(U.isDataArrayTexture)Kt?(F&&t.texStorage3D(35866,P,_t,we.width,we.height,we.depth),t.texSubImage3D(35866,0,0,0,0,we.width,we.height,we.depth,ct,ot,we.data)):t.texImage3D(35866,0,_t,we.width,we.height,we.depth,0,ct,ot,we.data);else if(U.isData3DTexture)Kt?(F&&t.texStorage3D(32879,P,_t,we.width,we.height,we.depth),t.texSubImage3D(32879,0,0,0,0,we.width,we.height,we.depth,ct,ot,we.data)):t.texImage3D(32879,0,_t,we.width,we.height,we.depth,0,ct,ot,we.data);else if(U.isFramebufferTexture){if(F)if(Kt)t.texStorage2D(3553,P,_t,we.width,we.height);else{let ie=we.width,Me=we.height;for(let Ge=0;Ge<P;Ge++)t.texImage2D(3553,Ge,_t,ie,Me,0,ct,ot,null),ie>>=1,Me>>=1}}else if(Dt.length>0&&Je){Kt&&F&&t.texStorage2D(3553,P,_t,Dt[0].width,Dt[0].height);for(let ie=0,Me=Dt.length;ie<Me;ie++)Xe=Dt[ie],Kt?t.texSubImage2D(3553,ie,0,0,ct,ot,Xe):t.texImage2D(3553,ie,_t,ct,ot,Xe);U.generateMipmaps=!1}else Kt?(F&&t.texStorage2D(3553,P,_t,we.width,we.height),t.texSubImage2D(3553,0,0,0,ct,ot,we)):t.texImage2D(3553,0,_t,ct,ot,we);x(U,Je)&&C(Te),dt.__version=He.version,U.onUpdate&&U.onUpdate(U)}V.__version=U.version}function re(V,U,oe,Te,Fe){const He=a.convert(oe.format,oe.encoding),dt=a.convert(oe.type),ne=M(oe.internalFormat,He,dt,oe.encoding);i.get(U).__hasExternalTextures||(32879===Fe||35866===Fe?t.texImage3D(Fe,0,ne,U.width,U.height,U.depth,0,He,dt,null):t.texImage2D(Fe,0,ne,U.width,U.height,0,He,dt,null)),t.bindFramebuffer(36160,V),J(U)?h.framebufferTexture2DMultisampleEXT(36160,Te,Fe,i.get(oe).__webglTexture,0,X(U)):(3553===Fe||Fe>=34069&&Fe<=34074)&&n.framebufferTexture2D(36160,Te,Fe,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ie(V,U,oe){if(n.bindRenderbuffer(36161,V),U.depthBuffer&&!U.stencilBuffer){let Te=33189;if(oe||J(U)){const Fe=U.depthTexture;Fe&&Fe.isDepthTexture&&(Fe.type===sc?Te=36012:Fe.type===du&&(Te=33190));const He=X(U);J(U)?h.renderbufferStorageMultisampleEXT(36161,He,Te,U.width,U.height):n.renderbufferStorageMultisample(36161,He,Te,U.width,U.height)}else n.renderbufferStorage(36161,Te,U.width,U.height);n.framebufferRenderbuffer(36160,36096,36161,V)}else if(U.depthBuffer&&U.stencilBuffer){const Te=X(U);oe&&!1===J(U)?n.renderbufferStorageMultisample(36161,Te,35056,U.width,U.height):J(U)?h.renderbufferStorageMultisampleEXT(36161,Te,35056,U.width,U.height):n.renderbufferStorage(36161,34041,U.width,U.height),n.framebufferRenderbuffer(36160,33306,36161,V)}else{const Te=!0===U.isWebGLMultipleRenderTargets?U.texture:[U.texture];for(let Fe=0;Fe<Te.length;Fe++){const He=Te[Fe],dt=a.convert(He.format,He.encoding),ne=a.convert(He.type),we=M(He.internalFormat,dt,ne,He.encoding),Je=X(U);oe&&!1===J(U)?n.renderbufferStorageMultisample(36161,Je,we,U.width,U.height):J(U)?h.renderbufferStorageMultisampleEXT(36161,Je,we,U.width,U.height):n.renderbufferStorage(36161,we,U.width,U.height)}}n.bindRenderbuffer(36161,null)}function fe(V){const U=i.get(V),oe=!0===V.isWebGLCubeRenderTarget;if(V.depthTexture&&!U.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");!function be(V,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,V),!U.depthTexture||!U.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),L(U.depthTexture,0);const Te=i.get(U.depthTexture).__webglTexture,Fe=X(U);if(U.depthTexture.format===hu)J(U)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Te,0,Fe):n.framebufferTexture2D(36160,36096,3553,Te,0);else{if(U.depthTexture.format!==gh)throw new Error("Unknown depthTexture format");J(U)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Te,0,Fe):n.framebufferTexture2D(36160,33306,3553,Te,0)}}(U.__webglFramebuffer,V)}else if(oe){U.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(36160,U.__webglFramebuffer[Te]),U.__webglDepthbuffer[Te]=n.createRenderbuffer(),Ie(U.__webglDepthbuffer[Te],V,!1)}else t.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=n.createRenderbuffer(),Ie(U.__webglDepthbuffer,V,!1);t.bindFramebuffer(36160,null)}function X(V){return Math.min(d,V.samples)}function J(V){const U=i.get(V);return s&&V.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==U.__useRenderToTexture}function De(V,U){const oe=V.encoding,Te=V.format,Fe=V.type;return!0===V.isCompressedTexture||!0===V.isVideoTexture||1035===V.format||oe!==fu&&(oe===Oi?!1===s?!0===e.has("EXT_sRGB")&&Te===To?(V.format=1035,V.minFilter=mr,V.generateMipmaps=!1):U=KP.sRGBToLinear(U):(Te!==To||Fe!==uu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),U}this.allocateTextureUnit=function O(){const V=D;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),D+=1,V},this.resetTextureUnits=function A(){D=0},this.setTexture2D=L,this.setTexture2DArray=function q(V,U){const oe=i.get(V);V.version>0&&oe.__version!==V.version?ye(oe,V,U):t.bindTexture(35866,oe.__webglTexture,33984+U)},this.setTexture3D=function G(V,U){const oe=i.get(V);V.version>0&&oe.__version!==V.version?ye(oe,V,U):t.bindTexture(32879,oe.__webglTexture,33984+U)},this.setTextureCube=function z(V,U){const oe=i.get(V);V.version>0&&oe.__version!==V.version?function ge(V,U,oe){if(6!==U.image.length)return;const Te=me(V,U),Fe=U.source;t.bindTexture(34067,V.__webglTexture,33984+oe);const He=i.get(Fe);if(Fe.version!==He.__version||!0===Te){t.activeTexture(33984+oe),n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const dt=U.isCompressedTexture||U.image[0].isCompressedTexture,ne=U.image[0]&&U.image[0].isDataTexture,we=[];for(let ie=0;ie<6;ie++)we[ie]=dt||ne?ne?U.image[ie].image:U.image[ie]:v(U.image[ie],!1,!0,c),we[ie]=De(U,we[ie]);const Je=we[0],ct=y(Je)||s,ot=a.convert(U.format,U.encoding),_t=a.convert(U.type),Xe=M(U.internalFormat,ot,_t,U.encoding),Dt=s&&!0!==U.isVideoTexture,Kt=void 0===He.__version||!0===Te;let P,F=E(U,Je,ct);if(K(34067,U,ct),dt){Dt&&Kt&&t.texStorage2D(34067,F,Xe,Je.width,Je.height);for(let ie=0;ie<6;ie++){P=we[ie].mipmaps;for(let Me=0;Me<P.length;Me++){const Ge=P[Me];U.format!==To?null!==ot?Dt?t.compressedTexSubImage2D(34069+ie,Me,0,0,Ge.width,Ge.height,ot,Ge.data):t.compressedTexImage2D(34069+ie,Me,Xe,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Dt?t.texSubImage2D(34069+ie,Me,0,0,Ge.width,Ge.height,ot,_t,Ge.data):t.texImage2D(34069+ie,Me,Xe,Ge.width,Ge.height,0,ot,_t,Ge.data)}}}else{P=U.mipmaps,Dt&&Kt&&(P.length>0&&F++,t.texStorage2D(34067,F,Xe,we[0].width,we[0].height));for(let ie=0;ie<6;ie++)if(ne){Dt?t.texSubImage2D(34069+ie,0,0,0,we[ie].width,we[ie].height,ot,_t,we[ie].data):t.texImage2D(34069+ie,0,Xe,we[ie].width,we[ie].height,0,ot,_t,we[ie].data);for(let Me=0;Me<P.length;Me++){const et=P[Me].image[ie].image;Dt?t.texSubImage2D(34069+ie,Me+1,0,0,et.width,et.height,ot,_t,et.data):t.texImage2D(34069+ie,Me+1,Xe,et.width,et.height,0,ot,_t,et.data)}}else{Dt?t.texSubImage2D(34069+ie,0,0,0,ot,_t,we[ie]):t.texImage2D(34069+ie,0,Xe,ot,_t,we[ie]);for(let Me=0;Me<P.length;Me++){const Ge=P[Me];Dt?t.texSubImage2D(34069+ie,Me+1,0,0,ot,_t,Ge.image[ie]):t.texImage2D(34069+ie,Me+1,Xe,ot,_t,Ge.image[ie])}}}x(U,ct)&&C(34067),He.__version=Fe.version,U.onUpdate&&U.onUpdate(U)}V.__version=U.version}(oe,V,U):t.bindTexture(34067,oe.__webglTexture,33984+U)},this.rebindTextures=function Se(V,U,oe){const Te=i.get(V);void 0!==U&&re(Te.__webglFramebuffer,V,V.texture,36064,3553),void 0!==oe&&fe(V)},this.setupRenderTarget=function W(V){const U=V.texture,oe=i.get(V),Te=i.get(U);V.addEventListener("dispose",N),!0!==V.isWebGLMultipleRenderTargets&&(void 0===Te.__webglTexture&&(Te.__webglTexture=n.createTexture()),Te.__version=U.version,o.memory.textures++);const Fe=!0===V.isWebGLCubeRenderTarget,He=!0===V.isWebGLMultipleRenderTargets,dt=y(V)||s;if(Fe){oe.__webglFramebuffer=[];for(let ne=0;ne<6;ne++)oe.__webglFramebuffer[ne]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),He)if(r.drawBuffers){const ne=V.texture;for(let we=0,Je=ne.length;we<Je;we++){const ct=i.get(ne[we]);void 0===ct.__webglTexture&&(ct.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&V.samples>0&&!1===J(V)){const ne=He?U:[U];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let we=0;we<ne.length;we++){const Je=ne[we];oe.__webglColorRenderbuffer[we]=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[we]);const ct=a.convert(Je.format,Je.encoding),ot=a.convert(Je.type),_t=M(Je.internalFormat,ct,ot,Je.encoding,!0===V.isXRRenderTarget),Xe=X(V);n.renderbufferStorageMultisample(36161,Xe,_t,V.width,V.height),n.framebufferRenderbuffer(36160,36064+we,36161,oe.__webglColorRenderbuffer[we])}n.bindRenderbuffer(36161,null),V.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Ie(oe.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(36160,null)}}if(Fe){t.bindTexture(34067,Te.__webglTexture),K(34067,U,dt);for(let ne=0;ne<6;ne++)re(oe.__webglFramebuffer[ne],V,U,36064,34069+ne);x(U,dt)&&C(34067),t.unbindTexture()}else if(He){const ne=V.texture;for(let we=0,Je=ne.length;we<Je;we++){const ct=ne[we],ot=i.get(ct);t.bindTexture(3553,ot.__webglTexture),K(3553,ct,dt),re(oe.__webglFramebuffer,V,ct,36064+we,3553),x(ct,dt)&&C(3553)}t.unbindTexture()}else{let ne=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(s?ne=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ne,Te.__webglTexture),K(ne,U,dt),re(oe.__webglFramebuffer,V,U,36064,ne),x(U,dt)&&C(ne),t.unbindTexture()}V.depthBuffer&&fe(V)},this.updateRenderTargetMipmap=function Z(V){const U=y(V)||s,oe=!0===V.isWebGLMultipleRenderTargets?V.texture:[V.texture];for(let Te=0,Fe=oe.length;Te<Fe;Te++){const He=oe[Te];if(x(He,U)){const dt=V.isWebGLCubeRenderTarget?34067:3553,ne=i.get(He).__webglTexture;t.bindTexture(dt,ne),C(dt),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function pe(V){if(s&&V.samples>0&&!1===J(V)){const U=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],oe=V.width,Te=V.height;let Fe=16384;const He=[],dt=V.stencilBuffer?33306:36096,ne=i.get(V),we=!0===V.isWebGLMultipleRenderTargets;if(we)for(let Je=0;Je<U.length;Je++)t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,null),t.bindFramebuffer(36160,ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,null,0);t.bindFramebuffer(36008,ne.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ne.__webglFramebuffer);for(let Je=0;Je<U.length;Je++){He.push(36064+Je),V.depthBuffer&&He.push(dt);const ct=void 0!==ne.__ignoreDepthValues&&ne.__ignoreDepthValues;if(!1===ct&&(V.depthBuffer&&(Fe|=256),V.stencilBuffer&&(Fe|=1024)),we&&n.framebufferRenderbuffer(36008,36064,36161,ne.__webglColorRenderbuffer[Je]),!0===ct&&(n.invalidateFramebuffer(36008,[dt]),n.invalidateFramebuffer(36009,[dt])),we){const ot=i.get(U[Je]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ot,0)}n.blitFramebuffer(0,0,oe,Te,0,0,oe,Te,Fe,9728),f&&n.invalidateFramebuffer(36008,He)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),we)for(let Je=0;Je<U.length;Je++){t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,ne.__webglColorRenderbuffer[Je]);const ct=i.get(U[Je]).__webglTexture;t.bindFramebuffer(36160,ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,ct,0)}t.bindFramebuffer(36009,ne.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=re,this.useMultisampledRTT=J}function ece(n,e,t){const i=t.isWebGL2;return{convert:function r(a,o=null){let s;if(a===uu)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(a===du)return 5125;if(a===sc)return 5126;if(a===gp)return i?5131:(s=e.get("OES_texture_half_float"),null!==s?s.HALF_FLOAT_OES:null);if(1021===a)return 6406;if(a===To)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(a===hu)return 6402;if(a===gh)return 34041;if(1022===a)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===a)return s=e.get("EXT_sRGB"),null!==s?s.SRGB_ALPHA_EXT:null;if(1028===a)return 6403;if(1029===a)return 36244;if(1030===a)return 33319;if(1031===a)return 33320;if(1033===a)return 36249;if(33776===a||33777===a||33778===a||33779===a)if(o===Oi){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(33776===a)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===a)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===a)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===a)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(33776===a)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(35840===a)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a)return s=e.get("WEBGL_compressed_texture_etc1"),null!==s?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===a||37496===a){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(37492===a)return o===Oi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(37496===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(37808===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===a)return o===Oi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===a){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(36492===a)return o===Oi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}return a===ph?i?34042:(s=e.get("WEBGL_depth_texture"),null!==s?s.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[a]?n[a]:null}}}class tce extends jr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Tp extends za{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nce={type:"move"};class oC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Tp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Tp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Tp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,i),_=this._getHandJoint(c,p);null!==g&&(_.matrix.fromArray(g.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=g.radius),_.visible=null!==g}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,m=.005;c.inputState.pinching&&h>f+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),null!==a&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));null!==s&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==a&&(r=a),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(nce)))}return null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new Tp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class ice extends lc{constructor(e,t,i,r,a,o,s,l,c,u){if((u=void 0!==u?u:hu)!==hu&&u!==gh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===hu&&(i=du),void 0===i&&u===gh&&(i=ph),super(null,r,a,o,s,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:fr,this.minFilter=void 0!==l?l:fr,this.flipY=!1,this.generateMipmaps=!1}}class rce extends pu{constructor(e,t){super();const i=this;let r=null,a=1,o=null,s="local-floor",l=null,c=null,u=null,d=null,h=null,f=null;const m=t.getContextAttributes();let p=null,g=null;const _=[],w=[],v=new Set,y=new Map,b=new jr;b.layers.enable(1),b.viewport=new _i;const x=new jr;x.layers.enable(2),x.viewport=new _i;const C=[b,x],M=new tce;M.layers.enable(1),M.layers.enable(2);let E=null,S=null;function T(q){const G=w.indexOf(q.inputSource);if(-1===G)return;const z=_[G];void 0!==z&&z.dispatchEvent({type:q.type,data:q.inputSource})}function N(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",k);for(let q=0;q<_.length;q++){const G=w[q];null!==G&&(w[q]=null,_[q].disconnect(G))}E=null,S=null,e.setRenderTarget(p),h=null,d=null,u=null,r=null,g=null,L.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function k(q){for(let G=0;G<q.removed.length;G++){const z=q.removed[G],$=w.indexOf(z);$>=0&&(w[$]=null,_[$].disconnect(z))}for(let G=0;G<q.added.length;G++){const z=q.added[G];let $=w.indexOf(z);if(-1===$){for(let K=0;K<_.length;K++){if(K>=w.length){w.push(z),$=K;break}if(null===w[K]){w[K]=z,$=K;break}}if(-1===$)break}const ae=_[$];ae&&ae.connect(z)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let G=_[q];return void 0===G&&(G=new oC,_[q]=G),G.getTargetRaySpace()},this.getControllerGrip=function(q){let G=_[q];return void 0===G&&(G=new oC,_[q]=G),G.getGripSpace()},this.getHand=function(q){let G=_[q];return void 0===G&&(G=new oC,_[q]=G),G.getHandSpace()},this.setFramebufferScaleFactor=function(q){a=q,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){s=q,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(q){l=q},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=function(){var q=function Rie(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var a=n.apply(e,t);function o(l){hP(a,i,r,o,s,"next",l)}function s(l){hP(a,i,r,o,s,"throw",l)}o(void 0)})}}(function*(G){if(r=G,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",N),r.addEventListener("inputsourceschange",k),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a}),r.updateRenderState({baseLayer:h}),g=new _u(h.framebufferWidth,h.framebufferHeight,{format:To,type:uu,encoding:e.outputEncoding,stencilBuffer:m.stencil});else{let z=null,$=null,ae=null;m.depth&&(ae=m.stencil?35056:33190,z=m.stencil?gh:hu,$=m.stencil?ph:du);const K={colorFormat:32856,depthFormat:ae,scaleFactor:a};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(K),r.updateRenderState({layers:[d]}),g=new _u(d.textureWidth,d.textureHeight,{format:To,type:uu,depthTexture:new ice(d.textureWidth,d.textureHeight,$,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=yield r.requestReferenceSpace(s),L.setContext(r),L.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(G){return q.apply(this,arguments)}}();const R=new ee,B=new ee;function A(q,G){null===G?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(G.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(null===r)return;M.near=x.near=b.near=q.near,M.far=x.far=b.far=q.far,(E!==M.near||S!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),E=M.near,S=M.far);const G=q.parent,z=M.cameras;A(M,G);for(let ae=0;ae<z.length;ae++)A(z[ae],G);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),q.matrix.copy(M.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale);const $=q.children;for(let ae=0,K=$.length;ae<K;ae++)$[ae].updateMatrixWorld(!0);2===z.length?function D(q,G,z){R.setFromMatrixPosition(G.matrixWorld),B.setFromMatrixPosition(z.matrixWorld);const $=R.distanceTo(B),ae=G.projectionMatrix.elements,K=z.projectionMatrix.elements,me=ae[14]/(ae[10]-1),ye=ae[14]/(ae[10]+1),ge=(ae[9]+1)/ae[5],re=(ae[9]-1)/ae[5],Ie=(ae[8]-1)/ae[0],be=(K[8]+1)/K[0],fe=me*Ie,Se=me*be,W=$/(-Ie+be),Z=W*-Ie;G.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(Z),q.translateZ(W),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const pe=me+W,X=ye+W;q.projectionMatrix.makePerspective(fe-Z,Se+($-Z),ge*ye/X*pe,re*ye/X*pe,pe,X)}(M,b,x):M.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(q){null!==d&&(d.fixedFoveation=q),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=q)},this.getPlanes=function(){return v};let O=null;const L=new f3;L.setAnimationLoop(function I(q,G){if(c=G.getViewerPose(l||o),f=G,null!==c){const z=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let $=!1;z.length!==M.cameras.length&&(M.cameras.length=0,$=!0);for(let ae=0;ae<z.length;ae++){const K=z[ae];let me=null;if(null!==h)me=h.getViewport(K);else{const ge=u.getViewSubImage(d,K);me=ge.viewport,0===ae&&(e.setRenderTargetTextures(g,ge.colorTexture,d.ignoreDepthValues?void 0:ge.depthStencilTexture),e.setRenderTarget(g))}let ye=C[ae];void 0===ye&&(ye=new jr,ye.layers.enable(ae),ye.viewport=new _i,C[ae]=ye),ye.matrix.fromArray(K.transform.matrix),ye.projectionMatrix.fromArray(K.projectionMatrix),ye.viewport.set(me.x,me.y,me.width,me.height),0===ae&&M.matrix.copy(ye.matrix),!0===$&&M.cameras.push(ye)}}for(let z=0;z<_.length;z++){const $=w[z],ae=_[z];null!==$&&void 0!==ae&&ae.update($,G,l||o)}if(O&&O(q,G),G.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:G.detectedPlanes});let z=null;for(const $ of v)G.detectedPlanes.has($)||(null===z&&(z=[]),z.push($));if(null!==z)for(const $ of z)v.delete($),y.delete($),i.dispatchEvent({type:"planeremoved",data:$});for(const $ of G.detectedPlanes)if(v.has($)){const ae=y.get($);$.lastChangedTime>ae&&(y.set($,$.lastChangedTime),i.dispatchEvent({type:"planechanged",data:$}))}else v.add($),y.set($,G.lastChangedTime),i.dispatchEvent({type:"planeadded",data:$})}f=null}),this.setAnimationLoop=function(q){O=q},this.dispose=function(){}}}function ace(n,e){function r(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,1===g.side&&(p.bumpScale.value*=-1)),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),1===g.side&&p.normalScale.value.negate()),g.specularMap&&(p.specularMap.value=g.specularMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(p.envMap.value=_,p.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap){p.lightMap.value=g.lightMap;const y=!0!==n.physicallyCorrectLights?Math.PI:1;p.lightMapIntensity.value=g.lightMapIntensity*y}let w,v;g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity),g.map?w=g.map:g.specularMap?w=g.specularMap:g.displacementMap?w=g.displacementMap:g.normalMap?w=g.normalMap:g.bumpMap?w=g.bumpMap:g.roughnessMap?w=g.roughnessMap:g.metalnessMap?w=g.metalnessMap:g.alphaMap?w=g.alphaMap:g.emissiveMap?w=g.emissiveMap:g.clearcoatMap?w=g.clearcoatMap:g.clearcoatNormalMap?w=g.clearcoatNormalMap:g.clearcoatRoughnessMap?w=g.clearcoatRoughnessMap:g.iridescenceMap?w=g.iridescenceMap:g.iridescenceThicknessMap?w=g.iridescenceThicknessMap:g.specularIntensityMap?w=g.specularIntensityMap:g.specularColorMap?w=g.specularColorMap:g.transmissionMap?w=g.transmissionMap:g.thicknessMap?w=g.thicknessMap:g.sheenColorMap?w=g.sheenColorMap:g.sheenRoughnessMap&&(w=g.sheenRoughnessMap),void 0!==w&&(w.isWebGLRenderTarget&&(w=w.texture),!0===w.matrixAutoUpdate&&w.updateMatrix(),p.uvTransform.value.copy(w.matrix)),g.aoMap?v=g.aoMap:g.lightMap&&(v=g.lightMap),void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),p.uv2Transform.value.copy(v.matrix))}return{refreshFogUniforms:function t(p,g){g.color.getRGB(p.fogColor.value,h3(n)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)},refreshMaterialUniforms:function i(p,g,_,w,v){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(p,g):g.isMeshToonMaterial?(r(p,g),function u(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}(p,g)):g.isMeshPhongMaterial?(r(p,g),function c(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}(p,g)):g.isMeshStandardMaterial?(r(p,g),function d(p,g){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(p.envMapIntensity.value=g.envMapIntensity)}(p,g),g.isMeshPhysicalMaterial&&function h(p,g,_){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,1===g.side&&p.clearcoatNormalScale.value.negate())),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=_.texture,p.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap)}(p,g,v)):g.isMeshMatcapMaterial?(r(p,g),function f(p,g){g.matcap&&(p.matcap.value=g.matcap)}(p,g)):g.isMeshDepthMaterial?r(p,g):g.isMeshDistanceMaterial?(r(p,g),function m(p,g){p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}(p,g)):g.isMeshNormalMaterial?r(p,g):g.isLineBasicMaterial?(function a(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}(p,g),g.isLineDashedMaterial&&function o(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}(p,g)):g.isPointsMaterial?function s(p,g,_,w){let v;p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*_,p.scale.value=.5*w,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest),g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}(p,g,_,w):g.isSpriteMaterial?function l(p,g){let _;p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest),g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function oce(n,e,t,i){let r={},a={},o=[];const s=t.isWebGL2?n.getParameter(35375):0;function f(w,v,y){const b=w.value;if(void 0===y[v]){if("number"==typeof b)y[v]=b;else{const x=Array.isArray(b)?b:[b],C=[];for(let M=0;M<x.length;M++)C.push(x[M].clone());y[v]=C}return!0}if("number"==typeof b){if(y[v]!==b)return y[v]=b,!0}else{const x=Array.isArray(y[v])?y[v]:[y[v]],C=Array.isArray(b)?b:[b];for(let M=0;M<x.length;M++){const E=x[M];if(!1===E.equals(C[M]))return E.copy(C[M]),!0}}return!1}function p(w){const v={boundary:0,storage:0};return"number"==typeof w?(v.boundary=4,v.storage=4):w.isVector2?(v.boundary=8,v.storage=8):w.isVector3||w.isColor?(v.boundary=16,v.storage=12):w.isVector4?(v.boundary=16,v.storage=16):w.isMatrix3?(v.boundary=48,v.storage=48):w.isMatrix4?(v.boundary=64,v.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),v}function g(w){const v=w.target;v.removeEventListener("dispose",g);const y=o.indexOf(v.__bindingPointIndex);o.splice(y,1),n.deleteBuffer(r[v.id]),delete r[v.id],delete a[v.id]}return{bind:function l(w,v){i.uniformBlockBinding(w,v.program)},update:function c(w,v){let y=r[w.id];void 0===y&&(function m(w){const v=w.uniforms;let y=0;let x=0;for(let C=0,M=v.length;C<M;C++){const E=v[C],S={boundary:0,storage:0},T=Array.isArray(E.value)?E.value:[E.value];for(let N=0,k=T.length;N<k;N++){const B=p(T[N]);S.boundary+=B.boundary,S.storage+=B.storage}if(E.__data=new Float32Array(S.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=y,C>0){x=y%16;const N=16-x;0!==x&&N-S.boundary<0&&(y+=16-x,E.__offset=y)}y+=S.storage}x=y%16,x>0&&(y+=16-x),w.__size=y,w.__cache={}}(w),y=function u(w){const v=function d(){for(let w=0;w<s;w++)if(-1===o.indexOf(w))return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();w.__bindingPointIndex=v;const y=n.createBuffer(),b=w.__size,x=w.usage;return n.bindBuffer(35345,y),n.bufferData(35345,b,x),n.bindBuffer(35345,null),n.bindBufferBase(35345,v,y),y}(w),r[w.id]=y,w.addEventListener("dispose",g)),i.updateUBOMapping(w,v.program);const x=e.render.frame;a[w.id]!==x&&(function h(w){const y=w.uniforms,b=w.__cache;n.bindBuffer(35345,r[w.id]);for(let x=0,C=y.length;x<C;x++){const M=y[x];if(!0===f(M,x,b)){const E=M.__offset,S=Array.isArray(M.value)?M.value:[M.value];let T=0;for(let N=0;N<S.length;N++){const k=S[N],R=p(k);"number"==typeof k?(M.__data[0]=k,n.bufferSubData(35345,E+T,M.__data)):k.isMatrix3?(M.__data[0]=k.elements[0],M.__data[1]=k.elements[1],M.__data[2]=k.elements[2],M.__data[3]=k.elements[0],M.__data[4]=k.elements[3],M.__data[5]=k.elements[4],M.__data[6]=k.elements[5],M.__data[7]=k.elements[0],M.__data[8]=k.elements[6],M.__data[9]=k.elements[7],M.__data[10]=k.elements[8],M.__data[11]=k.elements[0]):(k.toArray(M.__data,T),T+=R.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,E,M.__data)}}n.bindBuffer(35345,null)}(w),a[w.id]=x)},dispose:function _(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},a={}}}}function H3(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function sce(){const n=bp("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,i=void 0===n.depth||n.depth,r=void 0===n.stencil||n.stencil,a=void 0!==n.antialias&&n.antialias,o=void 0===n.premultipliedAlpha||n.premultipliedAlpha,s=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,l=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let u;u=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let d=null,h=null;const f=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=fu,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const p=this;let g=!1,_=0,w=0,v=null,y=-1,b=null;const x=new _i,C=new _i;let M=null,E=e.width,S=e.height,T=1,N=null,k=null;const R=new _i(0,0,E,S),B=new _i(0,0,E,S);let D=!1;const A=new JS;let O=!1,I=!1,L=null;const q=new cn,G=new Ue,z=new ee,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ae(){return null===v?T:1}let ye,ge,re,Ie,be,fe,Se,W,Z,pe,X,J,he,De,V,U,oe,Te,Fe,He,dt,ne,we,Je,K=t;function me(te,Ae){for(let Le=0;Le<te.length;Le++){const ze=e.getContext(te[Le],Ae);if(null!==ze)return ze}return null}try{const te={alpha:!0,depth:i,stencil:r,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r148"),e.addEventListener("webglcontextlost",_t,!1),e.addEventListener("webglcontextrestored",Xe,!1),e.addEventListener("webglcontextcreationerror",Dt,!1),null===K){const Ae=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&Ae.shift(),K=me(Ae,te),null===K)throw me(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===K.getShaderPrecisionFormat&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}function ct(){ye=new bse(K),ge=new mse(K,ye,n),ye.init(ge),ne=new ece(K,ye,ge),re=new Qle(K,ye,ge),Ie=new Mse,be=new Ule,fe=new Jle(K,ye,re,be,ge,ne,Ie),Se=new gse(p),W=new yse(p),Z=new hae(K,ge),we=new hse(K,ye,Z,ge),pe=new xse(K,Z,Ie,we),X=new Dse(K,pe,Z,Ie),Fe=new Ese(K,ge,fe),U=new pse(be),J=new zle(p,Se,W,ye,ge,we,U),he=new ace(p,be),De=new Hle,V=new Xle(ye,ge),Te=new dse(p,Se,W,re,X,u,o),oe=new Kle(p,X,ge),Je=new oce(K,Ie,ge,re),He=new fse(K,ye,Ie,ge),dt=new wse(K,ye,Ie,ge),Ie.programs=J.programs,p.capabilities=ge,p.extensions=ye,p.properties=be,p.renderLists=De,p.shadowMap=oe,p.state=re,p.info=Ie}ct();const ot=new rce(p,K);function _t(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const te=Ie.autoReset,Ae=oe.enabled,Le=oe.autoUpdate,Ee=oe.needsUpdate,ze=oe.type;ct(),Ie.autoReset=te,oe.enabled=Ae,oe.autoUpdate=Le,oe.needsUpdate=Ee,oe.type=ze}function Dt(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Kt(te){const Ae=te.target;Ae.removeEventListener("dispose",Kt),function F(te){(function P(te){const Ae=be.get(te).programs;void 0!==Ae&&(Ae.forEach(function(Le){J.releaseProgram(Le)}),te.isShaderMaterial&&J.releaseShaderCache(te))})(te),be.remove(te)}(Ae)}this.xr=ot,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const te=ye.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=ye.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(te){void 0!==te&&(T=te,this.setSize(E,S,!1))},this.getSize=function(te){return te.set(E,S)},this.setSize=function(te,Ae,Le){ot.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=te,S=Ae,e.width=Math.floor(te*T),e.height=Math.floor(Ae*T),!1!==Le&&(e.style.width=te+"px",e.style.height=Ae+"px"),this.setViewport(0,0,te,Ae))},this.getDrawingBufferSize=function(te){return te.set(E*T,S*T).floor()},this.setDrawingBufferSize=function(te,Ae,Le){E=te,S=Ae,T=Le,e.width=Math.floor(te*Le),e.height=Math.floor(Ae*Le),this.setViewport(0,0,te,Ae)},this.getCurrentViewport=function(te){return te.copy(x)},this.getViewport=function(te){return te.copy(R)},this.setViewport=function(te,Ae,Le,Ee){te.isVector4?R.set(te.x,te.y,te.z,te.w):R.set(te,Ae,Le,Ee),re.viewport(x.copy(R).multiplyScalar(T).floor())},this.getScissor=function(te){return te.copy(B)},this.setScissor=function(te,Ae,Le,Ee){te.isVector4?B.set(te.x,te.y,te.z,te.w):B.set(te,Ae,Le,Ee),re.scissor(C.copy(B).multiplyScalar(T).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(te){re.setScissorTest(D=te)},this.setOpaqueSort=function(te){N=te},this.setTransparentSort=function(te){k=te},this.getClearColor=function(te){return te.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(te=!0,Ae=!0,Le=!0){let Ee=0;te&&(Ee|=16384),Ae&&(Ee|=256),Le&&(Ee|=1024),K.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",_t,!1),e.removeEventListener("webglcontextrestored",Xe,!1),e.removeEventListener("webglcontextcreationerror",Dt,!1),De.dispose(),V.dispose(),be.dispose(),Se.dispose(),W.dispose(),X.dispose(),we.dispose(),Je.dispose(),J.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",Ge),ot.removeEventListener("sessionend",et),L&&(L.dispose(),L=null),an.stop()},this.renderBufferDirect=function(te,Ae,Le,Ee,ze,zt){null===Ae&&(Ae=$);const tn=ze.isMesh&&ze.matrixWorld.determinant()<0,An=function OLe(te,Ae,Le,Ee,ze){!0!==Ae.isScene&&(Ae=$),fe.resetTextureUnits();const zt=Ae.fog,An=null===v?p.outputEncoding:!0===v.isXRRenderTarget?v.texture.encoding:fu,Pn=(Ee.isMeshStandardMaterial?W:Se).get(Ee.envMap||(Ee.isMeshStandardMaterial?Ae.environment:null)),ti=!0===Ee.vertexColors&&!!Le.attributes.color&&4===Le.attributes.color.itemSize,jn=!!Ee.normalMap&&!!Le.attributes.tangent,Xn=!!Le.morphAttributes.position,yr=!!Le.morphAttributes.normal,fo=!!Le.morphAttributes.color,Gl=Ee.toneMapped?p.toneMapping:0,Ju=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,br=void 0!==Ju?Ju.length:0,Yn=be.get(Ee),lA=h.state.lights;!0!==O||!0!==I&&te===b||U.setState(Ee,te,te===b&&Ee.id===y);let Lr=!1;Ee.version===Yn.__version?(Yn.needsLights&&Yn.lightsStateVersion!==lA.state.version||Yn.outputEncoding!==An||ze.isInstancedMesh&&!1===Yn.instancing||!ze.isInstancedMesh&&!0===Yn.instancing||ze.isSkinnedMesh&&!1===Yn.skinning||!ze.isSkinnedMesh&&!0===Yn.skinning||Yn.envMap!==Pn||!0===Ee.fog&&Yn.fog!==zt||void 0!==Yn.numClippingPlanes&&(Yn.numClippingPlanes!==U.numPlanes||Yn.numIntersection!==U.numIntersection)||Yn.vertexAlphas!==ti||Yn.vertexTangents!==jn||Yn.morphTargets!==Xn||Yn.morphNormals!==yr||Yn.morphColors!==fo||Yn.toneMapping!==Gl||!0===ge.isWebGL2&&Yn.morphTargetsCount!==br)&&(Lr=!0):(Lr=!0,Yn.__version=Ee.version);let ed=Yn.currentProgram;!0===Lr&&(ed=Ho(Ee,Ae,ze));let a7=!1,Eg=!1,cA=!1;const Ia=ed.getUniforms(),td=Yn.uniforms;if(re.useProgram(ed.program)&&(a7=!0,Eg=!0,cA=!0),Ee.id!==y&&(y=Ee.id,Eg=!0),a7||b!==te){if(Ia.setValue(K,"projectionMatrix",te.projectionMatrix),ge.logarithmicDepthBuffer&&Ia.setValue(K,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),b!==te&&(b=te,Eg=!0,cA=!0),Ee.isShaderMaterial||Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshStandardMaterial||Ee.envMap){const mo=Ia.map.cameraPosition;void 0!==mo&&mo.setValue(K,z.setFromMatrixPosition(te.matrixWorld))}(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Ia.setValue(K,"isOrthographic",!0===te.isOrthographicCamera),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial||Ee.isShadowMaterial||ze.isSkinnedMesh)&&Ia.setValue(K,"viewMatrix",te.matrixWorldInverse)}if(ze.isSkinnedMesh){Ia.setOptional(K,ze,"bindMatrix"),Ia.setOptional(K,ze,"bindMatrixInverse");const mo=ze.skeleton;mo&&(ge.floatVertexTextures?(null===mo.boneTexture&&mo.computeBoneTexture(),Ia.setValue(K,"boneTexture",mo.boneTexture,fe),Ia.setValue(K,"boneTextureSize",mo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const uA=Le.morphAttributes;if((void 0!==uA.position||void 0!==uA.normal||void 0!==uA.color&&!0===ge.isWebGL2)&&Fe.update(ze,Le,Ee,ed),(Eg||Yn.receiveShadow!==ze.receiveShadow)&&(Yn.receiveShadow=ze.receiveShadow,Ia.setValue(K,"receiveShadow",ze.receiveShadow)),Ee.isMeshGouraudMaterial&&null!==Ee.envMap&&(td.envMap.value=Pn,td.flipEnvMap.value=Pn.isCubeTexture&&!1===Pn.isRenderTargetTexture?-1:1),Eg&&(Ia.setValue(K,"toneMappingExposure",p.toneMappingExposure),Yn.needsLights&&function PLe(te,Ae){te.ambientLightColor.needsUpdate=Ae,te.lightProbe.needsUpdate=Ae,te.directionalLights.needsUpdate=Ae,te.directionalLightShadows.needsUpdate=Ae,te.pointLights.needsUpdate=Ae,te.pointLightShadows.needsUpdate=Ae,te.spotLights.needsUpdate=Ae,te.spotLightShadows.needsUpdate=Ae,te.rectAreaLights.needsUpdate=Ae,te.hemisphereLights.needsUpdate=Ae}(td,cA),zt&&!0===Ee.fog&&he.refreshFogUniforms(td,zt),he.refreshMaterialUniforms(td,Ee,T,S,L),R_.upload(K,Yn.uniformsList,td,fe)),Ee.isShaderMaterial&&!0===Ee.uniformsNeedUpdate&&(R_.upload(K,Yn.uniformsList,td,fe),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Ia.setValue(K,"center",ze.center),Ia.setValue(K,"modelViewMatrix",ze.modelViewMatrix),Ia.setValue(K,"normalMatrix",ze.normalMatrix),Ia.setValue(K,"modelMatrix",ze.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const mo=Ee.uniformsGroups;for(let dA=0,BLe=mo.length;dA<BLe;dA++)if(ge.isWebGL2){const o7=mo[dA];Je.update(o7,ed),Je.bind(o7,ed)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ed}(te,Ae,Le,Ee,ze);re.setMaterial(Ee,tn);let Pn=Le.index,ti=1;!0===Ee.wireframe&&(Pn=pe.getWireframeAttribute(Le),ti=2);const jn=Le.drawRange,Xn=Le.attributes.position;let yr=jn.start*ti,fo=(jn.start+jn.count)*ti;null!==zt&&(yr=Math.max(yr,zt.start*ti),fo=Math.min(fo,(zt.start+zt.count)*ti)),null!==Pn?(yr=Math.max(yr,0),fo=Math.min(fo,Pn.count)):null!=Xn&&(yr=Math.max(yr,0),fo=Math.min(fo,Xn.count));const Gl=fo-yr;if(Gl<0||Gl===1/0)return;we.setup(ze,Ee,An,Le,Pn);let Ju,br=He;if(null!==Pn&&(Ju=Z.get(Pn),br=dt,br.setIndex(Ju)),ze.isMesh)!0===Ee.wireframe?(re.setLineWidth(Ee.wireframeLinewidth*ae()),br.setMode(1)):br.setMode(4);else if(ze.isLine){let Yn=Ee.linewidth;void 0===Yn&&(Yn=1),re.setLineWidth(Yn*ae()),br.setMode(ze.isLineSegments?1:ze.isLineLoop?2:3)}else ze.isPoints?br.setMode(0):ze.isSprite&&br.setMode(4);if(ze.isInstancedMesh)br.renderInstances(yr,Gl,ze.count);else if(Le.isInstancedBufferGeometry){const lA=Math.min(Le.instanceCount,void 0!==Le._maxInstanceCount?Le._maxInstanceCount:1/0);br.renderInstances(yr,Gl,lA)}else br.render(yr,Gl)},this.compile=function(te,Ae){function Le(Ee,ze,zt){!0===Ee.transparent&&3===Ee.side?(Ee.side=1,Ee.needsUpdate=!0,Ho(Ee,ze,zt),Ee.side=0,Ee.needsUpdate=!0,Ho(Ee,ze,zt),Ee.side=3):Ho(Ee,ze,zt)}h=V.get(te),h.init(),m.push(h),te.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(Ae.layers)&&(h.pushLight(Ee),Ee.castShadow&&h.pushShadow(Ee))}),h.setupLights(p.physicallyCorrectLights),te.traverse(function(Ee){const ze=Ee.material;if(ze)if(Array.isArray(ze))for(let zt=0;zt<ze.length;zt++)Le(ze[zt],te,Ee);else Le(ze,te,Ee)}),m.pop(),h=null};let ie=null;function Ge(){an.stop()}function et(){an.start()}const an=new f3;function _r(te,Ae,Le,Ee){if(!1===te.visible)return;if(te.layers.test(Ae.layers))if(te.isGroup)Le=te.renderOrder;else if(te.isLOD)!0===te.autoUpdate&&te.update(Ae);else if(te.isLight)h.pushLight(te),te.castShadow&&h.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||A.intersectsSprite(te)){Ee&&z.setFromMatrixPosition(te.matrixWorld).applyMatrix4(q);const tn=X.update(te),An=te.material;An.visible&&d.push(te,tn,An,Le,z.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(te.isSkinnedMesh&&te.skeleton.frame!==Ie.render.frame&&(te.skeleton.update(),te.skeleton.frame=Ie.render.frame),!te.frustumCulled||A.intersectsObject(te))){Ee&&z.setFromMatrixPosition(te.matrixWorld).applyMatrix4(q);const tn=X.update(te),An=te.material;if(Array.isArray(An)){const Pn=tn.groups;for(let ti=0,jn=Pn.length;ti<jn;ti++){const Xn=Pn[ti],yr=An[Xn.materialIndex];yr&&yr.visible&&d.push(te,tn,yr,Le,z.z,Xn)}}else An.visible&&d.push(te,tn,An,Le,z.z,null)}const zt=te.children;for(let tn=0,An=zt.length;tn<An;tn++)_r(zt[tn],Ae,Le,Ee)}function fa(te,Ae,Le,Ee){const ze=te.opaque,zt=te.transmissive,tn=te.transparent;h.setupLightsView(Le),zt.length>0&&function Qu(te,Ae,Le){const Ee=ge.isWebGL2;null===L&&(L=new _u(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")?gp:uu,minFilter:cu,samples:Ee&&!0===a?4:0})),p.getDrawingBufferSize(G),Ee?L.setSize(G.x,G.y):L.setSize(u_(G.x),u_(G.y));const ze=p.getRenderTarget();p.setRenderTarget(L),p.clear();const zt=p.toneMapping;p.toneMapping=0,Vi(te,Ae,Le),p.toneMapping=zt,fe.updateMultisampleRenderTarget(L),fe.updateRenderTargetMipmap(L),p.setRenderTarget(ze)}(ze,Ae,Le),Ee&&re.viewport(x.copy(Ee)),ze.length>0&&Vi(ze,Ae,Le),zt.length>0&&Vi(zt,Ae,Le),tn.length>0&&Vi(tn,Ae,Le),re.buffers.depth.setTest(!0),re.buffers.depth.setMask(!0),re.buffers.color.setMask(!0),re.setPolygonOffset(!1)}function Vi(te,Ae,Le){const Ee=!0===Ae.isScene?Ae.overrideMaterial:null;for(let ze=0,zt=te.length;ze<zt;ze++){const tn=te[ze],An=tn.object,Pn=tn.geometry,ti=null===Ee?tn.material:Ee,jn=tn.group;An.layers.test(Le.layers)&&Hl(An,Ae,Le,Pn,ti,jn)}}function Hl(te,Ae,Le,Ee,ze,zt){te.onBeforeRender(p,Ae,Le,Ee,ze,zt),te.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),ze.onBeforeRender(p,Ae,Le,Ee,te,zt),!0===ze.transparent&&3===ze.side?(ze.side=1,ze.needsUpdate=!0,p.renderBufferDirect(Le,Ae,Ee,ze,te,zt),ze.side=0,ze.needsUpdate=!0,p.renderBufferDirect(Le,Ae,Ee,ze,te,zt),ze.side=3):p.renderBufferDirect(Le,Ae,Ee,ze,te,zt),te.onAfterRender(p,Ae,Le,Ee,ze,zt)}function Ho(te,Ae,Le){!0!==Ae.isScene&&(Ae=$);const Ee=be.get(te),ze=h.state.lights,tn=ze.state.version,An=J.getParameters(te,ze.state,h.state.shadowsArray,Ae,Le),Pn=J.getProgramCacheKey(An);let ti=Ee.programs;Ee.environment=te.isMeshStandardMaterial?Ae.environment:null,Ee.fog=Ae.fog,Ee.envMap=(te.isMeshStandardMaterial?W:Se).get(te.envMap||Ee.environment),void 0===ti&&(te.addEventListener("dispose",Kt),ti=new Map,Ee.programs=ti);let jn=ti.get(Pn);if(void 0!==jn){if(Ee.currentProgram===jn&&Ee.lightsStateVersion===tn)return r7(te,An),jn}else An.uniforms=J.getUniforms(te),te.onBuild(Le,An,p),te.onBeforeCompile(An,p),jn=J.acquireProgram(An,Pn),ti.set(Pn,jn),Ee.uniforms=An.uniforms;const Xn=Ee.uniforms;(!te.isShaderMaterial&&!te.isRawShaderMaterial||!0===te.clipping)&&(Xn.clippingPlanes=U.uniform),r7(te,An),Ee.needsLights=function LLe(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&!0===te.lights}(te),Ee.lightsStateVersion=tn,Ee.needsLights&&(Xn.ambientLightColor.value=ze.state.ambient,Xn.lightProbe.value=ze.state.probe,Xn.directionalLights.value=ze.state.directional,Xn.directionalLightShadows.value=ze.state.directionalShadow,Xn.spotLights.value=ze.state.spot,Xn.spotLightShadows.value=ze.state.spotShadow,Xn.rectAreaLights.value=ze.state.rectArea,Xn.ltc_1.value=ze.state.rectAreaLTC1,Xn.ltc_2.value=ze.state.rectAreaLTC2,Xn.pointLights.value=ze.state.point,Xn.pointLightShadows.value=ze.state.pointShadow,Xn.hemisphereLights.value=ze.state.hemi,Xn.directionalShadowMap.value=ze.state.directionalShadowMap,Xn.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,Xn.spotShadowMap.value=ze.state.spotShadowMap,Xn.spotLightMatrix.value=ze.state.spotLightMatrix,Xn.spotLightMap.value=ze.state.spotLightMap,Xn.pointShadowMap.value=ze.state.pointShadowMap,Xn.pointShadowMatrix.value=ze.state.pointShadowMatrix);const yr=jn.getUniforms(),fo=R_.seqWithValue(yr.seq,Xn);return Ee.currentProgram=jn,Ee.uniformsList=fo,jn}function r7(te,Ae){const Le=be.get(te);Le.outputEncoding=Ae.outputEncoding,Le.instancing=Ae.instancing,Le.skinning=Ae.skinning,Le.morphTargets=Ae.morphTargets,Le.morphNormals=Ae.morphNormals,Le.morphColors=Ae.morphColors,Le.morphTargetsCount=Ae.morphTargetsCount,Le.numClippingPlanes=Ae.numClippingPlanes,Le.numIntersection=Ae.numClipIntersection,Le.vertexAlphas=Ae.vertexAlphas,Le.vertexTangents=Ae.vertexTangents,Le.toneMapping=Ae.toneMapping}an.setAnimationLoop(function Me(te){ie&&ie(te)}),typeof self<"u"&&an.setContext(self),this.setAnimationLoop=function(te){ie=te,ot.setAnimationLoop(te),null===te?an.stop():an.start()},ot.addEventListener("sessionstart",Ge),ot.addEventListener("sessionend",et),this.render=function(te,Ae){if(void 0===Ae||!0===Ae.isCamera){if(!0!==g){if(!0===te.matrixWorldAutoUpdate&&te.updateMatrixWorld(),null===Ae.parent&&!0===Ae.matrixWorldAutoUpdate&&Ae.updateMatrixWorld(),!0===ot.enabled&&!0===ot.isPresenting&&(!0===ot.cameraAutoUpdate&&ot.updateCamera(Ae),Ae=ot.getCamera()),!0===te.isScene&&te.onBeforeRender(p,te,Ae,v),h=V.get(te,m.length),h.init(),m.push(h),q.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),A.setFromProjectionMatrix(q),I=this.localClippingEnabled,O=U.init(this.clippingPlanes,I,Ae),d=De.get(te,f.length),d.init(),f.push(d),_r(te,Ae,0,p.sortObjects),d.finish(),!0===p.sortObjects&&d.sort(N,k),!0===O&&U.beginShadows(),oe.render(h.state.shadowsArray,te,Ae),!0===O&&U.endShadows(),!0===this.info.autoReset&&this.info.reset(),Te.render(d,te),h.setupLights(p.physicallyCorrectLights),Ae.isArrayCamera){const Ee=Ae.cameras;for(let ze=0,zt=Ee.length;ze<zt;ze++){const tn=Ee[ze];fa(d,te,tn,tn.viewport)}}else fa(d,te,Ae);null!==v&&(fe.updateMultisampleRenderTarget(v),fe.updateRenderTargetMipmap(v)),!0===te.isScene&&te.onAfterRender(p,te,Ae),we.resetDefaultState(),y=-1,b=null,m.pop(),h=m.length>0?m[m.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(te,Ae,Le){be.get(te.texture).__webglTexture=Ae,be.get(te.depthTexture).__webglTexture=Le;const Ee=be.get(te);Ee.__hasExternalTextures=!0,Ee.__hasExternalTextures&&(Ee.__autoAllocateDepthBuffer=void 0===Le,Ee.__autoAllocateDepthBuffer||!0===ye.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(te,Ae){const Le=be.get(te);Le.__webglFramebuffer=Ae,Le.__useDefaultFramebuffer=void 0===Ae},this.setRenderTarget=function(te,Ae=0,Le=0){v=te,_=Ae,w=Le;let Ee=!0,ze=null,zt=!1,tn=!1;if(te){const Pn=be.get(te);void 0!==Pn.__useDefaultFramebuffer?(re.bindFramebuffer(36160,null),Ee=!1):void 0===Pn.__webglFramebuffer?fe.setupRenderTarget(te):Pn.__hasExternalTextures&&fe.rebindTextures(te,be.get(te.texture).__webglTexture,be.get(te.depthTexture).__webglTexture);const ti=te.texture;(ti.isData3DTexture||ti.isDataArrayTexture||ti.isCompressedArrayTexture)&&(tn=!0);const jn=be.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(ze=jn[Ae],zt=!0):ze=ge.isWebGL2&&te.samples>0&&!1===fe.useMultisampledRTT(te)?be.get(te).__webglMultisampledFramebuffer:jn,x.copy(te.viewport),C.copy(te.scissor),M=te.scissorTest}else x.copy(R).multiplyScalar(T).floor(),C.copy(B).multiplyScalar(T).floor(),M=D;if(re.bindFramebuffer(36160,ze)&&ge.drawBuffers&&Ee&&re.drawBuffers(te,ze),re.viewport(x),re.scissor(C),re.setScissorTest(M),zt){const Pn=be.get(te.texture);K.framebufferTexture2D(36160,36064,34069+Ae,Pn.__webglTexture,Le)}else if(tn){const Pn=be.get(te.texture);K.framebufferTextureLayer(36160,36064,Pn.__webglTexture,Le||0,Ae||0)}y=-1},this.readRenderTargetPixels=function(te,Ae,Le,Ee,ze,zt,tn){if(!te||!te.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let An=be.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&void 0!==tn&&(An=An[tn]),An){re.bindFramebuffer(36160,An);try{const Pn=te.texture,ti=Pn.format,jn=Pn.type;if(ti!==To&&ne.convert(ti)!==K.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Xn=jn===gp&&(ye.has("EXT_color_buffer_half_float")||ge.isWebGL2&&ye.has("EXT_color_buffer_float"));if(!(jn===uu||ne.convert(jn)===K.getParameter(35738)||jn===sc&&(ge.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float"))||Xn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ae>=0&&Ae<=te.width-Ee&&Le>=0&&Le<=te.height-ze&&K.readPixels(Ae,Le,Ee,ze,ne.convert(ti),ne.convert(jn),zt)}finally{const Pn=null!==v?be.get(v).__webglFramebuffer:null;re.bindFramebuffer(36160,Pn)}}},this.copyFramebufferToTexture=function(te,Ae,Le=0){const Ee=Math.pow(2,-Le),ze=Math.floor(Ae.image.width*Ee),zt=Math.floor(Ae.image.height*Ee);fe.setTexture2D(Ae,0),K.copyTexSubImage2D(3553,Le,0,0,te.x,te.y,ze,zt),re.unbindTexture()},this.copyTextureToTexture=function(te,Ae,Le,Ee=0){const ze=Ae.image.width,zt=Ae.image.height,tn=ne.convert(Le.format),An=ne.convert(Le.type);fe.setTexture2D(Le,0),K.pixelStorei(37440,Le.flipY),K.pixelStorei(37441,Le.premultiplyAlpha),K.pixelStorei(3317,Le.unpackAlignment),Ae.isDataTexture?K.texSubImage2D(3553,Ee,te.x,te.y,ze,zt,tn,An,Ae.image.data):Ae.isCompressedTexture?K.compressedTexSubImage2D(3553,Ee,te.x,te.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,tn,Ae.mipmaps[0].data):K.texSubImage2D(3553,Ee,te.x,te.y,tn,An,Ae.image),0===Ee&&Le.generateMipmaps&&K.generateMipmap(3553),re.unbindTexture()},this.copyTextureToTexture3D=function(te,Ae,Le,Ee,ze=0){if(p.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const zt=te.max.x-te.min.x+1,tn=te.max.y-te.min.y+1,An=te.max.z-te.min.z+1,Pn=ne.convert(Ee.format),ti=ne.convert(Ee.type);let jn;if(Ee.isData3DTexture)fe.setTexture3D(Ee,0),jn=32879;else{if(!Ee.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");fe.setTexture2DArray(Ee,0),jn=35866}K.pixelStorei(37440,Ee.flipY),K.pixelStorei(37441,Ee.premultiplyAlpha),K.pixelStorei(3317,Ee.unpackAlignment);const Xn=K.getParameter(3314),yr=K.getParameter(32878),fo=K.getParameter(3316),Gl=K.getParameter(3315),Ju=K.getParameter(32877),br=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;K.pixelStorei(3314,br.width),K.pixelStorei(32878,br.height),K.pixelStorei(3316,te.min.x),K.pixelStorei(3315,te.min.y),K.pixelStorei(32877,te.min.z),Le.isDataTexture||Le.isData3DTexture?K.texSubImage3D(jn,ze,Ae.x,Ae.y,Ae.z,zt,tn,An,Pn,ti,br.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(jn,ze,Ae.x,Ae.y,Ae.z,zt,tn,An,Pn,br.data)):K.texSubImage3D(jn,ze,Ae.x,Ae.y,Ae.z,zt,tn,An,Pn,ti,br),K.pixelStorei(3314,Xn),K.pixelStorei(32878,yr),K.pixelStorei(3316,fo),K.pixelStorei(3315,Gl),K.pixelStorei(32877,Ju),0===ze&&Ee.generateMipmaps&&K.generateMipmap(jn),re.unbindTexture()},this.initTexture=function(te){te.isCubeTexture?fe.setTextureCube(te,0):te.isData3DTexture?fe.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?fe.setTexture2DArray(te,0):fe.setTexture2D(te,0),re.unbindTexture()},this.resetState=function(){_=0,w=0,v=null,re.reset(),we.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class lce extends H3{}).prototype.isWebGL1Renderer=!0;class G3 extends za{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class H_ extends wu{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uL=new cn,hC=new __,G_=new Eh,q_=new ee;class fC extends za{constructor(e=new vn,t=new H_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),G_.copy(i.boundingSphere),G_.applyMatrix4(r),G_.radius+=a,!1===e.ray.intersectsSphere(G_))return;uL.copy(r).invert(),hC.copy(e.ray).applyMatrix4(uL);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=i.index,d=i.attributes.position;if(null!==c)for(let m=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);m<p;m++){const g=c.getX(m);q_.fromBufferAttribute(d,g),dL(q_,g,l,r,e,t,this)}else for(let m=Math.max(0,o.start),p=Math.min(d.count,o.start+o.count);m<p;m++)q_.fromBufferAttribute(d,m),dL(q_,m,l,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function dL(n,e,t,i,r,a,o){const s=hC.distanceSqToPoint(n);if(s<t){const l=new ee;hC.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class CL extends wu{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Io(n,e,t){return PC(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function Tu(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function PC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class ny{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let s=i+2;;){if(void 0===r){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=a)break e;{const s=t[1];e<s&&(i=2,a=s);for(let l=i-2;;){if(void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0}}for(;i<o;){const s=i+o>>>1;e<t[s]?o=s:i=s+1}if(r=t[i],a=t[i-1],void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cue extends ny{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,s=r[a],l=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case 2401:a=e,s=2*t-i;break;case 2402:a=r.length-2,s=t+r[a]-r[a+1];break;default:a=e,s=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(l-i),this._offsetPrev=a*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,m=(i-t)/(r-t),p=m*m,g=p*m,_=-h*g+2*h*p-h*m,w=(1+h)*g+(-1.5-2*h)*p+(-.5+h)*m+1,v=(-1-f)*g+(1.5+f)*p+.5*m,y=f*g-f*p;for(let b=0;b!==s;++b)a[b]=_*o[u+b]+w*o[c+b]+v*o[l+b]+y*o[d+b];return a}}class DL extends ny{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(i-t)/(r-t),d=1-u;for(let h=0;h!==s;++h)a[h]=o[c+h]*d+o[l+h]*u;return a}}class uue extends ny{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Fs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tu(t,this.TimeBufferType),this.values=Tu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Tu(e.times,Array),values:Tu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new uue(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new DL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cue(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==a||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=Io(i,a,o),this.values=Io(this.values,a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=i[s];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(void 0!==r&&PC(r))for(let s=0,l=r.length;s!==l;++s){const c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=Io(this.times),t=Io(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const c=e[s];if(c!==e[s+1]&&(1!==s||c!==e[0]))if(r)l=!0;else{const d=s*i,h=d-i,f=d+i;for(let m=0;m!==i;++m){const p=t[d+m];if(p!==t[h+m]||p!==t[f+m]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const d=s*i,h=o*i;for(let f=0;f!==i;++f)t[h+f]=t[d+f]}++o}}if(a>0){e[o]=e[a];for(let s=a*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[s+c];++o}return o!==e.length?(this.times=Io(e,0,o),this.values=Io(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Io(this.times,0),t=Io(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Fs.prototype.TimeBufferType=Float32Array,Fs.prototype.ValueBufferType=Float32Array,Fs.prototype.DefaultInterpolation=2301;class Xh extends Fs{}Xh.prototype.ValueTypeName="bool",Xh.prototype.ValueBufferType=Array,Xh.prototype.DefaultInterpolation=2300,Xh.prototype.InterpolantFactoryMethodLinear=void 0,Xh.prototype.InterpolantFactoryMethodSmooth=void 0;(class AL extends Fs{}).prototype.ValueTypeName="color";(class iy extends Fs{}).prototype.ValueTypeName="number";class due extends ny{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(i-t)/(r-t);let c=e*s;for(let u=c+s;c!==u;c+=4)Ma.slerpFlat(a,0,o,c-s,o,c,l);return a}}class Hp extends Fs{InterpolantFactoryMethodLinear(e){return new due(this.times,this.values,this.getValueSize(),e)}}Hp.prototype.ValueTypeName="quaternion",Hp.prototype.DefaultInterpolation=2301,Hp.prototype.InterpolantFactoryMethodSmooth=void 0;class Yh extends Fs{}Yh.prototype.ValueTypeName="string",Yh.prototype.ValueBufferType=Array,Yh.prototype.DefaultInterpolation=2300,Yh.prototype.InterpolantFactoryMethodLinear=void 0,Yh.prototype.InterpolantFactoryMethodSmooth=void 0;(class ry extends Fs{}).prototype.ValueTypeName="vector";class pue extends Error{constructor(e,t){super(e),this.response=t}}class gue extends za{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new St(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const zC=new cn,NL=new ee,IL=new ee;class _ue{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new JS,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new _i(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;NL.setFromMatrixPosition(e.matrixWorld),t.position.copy(NL),IL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(IL),t.updateMatrixWorld(),zC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zC),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(zC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const FL=new cn,Gp=new ee,UC=new ee;class xue extends _ue{constructor(){super(new jr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ue(4,2),this._viewportCount=6,this._viewports=[new _i(2,1,1,1),new _i(0,1,1,1),new _i(3,1,1,1),new _i(1,1,1,1),new _i(3,0,1,1),new _i(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Gp.setFromMatrixPosition(e.matrixWorld),i.position.copy(Gp),UC.copy(i.position),UC.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(UC),i.updateMatrixWorld(),r.makeTranslation(-Gp.x,-Gp.y,-Gp.z),FL.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FL)}}class kL extends gue{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new xue}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}const HC="\\[\\]\\.:\\/",Oue=new RegExp("["+HC+"]","g"),GC="[^"+HC+"]",Pue="[^"+HC.replace("\\.","")+"]",Vue=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",GC)+/(WCOD+)?/.source.replace("WCOD",Pue)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GC)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GC)+"$"),Hue=["material","materials","bones","map"];class Gue{constructor(e,t,i){const r=i||Pi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Pi=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Oue,"")}static parseTrackName(t){const i=Vue.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==a&&-1!==a){const o=r.nodeName.substring(a+1);-1!==Hue.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let s=0;s<o.length;s++){const l=o[s];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},a=r(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)t[i++]=r[a]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,a=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const s=t[a];if(void 0===s)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+a+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=a;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Gue,n})();Pi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Pi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Pi.prototype.GetterByBindingType=[Pi.prototype._getValue_direct,Pi.prototype._getValue_array,Pi.prototype._getValue_arrayElement,Pi.prototype._getValue_toArray],Pi.prototype.SetterByBindingTypeAndVersioning=[[Pi.prototype._setValue_direct,Pi.prototype._setValue_direct_setNeedsUpdate,Pi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pi.prototype._setValue_array,Pi.prototype._setValue_array_setNeedsUpdate,Pi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pi.prototype._setValue_arrayElement,Pi.prototype._setValue_arrayElement_setNeedsUpdate,Pi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pi.prototype._setValue_fromArray,Pi.prototype._setValue_fromArray_setNeedsUpdate,Pi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class WL{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ar(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function Xr(){return Xr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xr.apply(this,arguments)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"148"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="148");var tB={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Pe=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(tB)};function Rn(n){return"number"==typeof n}function Mn(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function Cl(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function qp(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function El(n){return n&&!0===n.constructor.prototype.isUnit||!1}function Ea(n){return"string"==typeof n}Xr(Pe,tB,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var ui=Array.isArray;function Ht(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function Dl(n){return Array.isArray(n)||Ht(n)}function my(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function Ou(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function YC(n){return n&&!0===n.constructor.prototype.isRange||!1}function py(n){return n&&!0===n.constructor.prototype.isIndex||!1}function Que(n){return"boolean"==typeof n}function Jue(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function iB(n){return n&&!0===n.constructor.prototype.isHelp||!1}function ede(n){return"function"==typeof n}function tde(n){return n instanceof Date}function nde(n){return n instanceof RegExp}function ZC(n){return!(!n||"object"!=typeof n||n.constructor!==Object||Cl(n)||qp(n))}function ide(n){return null===n}function rde(n){return void 0===n}function Pu(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function Fo(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function ade(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function ode(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function sde(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function zn(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function KC(n){return zn(n)||gr(n)&&1===n.args.length&&zn(n.args[0])&&"-+~".includes(n.op)}function Wp(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function gc(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function Kh(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function di(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function gy(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function gr(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function Al(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function lde(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function cde(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function Rr(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function rB(n){return n&&!0===n.constructor.prototype.isChain||!1}function Ti(n){var e=typeof n;return"object"===e?null===n?"null":Mn(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var aB=new Set(["end"]);function Lt(n){var e=typeof n;if("number"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Lt(t)});if(n instanceof Date)return new Date(n.valueOf());if(Mn(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return function ude(n,e){var t={};for(var i in n)xt(n,i)&&(t[i]=e(n[i]));return t}(n,Lt)}function oB(n,e){for(var t in e)xt(e,t)&&(n[t]=e[t]);return n}function $p(n,e){var t,i,r;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(i=0,r=n.length;i<r;i++)if(!$p(n[i],e[i]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!$p(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function xt(n,e){return n&&Object.hasOwnProperty.call(n,e)}function Y(n,e,t,i){function r(a){var o=function mde(n,e){for(var t={},i=0;i<e.length;i++){var r=e[i],a=n[r];void 0!==a&&(t[r]=a)}return t}(a,e.map(_de));return function gde(n,e,t){var i=e.filter(a=>!function vde(n){return n&&"?"===n[0]}(a)).every(a=>void 0!==t[a]);if(!i){var r=e.filter(a=>void 0===t[a]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(r.map(a=>'"'.concat(a,'"')).join(", "),"."))}}(n,e,a),t(o)}return r.isFactory=!0,r.fn=n,r.dependencies=e.slice().sort(),i&&(r.meta=i),r}function _de(n){return n&&"?"===n[0]?n.slice(1):n}function ko(n,e){if(dB(n)&&JC(n,e))return n[e];throw"function"==typeof n[e]&&eE(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Qh(n,e,t){if(dB(n)&&JC(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function JC(n,e){return!(!n||"object"!=typeof n||!xt(xde,e)&&(e in Object.prototype||e in Function.prototype))}function eE(n,e){return!(null==n||"function"!=typeof n[e]||xt(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!xt(wde,e)&&(e in Object.prototype||e in Function.prototype))}function dB(n){return"object"==typeof n&&n&&n.constructor===Object}var xde={length:!0,name:!0},wde={toString:!0,valueOf:!0,toLocaleString:!0};class tE{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return ko(this.wrappedObject,e)}set(e,t){return Qh(this.wrappedObject,e,t),this}has(e){return function yde(n,e){return e in n}(this.wrappedObject,e)}}function Jh(){return new Map}function ef(n){if(!n)return Jh();if(nE(n))return n;if(ZC(n))return new tE(n);throw new Error("createMap can create maps from objects or Maps")}function nE(n){return!!n&&(n instanceof Map||n instanceof tE||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function hB(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var r of t)if(r)if(nE(r))for(var a of r.keys())n.set(a,r.get(a));else if(ZC(r))for(var o of Object.keys(r))n.set(o,r[o]);return n}var Ede=Y("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class i{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={};return{evaluate:function l(c){var u=ef(c);return function t(r){for(var a of[...aB])if(r.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}(u),a(u,o,null)}}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!di(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null),function o(s,l){s.forEach(function(c,u,d){l(c,u,d),o(c,l)})}(this,a)}transform(a){return function o(s,l,c){var u=a(s,l,c);return u!==s?u:s.map(o)}(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,c){a(s,l,c)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return!!a&&this.type===a.type&&$p(this,a)}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&"object"==typeof a)switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function jp(n){return(jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Or(n,e,t){return(e=function Ade(n){var e=function Dde(n,e){if("object"!==jp(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==jp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===jp(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Et(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}var vc=Math.sign||function(n){return n>0?1:n<0?-1:0},Tde=Math.log2||function(e){return Math.log(e)/Math.LN2},Nde=Math.log10||function(e){return Math.log(e)/Math.LN10},fB=Math.log1p||function(n){return Math.log(n+1)},Ide=Math.cbrt||function(e){if(0===e)return e;var i,t=e<0;return t&&(e=-e),i=isFinite(e)?(e/((i=Math.exp(Math.log(e)/3))*i)+2*i)/3:e,t?-i:i},Fde=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function iE(n,e,t){var r={2:"0b",8:"0o",16:"0x"}[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Et(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Et(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),a="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(r).concat(n.toString(e)).concat(a)}function Lu(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var i,r,t="auto";if(e&&(e.notation&&(t=e.notation),Rn(e)?i=e:Rn(e.precision)&&(i=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return mB(n,i);case"exponential":return pB(n,i);case"engineering":return function kde(n,e){if(isNaN(n)||!isFinite(n))return String(n);var i=_y(vy(n),e),r=i.exponent,a=i.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(Rn(e))for(;e>a.length||r-o+1>a.length;)a.push(0);else for(var s=Math.abs(r-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var c=Math.abs(r-o),u=1;c>0;)u++,c--;var d=a.slice(u).join(""),h=Rn(e)&&d.length||d.match(/[1-9]/)?"."+d:"",f=a.slice(0,u).join("")+h+"e"+(r>=0?"+":"")+o.toString();return i.sign+f}(n,i);case"bin":return iE(n,2,r);case"oct":return iE(n,8,r);case"hex":return iE(n,16,r);case"auto":return function Rde(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,r=t&&void 0!==t.upperExp?t.upperExp:5,a=vy(n),o=e?_y(a,e):a;if(o.exponent<i||o.exponent>=r)return pB(n,e);var s=o.coefficients,l=o.exponent;s.length<e&&(s=s.concat(tf(e-s.length))),s=s.concat(tf(l-s.length+1+(s.length<e?e-s.length:0)));var c=l>0?l:0;return c<(s=tf(-l).concat(s)).length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}(n,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return"."!==a?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function vy(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],i=e[2],r=parseFloat(e[4]||"0"),a=i.indexOf(".");r+=-1!==a?a-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(s){return r-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return 0===o.length&&(o.push(0),r++),{sign:t,coefficients:o,exponent:r}}function mB(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=vy(n),i="number"==typeof e?_y(t,t.exponent+1+e):t,r=i.coefficients,a=i.exponent+1,o=a+(e||0);return r.length<o&&(r=r.concat(tf(o-r.length))),a<0&&(r=tf(1-a).concat(r),a=1),a<r.length&&r.splice(a,0,0===a?"0.":"."),i.sign+r.join("")}function pB(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=vy(n),i=e?_y(t,e):t,r=i.coefficients,a=i.exponent;r.length<e&&(r=r.concat(tf(e-r.length)));var o=r.shift();return i.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(a>=0?"+":"")+a}function _y(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e&&i.splice(e,i.length-e)[0]>=5){var a=e-1;for(i[a]++;10===i[a];)i.pop(),0===a&&(i.unshift(0),t.exponent++,a++),i[--a]++}return t}function tf(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}var Pde=Number.EPSILON||2220446049250313e-31;function ao(n,e,t){if(null==t)return n===e;if(n===e)return!0;if(isNaN(n)||isNaN(e))return!1;if(isFinite(n)&&isFinite(e)){var i=Math.abs(n-e);return i<Pde||i<=Math.max(Math.abs(n),Math.abs(e))*t}return!1}var Lde=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},Bde=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},zde=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},gB=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},Ude=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},vB=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function rE(n,e,t){var r=new(0,n.constructor)(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Et(t))throw new Error("size must be an integer");if(n.greaterThan(r.pow(t-1).sub(1))||n.lessThan(r.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(a);case 8:return"".concat(n.toOctal()).concat(a);case 16:return"".concat(n.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function _B(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function Wde(n,e){return n.substring(n.length-e.length,n.length)===e}function nn(n,e){var t=function $de(n,e){return"number"==typeof n?Lu(n,e):Mn(n)?function Hde(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var i,r,t="auto";if(void 0!==e&&(e.notation&&(t=e.notation),"number"==typeof e?i=e:e.precision&&(i=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return function qde(n,e){return n.toFixed(e)}(n,i);case"exponential":return _B(n,i);case"engineering":return function Gde(n,e){var t=n.e,i=t%3==0?t:t<0?t-3-t%3:t-t%3,r=n.mul(Math.pow(10,-i)),a=r.toPrecision(e);return-1!==a.indexOf("e")&&(a=r.toString()),a+"e"+(t>=0?"+":"")+i.toString()}(n,i);case"bin":return rE(n,2,r);case"oct":return rE(n,8,r);case"hex":return rE(n,16,r);case"auto":var a=e&&void 0!==e.lowerExp?e.lowerExp:-3,o=e&&void 0!==e.upperExp?e.upperExp:5;if(n.isZero())return"0";var l=n.toSignificantDigits(i),c=l.e;return(c>=a&&c<o?l.toFixed():_B(n,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],d=arguments[4];return"."!==u?u+d:d});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function jde(n){return n&&"object"==typeof n&&"number"==typeof n.s&&"number"==typeof n.n&&"number"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():n.s*n.n+"/"+n.d:Array.isArray(n)?yB(n,e):Ea(n)?'"'+n+'"':"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(i=>'"'+i+'": '+nn(n[i],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function yy(n){for(var e=String(n),t="",i=0;i<e.length;){var r=e.charAt(i);"\\"===r?(t+=r,i++,(""===(r=e.charAt(i))||-1==='"\\/bfnrtu'.indexOf(r))&&(t+="\\"),t+=r):t+='"'===r?'\\"':r,i++}return'"'+t+'"'}function Ro(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yB(n,e){if(Array.isArray(n)){for(var t="[",i=n.length,r=0;r<i;r++)0!==r&&(t+=", "),t+=yB(n[r],e);return t+"]"}return nn(n,e)}function aE(n,e){if(!Ea(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ti(n)+", index: 0)");if(!Ea(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ti(e)+", index: 1)");return n===e?0:n>e?1:-1}var by="ObjectNode",Yde=Y(by,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),this.properties=r||{},r&&("object"!=typeof r||!Object.keys(r).every(function(a){return di(r[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return by}get isObjectNode(){return!0}_compile(r,a){var o={};for(var s in this.properties)if(xt(this.properties,s)){var l=yy(s),c=JSON.parse(l);if(!JC(this.properties,c))throw new Error('No access to property "'+c+'"');o[c]=this.properties[s]._compile(r,a)}return function(d,h,f){var m={};for(var p in o)xt(o,p)&&(m[p]=o[p](d,h,f));return m}}forEach(r){for(var a in this.properties)xt(this.properties,a)&&r(this.properties[a],"properties["+yy(a)+"]",this)}map(r){var a={};for(var o in this.properties)xt(this.properties,o)&&(a[o]=this._ifNode(r(this.properties[o],"properties["+yy(o)+"]",this)));return new t(a)}clone(){var r={};for(var a in this.properties)xt(this.properties,a)&&(r[a]=this.properties[a]);return new t(r)}_toString(r){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push(yy(o)+": "+this.properties[o].toString(r));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:by,properties:this.properties}}static fromJSON(r){return new t(r.properties)}toHTML(r){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Ro(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(r));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(r){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(r)+"\\\\");return"\\left\\{\\begin{array}{ll}"+a.join("\n")+"\\end{array}\\right\\}"}}return Or(t,"name",by),t},{isClass:!0,isNode:!0});function un(n,e,t){if(!(this instanceof un))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function rs(n,e,t){if(!(this instanceof rs))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function _n(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function bB(n,e,t){var i,r=n.length;if(r!==e[t])throw new un(r,e[t]);if(t<e.length-1){var a=t+1;for(i=0;i<r;i++){if(!Array.isArray(n[i]))throw new un(e.length-1,e.length,"<");bB(n[i],e,a)}}else for(i=0;i<r;i++)if(Array.isArray(n[i]))throw new un(e.length+1,e.length,">")}function xB(n,e){if(0===e.length){if(Array.isArray(n))throw new un(n.length,0)}else bB(n,e,0)}function gi(n,e){if(!Rn(n)||!Et(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new rs(n,e)}function nf(n,e,t){if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(r){if(!Rn(r)||!Et(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+nn(e)+")")}),oE(n,e,0,void 0!==t?t:0),n}function oE(n,e,t,i){var r,a,s=e[t],l=Math.min(n.length,s);if(n.length=s,t<e.length-1){var c=t+1;for(r=0;r<l;r++)a=n[r],Array.isArray(a)||(n[r]=a=[a]),oE(a,e,c,i);for(r=l;r<s;r++)n[r]=a=[],oE(a,e,c,i)}else{for(r=0;r<l;r++)for(;Array.isArray(n[r]);)n[r]=n[r][0];for(r=l;r<s;r++)n[r]=i}}function wB(n,e){var t=Un(n),i=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new un(0,i,"!=");var r=MB(e=sE(e,i));if(i!==r)throw new un(r,i,"!=");try{return function Zde(n,e){for(var i,t=n,r=e.length-1;r>0;r--){var a=e[r];i=[];for(var o=t.length/a,s=0;s<o;s++)i.push(t.slice(s*a,(s+1)*a));t=i}return t}(t,e)}catch(a){throw a instanceof un?new un(r,i,"!="):a}}function sE(n,e){var t=MB(n),i=n.slice(),a=n.indexOf(-1);if(n.indexOf(-1,a+1)>=0)throw new Error("More than one wildcard in sizes");if(a>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);i[a]=-e/t}return i}function MB(n){return n.reduce((e,t)=>e*t,1)}function xy(n,e){for(var t=e||_n(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var i=t.length;1===t[i-1];)i--;return i<t.length&&(n=SB(n,i,0),t.length=i),n}function SB(n,e,t){var i,r;if(t<e){var a=t+1;for(i=0,r=n.length;i<r;i++)n[i]=SB(n[i],e,a)}else for(;Array.isArray(n);)n=n[0];return n}function CB(n,e,t,i){var r=i||_n(n);if(t)for(var a=0;a<t;a++)n=[n],r.unshift(1);for(n=EB(n,e,0);r.length<e;)r.push(1);return n}function EB(n,e,t){var i,r;if(Array.isArray(n)){var a=t+1;for(i=0,r=n.length;i<r;i++)n[i]=EB(n[i],e,a)}else for(var o=t;o<e;o++)n=[n];return n}function Un(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Tl(n,e){return Array.prototype.map.call(n,e)}function wy(n,e){Array.prototype.forEach.call(n,e)}function DB(n,e){if(1!==_n(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}function My(n,e){if(1!==_n(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function AB(n,e){return Array.prototype.join.call(n,e)}function rf(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var i=1;i<n.length;i++)n[i]===n[i-1]?t++:t=0,e.push({value:n[i],identifier:t});return e}function Sy(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function Xp(n,e){for(var t,i=0,r=0;r<n.length;r++){var a=n[r],o=Array.isArray(a);if(0===r&&o&&(i=a.length),o&&a.length!==i)return;var s=o?Xp(a,e):e(a);if(void 0===t)t=s;else if(t!==s)return"mixed"}return t}(un.prototype=new RangeError).constructor=RangeError,un.prototype.name="DimensionError",un.prototype.isDimensionError=!0,(rs.prototype=new RangeError).constructor=RangeError,rs.prototype.name="IndexError",rs.prototype.isIndexError=!0;var as=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Cy(n,e){if(!e||"auto"!==e)return n;for(var t=n;Al(t);)t=t.content;return t}function vi(n,e,t,i){var r=n;"keep"!==e&&(r=n.getContent());for(var a=r.getIdentifier(),o=null,s=0;s<as.length;s++)if(a in as[s]){o=s;break}if("OperatorNode:multiply"===a&&r.implicit&&"show"!==t){var l=Cy(r.args[0],e);!(zn(l)&&i&&"OperatorNode:divide"===i.getIdentifier()&&KC(Cy(i.args[0],e)))&&("OperatorNode:divide"!==l.getIdentifier()||!KC(Cy(l.args[0],e))||!zn(Cy(l.args[1])))&&(o+=1)}return o}function Yp(n,e){var t=n;"keep"!==e&&(t=n.getContent());var i=t.getIdentifier(),r=vi(t,e);if(null===r)return null;var a=as[r][i];if(xt(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+a.associativity+"'.")}return null}function lE(n,e,t){var i="keep"!==t?n.getContent():n,r="keep"!==t?n.getContent():e,a=i.getIdentifier(),o=r.getIdentifier(),s=vi(i,t);if(null===s)return null;var l=as[s][a];if(xt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}function Kde(n){var e="OperatorNode:"+n;for(var t of as)if(e in t)return t[e].op;return null}var Qde=wt(945),cE={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Vn={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},TB={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Vn.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Vn.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Vn.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Vn.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Vn.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Vn.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Vn.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Vn.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Vn.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Vn.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Vn.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Vn.bitAnd,"${args[1]}\\right)")},bitNot:{1:Vn.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Vn.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Vn.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Vn.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Vn.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Vn.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Vn.and,"${args[1]}\\right)")},not:{1:Vn.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Vn.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Vn.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Vn.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Vn.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Vn.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Vn.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Vn.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Vn.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Vn.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Vn.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Vn.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Vn.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Vn.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(cE.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},NB={deg:"^\\circ"};function uE(n){return Qde(n,{preserveFormatting:!0})}function IB(n,e){return(e=!(typeof e>"u")&&e)?xt(NB,n)?NB[n]:"\\mathrm{"+uE(n)+"}":xt(cE,n)?cE[n]:uE(n)}var Ey="OperatorNode",the=Y(Ey,["Node"],n=>{var{Node:e}=n;function t(a,o){var s=a;if("auto"===o)for(;Al(s);)s=s.content;return!!zn(s)||!!gr(s)&&t(s.args[0],o)}function i(a,o,s,l,c){var h,u=vi(a,o,s),d=Yp(a,o);if("all"===o||l.length>2&&"OperatorNode:add"!==a.getIdentifier()&&"OperatorNode:multiply"!==a.getIdentifier())return l.map(function(S){switch(S.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:h=[];break;case 1:var f=vi(l[0],o,s,a);if(c&&null!==f){var m,p;if("keep"===o?(m=l[0].getIdentifier(),p=a.getIdentifier()):(m=l[0].getContent().getIdentifier(),p=a.getContent().getIdentifier()),!1===as[u][p].latexLeftParens){h=[!1];break}if(!1===as[f][m].latexParens){h=[!1];break}}if(null===f){h=[!1];break}if(f<=u){h=[!0];break}h=[!1];break;case 2:var g,_=vi(l[0],o,s,a),w=lE(a,l[0],o);g=null!==_&&(_===u&&"right"===d&&!w||_<u);var v,x,C,M,y=vi(l[1],o,s,a),b=lE(a,l[1],o);v=null!==y&&(y===u&&"left"===d&&!b||y<u),c&&("keep"===o?(x=a.getIdentifier(),C=a.args[0].getIdentifier(),M=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),M=a.args[1].getContent().getIdentifier()),null!==_&&(!1===as[u][x].latexLeftParens&&(g=!1),!1===as[_][C].latexParens&&(g=!1)),null!==y&&(!1===as[u][x].latexRightParens&&(v=!1),!1===as[y][M].latexParens&&(v=!1))),h=[g,v];break;default:("OperatorNode:add"===a.getIdentifier()||"OperatorNode:multiply"===a.getIdentifier())&&(h=l.map(function(S){var T=vi(S,o,s,a),N=lE(a,S,o),k=Yp(S,o);return null!==T&&(u===T&&d===k&&!N||T<u)}))}if(l.length>=2&&"OperatorNode:multiply"===a.getIdentifier()&&a.implicit&&"all"!==o&&"hide"===s)for(var E=1;E<h.length;++E)t(l[E],o)&&!h[E-1]&&("keep"!==o||!Al(l[E-1]))&&(h[E]=!0);return h}class r extends e{constructor(o,s,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof s)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(di))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=s,this.args=l||[]}get type(){return Ey}get isOperatorNode(){return!0}_compile(o,s){if("string"!=typeof this.fn||!eE(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=ko(o,this.fn),c=Tl(this.args,function(f){return f._compile(o,s)});if(1===c.length){var u=c[0];return function(m,p,g){return l(u(m,p,g))}}if(2===c.length){var d=c[0],h=c[1];return function(m,p,g){return l(d(m,p,g),h(m,p,g))}}return function(m,p,g){return l.apply(null,Tl(c,function(_){return _(m,p,g)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new r(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new r(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,s,l,c,!1);if(1===c.length){var d=Yp(this,s),h=c[0].toString(o);u[0]&&(h="("+h+")");var f=/[a-zA-Z]+/.test(this.op);return"right"===d?this.op+(f?" ":"")+h:"left"===d?h+(f?" ":"")+this.op:h+this.op}if(2===c.length){var m=c[0].toString(o),p=c[1].toString(o);return u[0]&&(m="("+m+")"),u[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m+" "+p:m+" "+this.op+" "+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=c.map(function(_,w){return _=_.toString(o),u[w]&&(_="("+_+")"),_});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?g.join(" "):g.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Ey,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new r(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,s,l,c,!1);if(1===c.length){var d=Yp(this,s),h=c[0].toHTML(o);return u[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===d?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Ro(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Ro(this.op)+"</span>"}if(2===c.length){var f=c[0].toHTML(o),m=c[1].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?f+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:f+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ro(this.op)+"</span>"+m}var p=c.map(function(g,_){return g=g.toHTML(o),u[_]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ro(this.op)+"</span>"):'<span class="math-function">'+Ro(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,s,l,c,!0),d=Vn[this.fn];if(d=typeof d>"u"?this.op:d,1===c.length){var h=Yp(this,s),f=c[0].toTex(o);return u[0]&&(f="\\left(".concat(f,"\\right)")),"right"===h?d+f:f+d}if(2===c.length){var m=c[0],p=m.toTex(o);u[0]&&(p="\\left(".concat(p,"\\right)"));var w,_=c[1].toTex(o);switch(u[1]&&(_="\\left(".concat(_,"\\right)")),w="keep"===s?m.getIdentifier():m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+p+"}{"+_+"}";case"OperatorNode:pow":switch(p="{"+p+"}",_="{"+_+"}",w){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return p+"~"+_}return p+d+_}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(y,b){return y=y.toTex(o),u[b]&&(y="\\left(".concat(y,"\\right)")),y});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(d)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(y){return y.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Or(r,"name",Ey),r},{isClass:!0,isNode:!0}),Dy="ParenthesisNode",ihe=Y(Dy,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),!di(r))throw new TypeError('Node expected for parameter "content"');this.content=r}get type(){return Dy}get isParenthesisNode(){return!0}_compile(r,a){return this.content._compile(r,a)}getContent(){return this.content.getContent()}forEach(r){r(this.content,"content",this)}map(r){var a=r(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"("+this.content.toString(r)+")":this.content.toString(r)}toJSON(){return{mathjs:Dy,content:this.content}}static fromJSON(r){return new t(r.content)}toHTML(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(r)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(r)}_toTex(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"\\left(".concat(this.content.toTex(r),"\\right)"):this.content.toTex(r)}}return Or(t,"name",Dy),t},{isClass:!0,isNode:!0}),Ay="RelationalNode",ahe=Y(Ay,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Ay}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(c=>c._compile(a,o));return function(u,d,h){for(var f,m=l[0](u,d,h),p=0;p<s.conditionals.length;p++)if(f=m,m=l[p+1](u,d,h),!ko(a,s.conditionals[p])(f,m))return!1;return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new i(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=vi(this,o,a&&a.implicit),l=this.params.map(function(d,h){var f=vi(d,o,a&&a.implicit);return"all"===o||null!==f&&f<=s?"("+d.toString(a)+")":d.toString(a)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+t[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:Ay,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new i(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=vi(this,o,a&&a.implicit),l=this.params.map(function(d,h){var f=vi(d,o,a&&a.implicit);return"all"===o||null!==f&&f<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ro(t[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=vi(this,o,a&&a.implicit),l=this.params.map(function(d,h){var f=vi(d,o,a&&a.implicit);return"all"===o||null!==f&&f<=s?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=Vn[this.conditionals[u]]+l[u+1];return c}}return Or(i,"name",Ay),i},{isClass:!0,isNode:!0}),Ty="ArrayNode",she=Y(Ty,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),this.items=r||[],!Array.isArray(this.items)||!this.items.every(di))throw new TypeError("Array containing Nodes expected")}get type(){return Ty}get isArrayNode(){return!0}_compile(r,a){var o=Tl(this.items,function(c){return c._compile(r,a)});if("Array"!==r.config.matrix){var l=r.matrix;return function(u,d,h){return l(Tl(o,function(f){return f(u,d,h)}))}}return function(u,d,h){return Tl(o,function(f){return f(u,d,h)})}}forEach(r){for(var a=0;a<this.items.length;a++)r(this.items[a],"items["+a+"]",this)}map(r){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(r(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(r){return"["+this.items.map(function(o){return o.toString(r)}).join(", ")+"]"}toJSON(){return{mathjs:Ty,items:this.items}}static fromJSON(r){return new t(r.items)}toHTML(r){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(r)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(r){return function a(o,s){var l=o.some(Fo)&&!o.every(Fo),c=s||l,u=c?"&":"\\\\",d=o.map(function(h){return h.items?a(h.items,!s):h.toTex(r)}).join(u);return l||!c||c&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}(this.items,!1)}}return Or(t,"name",Ty),t},{isClass:!0,isNode:!0}),Ny="BlockNode",che=Y(Ny,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class i extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!di(s))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return Ny}get isBlockNode(){return!0}_compile(a,o){var s=Tl(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(c,u,d){var h=[];return wy(s,function(m){var p=m.evaluate(c,u,d);m.visible&&h.push(p)}),new e(h)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],c=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:c,visible:l.visible}}return new i(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new i(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:Ny,blocks:this.blocks}}static fromJSON(a){return new i(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join("\\;\\;\n")}}return Or(i,"name",Ny),i},{isClass:!0,isNode:!0}),Iy="ConditionalNode",dhe=Y(Iy,["Node"],n=>{var{Node:e}=n;class i extends e{constructor(a,o,s){if(super(),!di(a))throw new TypeError("Parameter condition must be a Node");if(!di(o))throw new TypeError("Parameter trueExpr must be a Node");if(!di(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return Iy}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),c=this.falseExpr._compile(a,o);return function(d,h,f){return function t(r){if("number"==typeof r||"boolean"==typeof r||"string"==typeof r)return!!r;if(r){if(Mn(r))return!r.isZero();if(Cl(r))return!(!r.re&&!r.im);if(El(r))return!!r.value}if(null==r)return!1;throw new TypeError('Unsupported type of condition "'+Ti(r)+'"')}(s(d,h,f))?l(d,h,f):c(d,h,f)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new i(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=vi(this,o,a&&a.implicit),l=this.condition.toString(a),c=vi(this.condition,o,a&&a.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=s)&&(l="("+l+")");var u=this.trueExpr.toString(a),d=vi(this.trueExpr,o,a&&a.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=s)&&(u="("+u+")");var h=this.falseExpr.toString(a),f=vi(this.falseExpr,o,a&&a.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=s)&&(h="("+h+")"),l+" ? "+u+" : "+h}toJSON(){return{mathjs:Iy,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new i(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=vi(this,o,a&&a.implicit),l=this.condition.toHTML(a),c=vi(this.condition,o,a&&a.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(a),d=vi(this.trueExpr,o,a&&a.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=s)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(a),f=vi(this.falseExpr,o,a&&a.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=s)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Or(i,"name",Iy),i},{isClass:!0,isNode:!0}),Fy="ConstantNode",fhe=Y(Fy,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){super(),this.value=r}get type(){return Fy}get isConstantNode(){return!0}_compile(r,a){var o=this.value;return function(){return o}}forEach(r){}map(r){return this.clone()}clone(){return new t(this.value)}_toString(r){return nn(this.value,r)}toHTML(r){var a=this._toString(r);switch(Ti(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Fy,value:this.value}}static fromJSON(r){return new t(r.value)}_toTex(r){var a=this._toString(r);switch(Ti(this.value)){case"string":return"\\mathtt{"+uE(a)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");return-1!==o?a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}":a;case"Fraction":return this.value.toLatex();default:return a}}}return Or(t,"name",Fy),t},{isClass:!0,isNode:!0}),ky="RangeNode",phe=Y(ky,["Node"],n=>{var{Node:e}=n;function t(r,a,o){var s=vi(r,a,o),l={},c=vi(r.start,a,o);if(l.start=null!==c&&c<=s||"all"===a,r.step){var u=vi(r.step,a,o);l.step=null!==u&&u<=s||"all"===a}var d=vi(r.end,a,o);return l.end=null!==d&&d<=s||"all"===a,l}class i extends e{constructor(a,o,s){if(super(),!di(a))throw new TypeError("Node expected");if(!di(o))throw new TypeError("Node expected");if(s&&!di(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return ky}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return Rr(o)&&"end"===o.name}).length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),c=this.end._compile(a,o);if(this.step){var u=this.step._compile(a,o);return function(h,f,m){return s(l(h,f,m),c(h,f,m),u(h,f,m))}}return function(h,f,m){return s(l(h,f,m),c(h,f,m))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new i(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(a){var l,s=t(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),c=this.start.toString(a);if(s.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(a);s.step&&(u="("+u+")"),l+=":"+u}var d=this.end.toString(a);return s.end&&(d="("+d+")"),l+":"+d}toJSON(){return{mathjs:ky,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new i(a.start,a.end,a.step)}toHTML(a){var l,s=t(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),c=this.start.toHTML(a);if(s.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(a);s.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var d=this.end.toHTML(a);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+d}_toTex(a){var s=t(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(a);s.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(a);return s.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return Or(i,"name",ky),i},{isClass:!0,isNode:!0}),_he=Y("reviver",["classes"],n=>{var{classes:e}=n;return function(i,r){var a=e[r&&r.mathjs];return a&&"function"==typeof a.fromJSON?a.fromJSON(r):r}}),xhe=Y("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:i}=n;function r(c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=rB(c)?c.value:c}function o(c,u){!function hde(n,e,t){var r,i=!0;Object.defineProperty(n,e,{get:function(){return i&&(r=t(),i=!1),r},set:function(o){r=o,i=!1},configurable:!0,enumerable:!0})}(r.prototype,c,function(){var h=u();if("function"==typeof h)return s(h)})}function s(c){return function(){if(0===arguments.length)return new r(c(this.value));for(var u=[this.value],d=0;d<arguments.length;d++)u[d+1]=arguments[d];if(i.isTypedFunction(c)){var h=i.resolve(c,u);if(1===h.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new r(h.implementation.apply(c,u))}return new r(c.apply(c,u))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return nn(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(c){return new r(c.value)},r.createProxy=function(c,u){if("string"==typeof c)!function a(c,u){"function"==typeof u&&(r.prototype[c]=s(u))}(c,u);else{var d=function(m){xt(c,m)&&void 0===l[m]&&o(m,()=>c[m])};for(var h in c)d(h)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(t),e&&e("import",function(c,u,d){d||o(c,u)}),r},{isClass:!0}),Ry="FunctionAssignmentNode",Mhe=Y(Ry,["typed","Node"],n=>{var{typed:e,Node:t}=n;function i(a,o,s){var l=vi(a,o,s),c=vi(a.expr,o,s);return"all"===o||null!==c&&c<=l}class r extends t{constructor(o,s,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!di(l))throw new TypeError('Node expected for parameter "expr"');if(aB.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of s){var d="string"==typeof u?u:u.name;if(c.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));c.add(d)}this.name=o,this.params=s.map(function(h){return h&&h.name||h}),this.types=s.map(function(h){return h&&h.type||"any"}),this.expr=l}get type(){return Ry}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);wy(this.params,function(m){l[m]=!0});var c=this.expr._compile(o,l),u=this.name,d=this.params,h=AB(this.types,","),f=u+"("+AB(this.params,", ")+")";return function(p,g,_){var w={};w[h]=function(){for(var y=Object.create(g),b=0;b<d.length;b++)y[d[b]]=arguments[b];return c(p,y,_)};var v=e(u,w);return v.syntax=f,p.set(u,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new r(this.name,this.params.slice(0),s)}clone(){return new r(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return i(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:Ry,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new r(o.name,o.params,o.expr)}toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+Ro(this.params[c])+"</span>");var u=this.expr.toHTML(o);return i(this,s,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Ro(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return i(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(IB).join(",")+"\\right):="+l}}return Or(r,"name",Ry),r},{isClass:!0,isNode:!0}),Che=Y("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(r){return new t(r)}})});function Da(n){return n&&n.isIndexError?new rs(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function kB(n){var{subset:e}=n;return function(i,r){try{if(Array.isArray(i))return e(i,r);if(i&&"function"==typeof i.subset)return i.subset(r);if("string"==typeof i)return e(i,r);if("object"==typeof i){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ko(i,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Da(a)}}}var Oy="AccessorNode",Dhe=Y(Oy,["subset","Node"],n=>{var{subset:e,Node:t}=n,i=kB({subset:e});function r(o){return!(Pu(o)||Fo(o)||zn(o)||gc(o)||gy(o)||Al(o)||Rr(o))}class a extends t{constructor(s,l){if(super(),!di(s))throw new TypeError('Node expected for parameter "object"');if(!Kh(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Oy}get isAccessorNode(){return!0}_compile(s,l){var c=this.object._compile(s,l),u=this.index._compile(s,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(f,m,p){return ko(c(f,m,p),d)}}return function(f,m,p){var g=c(f,m,p),_=u(f,m,g);return i(g,_)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return r(this.object)&&(l="("+l+")"),l+this.index.toString(s)}toHTML(s){var l=this.object.toHTML(s);return r(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return r(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:Oy,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Or(a,"name",Oy),a},{isClass:!0,isNode:!0}),Py="AssignmentNode",Nhe=Y(Py,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:i}=n,r=kB({subset:e}),a=function Ahe(n){var{subset:e,matrix:t}=n;return function(r,a,o){try{if(Array.isArray(r))return t(r).subset(a,o).valueOf();if(r&&"function"==typeof r.subset)return r.subset(a,o);if("string"==typeof r)return e(r,a,o);if("object"==typeof r){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Qh(r,a.getObjectProperty(),o),r}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Da(s)}}}({subset:e,matrix:t});function o(l,c,u){c||(c="keep");var d=vi(l,c,u),h=vi(l.value,c,u);return"all"===c||null!==h&&h<=d}class s extends i{constructor(c,u,d){if(super(),this.object=c,this.index=d?u:null,this.value=d||u,!Rr(c)&&!Pu(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Rr(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Kh(this.index))throw new TypeError('IndexNode expected as "index"');if(!di(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Py}get isAssignmentNode(){return!0}_compile(c,u){var d=this.object._compile(c,u),h=this.index?this.index._compile(c,u):null,f=this.value._compile(c,u),m=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(y,b,x){var C=d(y,b,x),M=f(y,b,x);return Qh(C,p,M),M}}if(Rr(this.object))return function(y,b,x){var C=d(y,b,x),M=f(y,b,x),E=h(y,b,C);return y.set(m,a(C,E,M)),M};var g=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var _=this.object.index.getObjectProperty();return function(y,b,x){var C=g(y,b,x),M=ko(C,_),E=h(y,b,M),S=f(y,b,x);return Qh(C,_,a(M,E,S)),S}}var w=this.object.index._compile(c,u);return function(y,b,x){var C=g(y,b,x),M=w(y,b,C),E=r(C,M),S=h(y,b,E),T=f(y,b,x);return a(C,M,a(E,S,T)),T}}if(!Rr(this.object))throw new TypeError("SymbolNode expected as object");return function(y,b,x){var C=f(y,b,x);return y.set(m,C),C}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),d=this.index?this._ifNode(c(this.index,"index",this)):null,h=this._ifNode(c(this.value,"value",this));return new s(u,d,h)}clone(){return new s(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),d=this.index?this.index.toString(c):"",h=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(h="("+h+")"),u+d+" = "+h}toJSON(){return{mathjs:Py,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new s(c.object,c.index,c.value)}toHTML(c){var u=this.object.toHTML(c),d=this.index?this.index.toHTML(c):"",h=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(c){var u=this.object.toTex(c),d=this.index?this.index.toTex(c):"",h=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(h="\\left(".concat(h,"\\right)")),u+d+":="+h}}return Or(s,"name",Py),s},{isClass:!0,isNode:!0}),Ly="IndexNode",Fhe=Y(Ly,["Node","size"],n=>{var{Node:e,size:t}=n;class i extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(di))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Ly}get isIndexNode(){return!0}_compile(a,o){var s=Tl(this.dimensions,function(c,u){if(c.filter(m=>m.isSymbolNode&&"end"===m.name).length>0){var h=Object.create(o);h.end=!0;var f=c._compile(a,h);return function(p,g,_){if(!Ht(_)&&!ui(_)&&!Ea(_))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Ti(_));var w=t(_).valueOf(),v=Object.create(g);return v.end=w[u],f(p,v,_)}}return c._compile(a,o)}),l=ko(a,"index");return function(u,d,h){var f=Tl(s,function(m){return m(u,d,h)});return l(...f)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new i(o,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&zn(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Ly,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new i(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Ro(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Or(i,"name",Ly),i},{isClass:!0,isNode:!0}),Ohe=Y("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:i}=n;function r(o){return!!t&&t.isValuelessUnit(o)}class a extends i{constructor(s){if(super(),"string"!=typeof s)throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var c=this.name;if(!0===l[c])return function(d,h,f){return h[c]};if(c in s)return function(d,h,f){return d.has(c)?d.get(c):ko(s,c)};var u=r(c);return function(d,h,f){return d.has(c)?d.get(c):u?new t(null,c):a.onUndefinedSymbol(c)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}toHTML(s){var l=Ro(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&r(this.name)&&(l=!0);var c=IB(this.name,l);return"\\"===c[0]?c:" "+c}}return a},{isClass:!0,isNode:!0});function Zp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return"function"==typeof n.createSubScope?hB(n.createSubScope(),...t):hB(Jh(),n,...t)}var By="FunctionNode",Lhe=Y(By,["math","Node","SymbolNode"],n=>{var{math:e,Node:t,SymbolNode:i}=n,r=s=>nn(s,{truncate:78});function a(s,l,c){for(var f,u="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0;null!==(f=d.exec(s));)if(u+=s.substring(h,f.index),h=f.index,"$$"===f[0])u+="$",h++;else{h+=f[0].length;var m=l[f[1]];if(!m)throw new ReferenceError("Template: Property "+f[1]+" does not exist.");if(void 0===f[2])switch(typeof m){case"string":u+=m;break;case"object":if(di(m))u+=m.toTex(c);else{if(!Array.isArray(m))throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes");u+=m.map(function(p,g){if(di(p))return p.toTex(c);throw new TypeError("Template: "+f[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes")}else{if(!di(m[f[2]]&&m[f[2]]))throw new TypeError("Template: "+f[1]+"["+f[2]+"] is not a Node.");u+=m[f[2]].toTex(c)}}return u+s.slice(h)}class o extends t{constructor(l,c){if(super(),"string"==typeof l&&(l=new i(l)),!di(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(di))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=c||[]}get name(){return this.fn.name||""}get type(){return By}get isFunctionNode(){return!0}_compile(l,c){var u=this.args.map(C=>C._compile(l,c));if(!Rr(this.fn)){if(Pu(this.fn)&&Kh(this.fn.index)&&this.fn.index.isObjectProperty()){var _=this.fn.object._compile(l,c),w=this.fn.index.getObjectProperty(),v=this.args;return function(M,E,S){var T=_(M,E,S);if(function bde(n,e){if(!eE(n,e))throw new Error('No access to method "'+e+'"')}(T,w),T[w]&&T[w].rawArgs)return T[w](v,l,Zp(M,E),M);var k=u.map(R=>R(M,E,S));return T[w].apply(T,k)}}var y=this.fn.toString(),b=this.fn._compile(l,c),x=this.args;return function(M,E,S){var T=b(M,E,S);if("function"!=typeof T)throw new TypeError("Expression '".concat(y,"' did not evaluate to a function; value is:")+"\n  ".concat(r(T)));if(T.rawArgs)return T(x,l,Zp(M,E),M);var N=u.map(k=>k(M,E,S));return T.apply(T,N)}}var d=this.fn.name;if(c[d]){var g=this.args;return function(M,E,S){var T=E[d];if("function"!=typeof T)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(r(T)));if(T.rawArgs)return T(g,l,Zp(M,E),M);var N=u.map(k=>k(M,E,S));return T.apply(T,N)}}var h=d in l?ko(l,d):void 0,m=C=>{var M;if(C.has(d))M=C.get(d);else{if(!(d in l))return o.onUndefinedFunction(d);M=ko(l,d)}if("function"==typeof M)return M;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(r(M)))};if("function"==typeof h&&!0===h.rawArgs){var p=this.args;return function(M,E,S){return m(M)(p,l,Zp(M,E),M)}}switch(u.length){case 0:return function(M,E,S){return m(M)()};case 1:return function(M,E,S){return m(M)((0,u[0])(M,E,S))};case 2:return function(M,E,S){var T=m(M),k=u[1];return T((0,u[0])(M,E,S),k(M,E,S))};default:return function(M,E,S){return m(M)(...u.map(k=>k(M,E,S)))}}}forEach(l){l(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)l(this.args[c],"args["+c+"]",this)}map(l){for(var c=this._ifNode(l(this.fn,"fn",this)),u=[],d=0;d<this.args.length;d++)u[d]=this._ifNode(l(this.args[d],"args["+d+"]",this));return new o(c,u)}clone(){return new o(this.fn,this.args.slice(0))}toString(l){var c,u=this.fn.toString(l);return l&&"object"==typeof l.handler&&xt(l.handler,u)&&(c=l.handler[u](this,l)),typeof c<"u"?c:super.toString(l)}_toString(l){var c=this.args.map(function(d){return d.toString(l)});return(Wp(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l))+"("+c.join(", ")+")"}toJSON(){return{mathjs:By,fn:this.fn,args:this.args}}toHTML(l){var c=this.args.map(function(u){return u.toHTML(l)});return'<span class="math-function">'+Ro(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var c;return l&&"object"==typeof l.handler&&xt(l.handler,this.name)&&(c=l.handler[this.name](this,l)),typeof c<"u"?c:super.toTex(l)}_toTex(l){var u,d,c=this.args.map(function(h){return h.toTex(l)});switch(TB[this.name]&&(u=TB[this.name]),e[this.name]&&("function"==typeof e[this.name].toTex||"object"==typeof e[this.name].toTex||"string"==typeof e[this.name].toTex)&&(u=e[this.name].toTex),typeof u){case"function":d=u(this,l);break;case"string":d=a(u,this,l);break;case"object":switch(typeof u[c.length]){case"function":d=u[c.length](this,l);break;case"string":d=a(u[c.length],this,l)}}return typeof d<"u"?d:a("\\mathrm{${name}}\\left(${args}\\right)",this,l)}getIdentifier(){return this.type+":"+this.name}}return Or(o,"name",By),Or(o,"onUndefinedFunction",function(s){throw new Error("Undefined function "+s)}),Or(o,"fromJSON",function(s){return new o(s.fn,s.args)}),o},{isClass:!0,isNode:!0});function RB(n){var i,r,e=n.length,t=n[0].length,a=[];for(r=0;r<t;r++){var o=[];for(i=0;i<e;i++)o.push(n[i][r]);a.push(o)}return a}function af(n){for(var e=0;e<n.length;e++)if(Dl(n[e]))return!0;return!1}function Nl(n,e){Ht(n)&&(n=n.valueOf());for(var t=0,i=n.length;t<i;t++){var r=n[t];Array.isArray(r)?Nl(r,e):e(r)}}function dn(n,e,t){return n&&"function"==typeof n.map?n.map(function(i){return dn(i,e,t)}):e(n)}function zy(n,e,t){var i=Array.isArray(n)?_n(n):n.size();if(e<0||e>=i.length)throw new rs(e,i.length);return Ht(n)?n.create(Uy(n.valueOf(),e,t)):Uy(n,e,t)}function Uy(n,e,t){var i,r,a,o;if(e<=0){if(Array.isArray(n[0])){for(o=RB(n),r=[],i=0;i<o.length;i++)r[i]=Uy(o[i],e-1,t);return r}for(a=n[0],i=1;i<n.length;i++)a=t(a,n[i]);return a}for(r=[],i=0;i<n.length;i++)r[i]=Uy(n[i],e-1,t);return r}function OB(n,e,t,i,r,a,o,s,l,c,u){var m,g,_,d=n._values,h=n._index,f=n._ptr;if(i)for(g=f[e+1],m=f[e];m<g;m++)t[_=h[m]]!==a?(t[_]=a,o.push(_),c?(i[_]=l?s(d[m],u):s(u,d[m]),r[_]=a):i[_]=d[m]):(i[_]=l?s(d[m],i[_]):s(i[_],d[m]),r[_]=a);else for(g=f[e+1],m=f[e];m<g;m++)t[_=h[m]]!==a?(t[_]=a,o.push(_)):r[_]=a}var zhe=Y("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:i,AccessorNode:r,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:d,IndexNode:h,ObjectNode:f,OperatorNode:m,ParenthesisNode:p,RangeNode:g,RelationalNode:_,SymbolNode:w}=n,v=e("parse",{string:function(P){return L(P,{})},"Array | Matrix":function(P){return y(P,{})},"string, Object":function(P,ie){return L(P,void 0!==ie.nodes?ie.nodes:{})},"Array | Matrix, Object":y});function y(F){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=void 0!==P.nodes?P.nodes:{};return dn(F,function(Me){if("string"!=typeof Me)throw new TypeError("String expected");return L(Me,ie)})}var x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},M={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"];function T(F,P){return F.expression.substr(F.index,P)}function N(F){return T(F,1)}function k(F){F.index++}function R(F){return F.expression.charAt(F.index-1)}function B(F){return F.expression.charAt(F.index+1)}function D(F){for(F.tokenType=0,F.token="",F.comment="";;){if("#"===N(F))for(;"\n"!==N(F)&&""!==N(F);)F.comment+=N(F),k(F);if(!v.isWhitespace(N(F),F.nestingLevel))break;k(F)}if(""!==N(F)){if("\n"===N(F)&&!F.nestingLevel)return F.tokenType=1,F.token=N(F),void k(F);var P=N(F),ie=T(F,2),Me=T(F,3);if(3===Me.length&&x[Me])return F.tokenType=1,F.token=Me,k(F),k(F),void k(F);if(2===ie.length&&x[ie])return F.tokenType=1,F.token=ie,k(F),void k(F);if(x[P])return F.tokenType=1,F.token=P,void k(F);if(v.isDigitDot(P)){F.tokenType=2;var Ge=T(F,2);if("0b"===Ge||"0o"===Ge||"0x"===Ge){for(F.token+=N(F),k(F),F.token+=N(F),k(F);v.isHexDigit(N(F));)F.token+=N(F),k(F);if("."===N(F))for(F.token+=".",k(F);v.isHexDigit(N(F));)F.token+=N(F),k(F);else if("i"===N(F))for(F.token+="i",k(F);v.isDigit(N(F));)F.token+=N(F),k(F);return}if("."===N(F)){if(F.token+=N(F),k(F),!v.isDigit(N(F)))return void(F.tokenType=1)}else{for(;v.isDigit(N(F));)F.token+=N(F),k(F);v.isDecimalMark(N(F),B(F))&&(F.token+=N(F),k(F))}for(;v.isDigit(N(F));)F.token+=N(F),k(F);if("E"===N(F)||"e"===N(F))if(v.isDigit(B(F))||"-"===B(F)||"+"===B(F)){if(F.token+=N(F),k(F),("+"===N(F)||"-"===N(F))&&(F.token+=N(F),k(F)),!v.isDigit(N(F)))throw Dt(F,'Digit expected, got "'+N(F)+'"');for(;v.isDigit(N(F));)F.token+=N(F),k(F);if(v.isDecimalMark(N(F),B(F)))throw Dt(F,'Digit expected, got "'+N(F)+'"')}else if("."===B(F))throw k(F),Dt(F,'Digit expected, got "'+N(F)+'"')}else{if(!v.isAlpha(N(F),R(F),B(F))){for(F.tokenType=4;""!==N(F);)F.token+=N(F),k(F);throw Dt(F,'Syntax error in part "'+F.token+'"')}for(;v.isAlpha(N(F),R(F),B(F))||v.isDigit(N(F));)F.token+=N(F),k(F);F.tokenType=xt(C,F.token)?1:3}}else F.tokenType=1}function A(F){do{D(F)}while("\n"===F.token)}function O(F){F.nestingLevel++}function I(F){F.nestingLevel--}function L(F,P){var ie={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};Xr(ie,{expression:F,extraNodes:P}),D(ie);var Me=function q(F){var P,ie=[];for(""!==F.token&&"\n"!==F.token&&";"!==F.token&&(P=G(F),F.comment&&(P.comment=F.comment));"\n"===F.token||";"===F.token;)0===ie.length&&P&&ie.push({node:P,visible:";"!==F.token}),D(F),"\n"!==F.token&&";"!==F.token&&""!==F.token&&(P=G(F),F.comment&&(P.comment=F.comment),ie.push({node:P,visible:";"!==F.token}));return ie.length>0?new s(ie):(P||(P=new c(void 0),F.comment&&(P.comment=F.comment)),P)}(ie);if(""!==ie.token)throw 1===ie.tokenType?Kt(ie,"Unexpected operator "+ie.token):Dt(ie,'Unexpected part "'+ie.token+'"');return Me}function G(F){var P,ie,Me,Ge,et=function z(F){for(var P=function $(F){for(var P=ae(F);"or"===F.token;)A(F),P=new m("or","or",[P,ae(F)]);return P}(F);"?"===F.token;){var ie=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,A(F);var Me=P,Ge=G(F);if(":"!==F.token)throw Dt(F,"False part of conditional expression expected");F.conditionalLevel=null,A(F);var et=G(F);P=new l(Me,Ge,et),F.conditionalLevel=ie}return P}(F);if("="===F.token){if(Rr(et))return P=et.name,A(F),Me=G(F),new o(new w(P),Me);if(Pu(et))return A(F),Me=G(F),new o(et.object,et.index,Me);if(gc(et)&&Rr(et.fn)&&(Ge=!0,ie=[],P=et.name,et.args.forEach(function(an,_r){Rr(an)?ie[_r]=an.name:Ge=!1}),Ge))return A(F),Me=G(F),new u(P,ie,Me);throw Dt(F,"Invalid left hand side of assignment operator =")}return et}function ae(F){for(var P=K(F);"xor"===F.token;)A(F),P=new m("xor","xor",[P,K(F)]);return P}function K(F){for(var P=me(F);"and"===F.token;)A(F),P=new m("and","and",[P,me(F)]);return P}function me(F){for(var P=ye(F);"|"===F.token;)A(F),P=new m("|","bitOr",[P,ye(F)]);return P}function ye(F){for(var P=ge(F);"^|"===F.token;)A(F),P=new m("^|","bitXor",[P,ge(F)]);return P}function ge(F){for(var P=re(F);"&"===F.token;)A(F),P=new m("&","bitAnd",[P,re(F)]);return P}function re(F){for(var P=[Ie(F)],ie=[],Me={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};xt(Me,F.token);)ie.push({name:F.token,fn:Me[F.token]}),A(F),P.push(Ie(F));return 1===P.length?P[0]:2===P.length?new m(ie[0].name,ie[0].fn,P):new _(ie.map(et=>et.fn),P)}function Ie(F){var P,ie,Me,Ge;P=be(F);for(var et={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};xt(et,F.token);)Me=et[ie=F.token],A(F),Ge=[P,be(F)],P=new m(ie,Me,Ge);return P}function be(F){var P,ie,Me,Ge;P=fe(F);for(var et={to:"to",in:"to"};xt(et,F.token);)Me=et[ie=F.token],A(F),"in"===ie&&""===F.token?P=new m("*","multiply",[P,new w("in")],!0):(Ge=[P,fe(F)],P=new m(ie,Me,Ge));return P}function fe(F){var P,ie=[];if(P=":"===F.token?new c(1):Se(F),":"===F.token&&F.conditionalLevel!==F.nestingLevel){for(ie.push(P);":"===F.token&&ie.length<3;)A(F),ie.push(")"===F.token||"]"===F.token||","===F.token||""===F.token?new w("end"):Se(F));P=3===ie.length?new g(ie[0],ie[2],ie[1]):new g(ie[0],ie[1])}return P}function Se(F){var P,ie,Me,Ge;P=W(F);for(var et={"+":"add","-":"subtract"};xt(et,F.token);){Me=et[ie=F.token],A(F);var an=W(F);Ge=an.isPercentage?[P,new m("*","multiply",[P,an])]:[P,an],P=new m(ie,Me,Ge)}return P}function W(F){var P,ie,Me,Ge;ie=P=Z(F);for(var et={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};xt(et,F.token);)Ge=et[Me=F.token],A(F),ie=Z(F),P=new m(Me,Ge,[P,ie]);return P}function Z(F){var P,ie;for(ie=P=pe(F);3===F.tokenType||"in"===F.token&&zn(P)||2===F.tokenType&&!zn(ie)&&(!gr(ie)||"!"===ie.op)||"("===F.token;)ie=pe(F),P=new m("*","multiply",[P,ie],!0);return P}function pe(F){for(var P=X(F),ie=P,Me=[];"/"===F.token&&KC(ie);){if(Me.push(Xr({},F)),A(F),2!==F.tokenType){Xr(F,Me.pop());break}if(Me.push(Xr({},F)),A(F),3!==F.tokenType&&"("!==F.token){Me.pop(),Xr(F,Me.pop());break}Xr(F,Me.pop()),Me.pop(),ie=X(F),P=new m("/","divide",[P,ie])}return P}function X(F){var P,ie,Me,Ge;P=J(F);for(var et={"%":"mod",mod:"mod"};xt(et,F.token);)Me=et[ie=F.token],A(F),"%"===ie&&1===F.tokenType&&"("!==F.token?P=new m("/","divide",[P,new c(100)],!1,!0):(Ge=[P,J(F)],P=new m(ie,Me,Ge));return P}function J(F){var P,ie,Me,Ge={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return xt(Ge,F.token)?(Me=Ge[F.token],P=F.token,A(F),ie=[J(F)],new m(P,Me,ie)):function he(F){var P,ie,Me,Ge;return P=function De(F){var P,ie,Me;P=function V(F){var P=[];if(3===F.tokenType&&xt(F.extraNodes,F.token)){var ie=F.extraNodes[F.token];if(D(F),"("===F.token){if(P=[],O(F),D(F),")"!==F.token)for(P.push(G(F));","===F.token;)D(F),P.push(G(F));if(")"!==F.token)throw Dt(F,"Parenthesis ) expected");I(F),D(F)}return new ie(P)}return function U(F){var ie;return 3===F.tokenType||1===F.tokenType&&F.token in C?(ie=F.token,D(F),oe(F,xt(M,ie)?new c(M[ie]):-1!==E.indexOf(ie)?new c(t(ie,"number")):new w(ie))):function Te(F){var ie;return'"'===F.token?(ie=Fe(F),oe(F,new c(ie))):function He(F){var ie;return"'"===F.token?(ie=dt(F),oe(F,new c(ie))):function ne(F){var P,ie,Me,Ge;if("["===F.token){if(O(F),D(F),"]"!==F.token){var et=we(F);if(";"===F.token){for(Me=1,ie=[et];";"===F.token;)D(F),ie[Me]=we(F),Me++;if("]"!==F.token)throw Dt(F,"End of matrix ] expected");I(F),D(F),Ge=ie[0].items.length;for(var an=1;an<Me;an++)if(ie[an].items.length!==Ge)throw Kt(F,"Column dimensions mismatch ("+ie[an].items.length+" !== "+Ge+")");P=new a(ie)}else{if("]"!==F.token)throw Dt(F,"End of matrix ] expected");I(F),D(F),P=et}}else I(F),D(F),P=new a([]);return oe(F,P)}return function Je(F){if("{"===F.token){O(F);var P,ie={};do{if(D(F),"}"!==F.token){if('"'===F.token)P=Fe(F);else if("'"===F.token)P=dt(F);else{if(!(3===F.tokenType||1===F.tokenType&&F.token in C))throw Dt(F,"Symbol or string expected as object key");P=F.token,D(F)}if(":"!==F.token)throw Dt(F,"Colon : expected after object key");D(F),ie[P]=G(F)}}while(","===F.token);if("}"!==F.token)throw Dt(F,"Comma , or bracket } expected after object value");I(F),D(F);var Me=new f(ie);return oe(F,Me)}return function ct(F){var P;return 2===F.tokenType?(P=F.token,D(F),new c(t(P,i.number))):function ot(F){var P;if("("===F.token){if(O(F),D(F),P=G(F),")"!==F.token)throw Dt(F,"Parenthesis ) expected");return I(F),D(F),oe(F,P=new p(P))}return function _t(F){throw Dt(F,""===F.token?"Unexpected end of expression":"Value expected")}(F)}(F)}(F)}(F)}(F)}(F)}(F)}(F)}(F);for(var et={"!":"factorial","'":"ctranspose"};xt(et,F.token);)Me=et[ie=F.token],D(F),P=oe(F,P=new m(ie,Me,[P]));return P}(F),("^"===F.token||".^"===F.token)&&(Me="^"===(ie=F.token)?"pow":"dotPow",A(F),Ge=[P,J(F)],P=new m(ie,Me,Ge)),P}(F)}function oe(F,P,ie){for(var Me;!("("!==F.token&&"["!==F.token&&"."!==F.token||ie&&-1===ie.indexOf(F.token));)if(Me=[],"("===F.token){if(!Rr(P)&&!Pu(P))return P;if(O(F),D(F),")"!==F.token)for(Me.push(G(F));","===F.token;)D(F),Me.push(G(F));if(")"!==F.token)throw Dt(F,"Parenthesis ) expected");I(F),D(F),P=new d(P,Me)}else if("["===F.token){if(O(F),D(F),"]"!==F.token)for(Me.push(G(F));","===F.token;)D(F),Me.push(G(F));if("]"!==F.token)throw Dt(F,"Parenthesis ] expected");I(F),D(F),P=new r(P,new h(Me))}else{if(D(F),3!==F.tokenType)throw Dt(F,"Property name expected after dot");Me.push(new c(F.token)),D(F),P=new r(P,new h(Me,!0))}return P}function Fe(F){for(var P="";""!==N(F)&&'"'!==N(F);)"\\"===N(F)&&(P+=N(F),k(F)),P+=N(F),k(F);if(D(F),'"'!==F.token)throw Dt(F,'End of string " expected');return D(F),JSON.parse('"'+P+'"')}function dt(F){for(var P="";""!==N(F)&&"'"!==N(F);)"\\"===N(F)&&(P+=N(F),k(F)),P+=N(F),k(F);if(D(F),"'"!==F.token)throw Dt(F,"End of string ' expected");return D(F),JSON.parse('"'+P+'"')}function we(F){for(var P=[G(F)],ie=1;","===F.token;)D(F),P[ie]=G(F),ie++;return new a(P)}function Xe(F){return F.index-F.token.length+1}function Dt(F,P){var ie=Xe(F),Me=new SyntaxError(P+" (char "+ie+")");return Me.char=ie,Me}function Kt(F,P){var ie=Xe(F),Me=new SyntaxError(P+" (char "+ie+")");return Me.char=ie,Me}return v.isAlpha=function(P,ie,Me){return v.isValidLatinOrGreek(P)||v.isValidMathSymbol(P,Me)||v.isValidMathSymbol(ie,P)},v.isValidLatinOrGreek=function(P){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(P)},v.isValidMathSymbol=function(P,ie){return/^[\uD835]$/.test(P)&&/^[\uDC00-\uDFFF]$/.test(ie)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ie)},v.isWhitespace=function(P,ie){return" "===P||"\t"===P||"\n"===P&&ie>0},v.isDecimalMark=function(P,ie){return"."===P&&"/"!==ie&&"*"!==ie&&"^"!==ie},v.isDigitDot=function(P){return P>="0"&&P<="9"||"."===P},v.isDigit=function(P){return P>="0"&&P<="9"},v.isHexDigit=function(P){return P>="0"&&P<="9"||P>="a"&&P<="f"||P>="A"&&P<="F"},e.addConversion({from:"string",to:"Node",convert:v}),v}),Hhe=Y("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:i,FunctionNode:r,OperatorNode:a,ParenthesisNode:o}=n;function s(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(Rr(l)){if(u.has(l.name)){var d=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var h=c.get(l.name);if(di(h)){var f=new Set(u);return f.add(l.name),s(h,c,f)}return"number"==typeof h?t(String(h)):void 0!==h?new i(h):l}if(gr(l)){var m=l.args.map(function(g){return s(g,c,u)});return new a(l.op,l.fn,m,l.implicit)}if(Al(l))return new o(s(l.content,c,u));if(gc(l)){var p=l.args.map(function(g){return s(g,c,u)});return new r(l.name,p)}return l.map(g=>s(g,c,u))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,c)=>s(l,ef(c)),"Array | Matrix":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(c,u)=>l(c,ef(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(c,u)=>l(c,ef(u))),"Array | Matrix, Map":e.referToSelf(l=>(c,u)=>c.map(d=>l(d,u)))})});function LB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dE(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?LB(Object(t),!0).forEach(function(i){Or(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var hE=Y("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:i}=n,r=!0,a=!1,o="defaultF",s={add:{trivial:r,total:r,commutative:r,associative:r},unaryPlus:{trivial:r,total:r,commutative:r,associative:r},subtract:{trivial:a,total:r,commutative:a,associative:a},multiply:{trivial:r,total:r,commutative:r,associative:r},divide:{trivial:a,total:r,commutative:a,associative:a},paren:{trivial:r,total:r,commutative:r,associative:a},defaultF:{trivial:a,total:r,commutative:a,associative:a}};function u(v,y){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,x=o;if("string"==typeof v?x=v:gr(v)?x=v.fn.toString():gc(v)?x=v.name:Al(v)&&(x="paren"),xt(b,x)){var C=b[x];if(xt(C,y))return C[y];if(xt(s,x))return s[x][y]}if(xt(b,o)){var M=b[o];return xt(M,y)?M[y]:s[o][y]}if(xt(s,x)){var E=s[x];if(xt(E,y))return E[y]}return s[o][y]}function h(v){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return u(v,"associative",y)}function p(v,y){var b,x=[];return h(v,y)?(b=v.op,function M(E){for(var S=0;S<E.args.length;S++){var T=E.args[S];gr(T)&&b===T.op?M(T):x.push(T)}}(v),x):v.args}function w(v){return gr(v)?function(y){try{return new t(v.op,v.fn,y,v.implicit)}catch(b){return console.error(b),[]}}:function(y){return new e(new i(v.name),y)}}return{createMakeNodeFunction:w,hasProperty:u,isCommutative:function d(v){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return u(v,"commutative",y)},isAssociative:h,mergeContext:function f(v,y){var b=dE({},v);for(var x in y)b[x]=xt(v,x)?dE(dE({},y[x]),v[x]):y[x];return b},flatten:function m(v,y){if(!v.args||0===v.args.length)return v;v.args=p(v,y);for(var b=0;b<v.args.length;b++)m(v.args[b],y)},allChildren:p,unflattenr:function g(v,y){if(v.args&&0!==v.args.length){for(var b=w(v),x=v.args.length,C=0;C<x;C++)g(v.args[C],y);if(x>2&&h(v,y)){for(var M=v.args.pop();v.args.length>0;)M=b([v.args.pop(),M]);v.args=M.args}}},unflattenl:function _(v,y){if(v.args&&0!==v.args.length){for(var b=w(v),x=v.args.length,C=0;C<x;C++)_(v.args[C],y);if(x>2&&h(v,y)){for(var M=v.args.shift();v.args.length>0;)M=b([M,v.args.shift()]);v.args=M.args}}},defaultContext:s,realContext:{divide:{total:a},log:{total:a}},positiveContext:{subtract:{total:a},abs:{trivial:r},log:{total:r}}}});function fE(){throw new Error('No "bignumber" implementation available')}function BB(){throw new Error('No "fraction" implementation available')}function zB(){throw new Error('No "matrix" implementation available')}var jhe=Y("simplifyConstant",["typed","parse","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:i,mathWithTransform:r,matrix:a,fraction:o,bignumber:s,AccessorNode:l,ArrayNode:c,ConstantNode:u,FunctionNode:d,IndexNode:h,ObjectNode:f,OperatorNode:m,SymbolNode:p}=n,{isCommutative:g,isAssociative:_,allChildren:w,createMakeNodeFunction:v}=hE({FunctionNode:d,OperatorNode:m,SymbolNode:p}),y=e("simplifyConstant",{Node:D=>M(B(D,{})),"Node, Object":function(A,O){return M(B(A,O))}});function b(D){return qp(D)?D.valueOf():D instanceof Array?D.map(b):Ht(D)?a(b(D.valueOf())):D}function x(D,A,O){try{return r[D].apply(null,A)}catch{return A=A.map(b),S(r[D].apply(null,A),O)}}var C=e({Fraction:function N(D){var A,O=D.s*D.n;return A=O<0?new m("-","unaryMinus",[new u(-O)]):new u(O),1===D.d?A:new m("/","divide",[A,new u(D.d)])},number:function(A){return A<0?T(new u(-A)):new u(A)},BigNumber:function(A){return A<0?T(new u(-A)):new u(A)},Complex:function(A){throw new Error("Cannot convert Complex number to Node")},string:function(A){return new u(A)},Matrix:function(A){return new c(A.valueOf().map(O=>C(O)))}});function M(D){return di(D)?D:C(D)}function E(D,A){if(A&&!1!==A.exactFractions&&isFinite(D)&&o){var I=o(D),L=A&&"number"==typeof A.fractionsLimit?A.fractionsLimit:1/0;if(I.valueOf()===D&&I.n<L&&I.d<L)return I}return D}var S=e({"string, Object":function(A,O){return"BigNumber"===i.number?(void 0===s&&fE(),s(A)):"Fraction"===i.number?(void 0===o&&BB(),o(A)):E(parseFloat(A),O)},"Fraction, Object":function(A,O){return A},"BigNumber, Object":function(A,O){return A},"number, Object":function(A,O){return E(A,O)},"Complex, Object":function(A,O){return 0!==A.im?A:E(A.re,O)},"Matrix, Object":function(A,O){return a(E(A.valueOf()))},"Array, Object":function(A,O){return A.map(E)}});function T(D){return new m("-","unaryMinus",[D])}function R(D,A,O,I){var L=A.shift(),q=A.reduce((G,z)=>{if(!di(z)){var $=G.pop();if(di($))return[$,z];try{return G.push(x(D,[$,z],I)),G}catch{G.push($)}}G.push(M(G.pop()));var ae=1===G.length?G[0]:O(G);return[O([ae,M(z)])]},[L]);return 1===q.length?q[0]:O([q[0],C(q[1])])}function B(D,A){switch(D.type){case"SymbolNode":return D;case"ConstantNode":switch(typeof D.value){case"number":return S(D.value,A);case"string":return D.value;default:if(!isNaN(D.value))return S(D.value,A)}return D;case"FunctionNode":if(r[D.name]&&r[D.name].rawArgs)return D;if(-1===["add","multiply"].indexOf(D.name)){var I=D.args.map(be=>B(be,A));if(!I.some(di))try{return x(D.name,I,A)}catch{}if("size"===D.name&&1===I.length&&Fo(I[0])){for(var L=[],q=I[0];Fo(q);)L.push(q.items.length),q=q.items[0];return a(L)}return new d(D.name,I.map(M))}case"OperatorNode":var z,$,G=D.fn.toString(),ae=v(D);if(gr(D)&&D.isUnary())$=di((z=[B(D.args[0],A)])[0])?ae(z):x(G,z,A);else if(_(D,A.context))if(z=(z=w(D,A.context)).map(be=>B(be,A)),g(G,A.context)){for(var K=[],me=[],ye=0;ye<z.length;ye++)di(z[ye])?me.push(z[ye]):K.push(z[ye]);K.length>1?($=R(G,K,ae,A),me.unshift($),$=R(G,me,ae,A)):$=R(G,z,ae,A)}else $=R(G,z,ae,A);else $=R(G,z=D.args.map(be=>B(be,A)),ae,A);return $;case"ParenthesisNode":return B(D.content,A);case"AccessorNode":return function k(D,A,O){if(!Kh(A))return new l(M(D),M(A));if(Fo(D)||Ht(D)){for(var I=Array.from(A.dimensions);I.length>0;)if(zn(I[0])&&"string"!=typeof I[0].value){var L=S(I.shift().value,O);Fo(D)?D=D.items[L-1]:(D=D.valueOf()[L-1])instanceof Array&&(D=a(D))}else{if(!(I.length>1&&zn(I[1])&&"string"!=typeof I[1].value))break;var q=S(I[1].value,O),G=[],z=Fo(D)?D.items:D.valueOf();for(var $ of z)if(Fo($))G.push($.items[q-1]);else{if(!Ht(D))break;G.push($[q-1])}if(G.length!==z.length)break;D=Fo(D)?new c(G):a(G),I.splice(1,1)}return I.length===A.dimensions.length?new l(M(D),A):I.length>0?(A=new h(I),new l(M(D),A)):D}if(gy(D)&&1===A.dimensions.length&&zn(A.dimensions[0])){var ae=A.dimensions[0].value;return ae in D.properties?D.properties[ae]:new u}return new l(M(D),A)}(B(D.object,A),B(D.index,A),A);case"ArrayNode":var ge=D.items.map(be=>B(be,A));return ge.some(di)?new c(ge.map(M)):a(ge);case"IndexNode":return new h(D.dimensions.map(be=>y(be,A)));case"ObjectNode":var re={};for(var Ie in D.properties)re[Ie]=y(D.properties[Ie],A);return new f(re);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(D.type))}}return y}),UB="compile",Yhe=Y(UB,["typed","parse"],n=>{var{typed:e,parse:t}=n;return e(UB,{string:function(r){return t(r).compile()},"Array | Matrix":function(r){return dn(r,function(a){return t(a).compile()})}})}),Qhe=Y("Help",["parse"],n=>{var{parse:e}=n;function t(i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var i=this.doc||{},r="\n";if(i.name&&(r+="Name: "+i.name+"\n\n"),i.category&&(r+="Category: "+i.category+"\n\n"),i.description&&(r+="Description:\n    "+i.description+"\n\n"),i.syntax&&(r+="Syntax:\n    "+i.syntax.join("\n    ")+"\n\n"),i.examples){r+="Examples:\n";for(var a={},o=0;o<i.examples.length;o++){var s=i.examples[o];r+="    "+s+"\n";var l=void 0;try{l=e(s).compile().evaluate(a)}catch(c){l=c}void 0!==l&&!iB(l)&&(r+="        "+nn(l,{precision:14})+"\n")}r+="\n"}return i.mayThrow&&i.mayThrow.length&&(r+="Throws: "+i.mayThrow.join(", ")+"\n\n"),i.seealso&&i.seealso.length&&(r+="See also: "+i.seealso.join(", ")+"\n"),r},t.prototype.toJSON=function(){var i=Lt(this.doc);return i.mathjs="Help",i},t.fromJSON=function(i){var r={};return Object.keys(i).filter(a=>"mathjs"!==a).forEach(a=>{r[a]=i[a]}),new t(r)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),VB="leafCount",efe=Y(VB,["parse","typed"],n=>{var{typed:t}=n;function i(r){var a=0;return r.forEach(o=>{a+=i(o)}),a||1}return t(VB,{Node:function(a){return i(a)}})}),HB="simplifyCore",nfe=Y(HB,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:i,isZero:r,AccessorNode:u,ArrayNode:d,ConstantNode:h,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:g,SymbolNode:w}=n,v=new h(0),y=new h(1),b=new h(!0),x=new h(!1);function C(T){return gr(T)&&["and","not","or"].includes(T.op)}var{hasProperty:M,isCommutative:E}=hE({FunctionNode:f,OperatorNode:g,SymbolNode:w});function S(T){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=N?N.context:void 0;if(M(T,"trivial",k)){if(gc(T)&&1===T.args.length)return S(T.args[0],N);var R=!1,B=0;if(T.forEach(K=>{1==++B&&(R=S(K,N))}),1===B)return R}var D=T;if(gc(D)){var A=Kde(D.name);if(!A)return new f(S(D.fn),D.args.map(K=>S(K,N)));if(D.args.length>2&&M(D,"associative",k))for(;D.args.length>2;){var O=D.args.pop(),I=D.args.pop();D.args.push(new g(A,D.name,[O,I]))}D=new g(A,D.name,D.args)}if(gr(D)&&D.isUnary()){var L=S(D.args[0],N);if("~"===D.op&&gr(L)&&L.isUnary()&&"~"===L.op||"not"===D.op&&gr(L)&&L.isUnary()&&"not"===L.op&&C(L.args[0]))return L.args[0];var q=!0;if("-"===D.op&&gr(L)&&(L.isBinary()&&"subtract"===L.fn&&(D=new g("-","subtract",[L.args[1],L.args[0]]),q=!1),L.isUnary()&&"-"===L.op))return L.args[0];if(q)return new g(D.op,D.fn,[L])}if(gr(D)&&D.isBinary()){var G=S(D.args[0],N),z=S(D.args[1],N);if("+"===D.op){if(zn(G)&&r(G.value))return z;if(zn(z)&&r(z.value))return G;gr(z)&&z.isUnary()&&"-"===z.op&&(D=new g("-","subtract",[G,z=z.args[0]]))}if("-"===D.op)return gr(z)&&z.isUnary()&&"-"===z.op?S(new g("+","add",[G,z.args[0]]),N):zn(G)&&r(G.value)?S(new g("-","unaryMinus",[z])):zn(z)&&r(z.value)?G:new g(D.op,D.fn,[G,z]);if("*"===D.op){if(zn(G)){if(r(G.value))return v;if(i(G.value,1))return z}if(zn(z)){if(r(z.value))return v;if(i(z.value,1))return G;if(E(D,k))return new g(D.op,D.fn,[z,G],D.implicit)}return new g(D.op,D.fn,[G,z],D.implicit)}if("/"===D.op)return zn(G)&&r(G.value)?v:zn(z)&&i(z.value,1)?G:new g(D.op,D.fn,[G,z]);if("^"===D.op&&zn(z)){if(r(z.value))return y;if(i(z.value,1))return G}if("and"===D.op){if(zn(G)){if(!G.value)return x;if(C(z))return z}if(zn(z)){if(!z.value)return x;if(C(G))return G}}if("or"===D.op){if(zn(G)){if(G.value)return b;if(C(z))return z}if(zn(z)){if(z.value)return b;if(C(G))return G}}return new g(D.op,D.fn,[G,z])}if(gr(D))return new g(D.op,D.fn,D.args.map(K=>S(K,N)));if(Fo(D))return new d(D.items.map(K=>S(K,N)));if(Pu(D))return new u(S(D.object,N),S(D.index,N));if(Kh(D))return new m(D.dimensions.map(K=>S(K,N)));if(gy(D)){var $={};for(var ae in D.properties)$[ae]=S(D.properties[ae],N);return new p($)}return D}return e(HB,{Node:S,"Node,Object":S})}),GB="evaluate",rfe=Y(GB,["typed","parse"],n=>{var{typed:e,parse:t}=n;return e(GB,{string:function(r){var a=Jh();return t(r).compile().evaluate(a)},"string, Map | Object":function(r,a){return t(r).compile().evaluate(a)},"Array | Matrix":function(r){var a=Jh();return dn(r,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(r,a){return dn(r,function(o){return t(o).compile().evaluate(a)})}})}),qB={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},WB={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Cve={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:qB,E:qB,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:WB,PI:WB,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConatant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","math.pow([[1, 2], [4, 3]], 2)","math.pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)=NaN","invmod(7, 13)=2","math.invmod(15151, 15122)=10429"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["math.matrixFromFunction(size, fn)","math.matrixFromFunction(size, fn, format)","math.matrixFromFunction(size, fn, format, datatype)","math.matrixFromFunction(size, format, fn)","math.matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["math.matrixFromRows(...arr)","math.matrixFromRows(row1, row2)","math.matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["math.matrixFromColumns(...arr)","math.matrixFromColumns(row1, row2)","math.matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Matrix",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","sylvester(A,B,C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Matrix",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Matrix",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","lyap(A,Q)"],seealso:["schur","sylvester"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(math.i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},Dve=Y("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:i}=n;return e("help",{any:function(a){var o,s=a;if("string"!=typeof a)for(o in t)if(xt(t,o)&&a===t[o]){s=o;break}var l=ko(Cve,s);if(!l)throw new Error('No documentation found on "'+("function"==typeof s?s.name:s)+'"');return new i(l)}})}),Nve=Y("Parser",["evaluate"],n=>{var{evaluate:e}=n;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Jh(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(i){return e(i,this.scope)},t.prototype.get=function(i){if(this.scope.has(i))return this.scope.get(i)},t.prototype.getAll=function(){return function Mde(n){if(n instanceof tE)return n.wrappedObject;var e={};for(var t of n.keys())Qh(e,t,n.get(t));return e}(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(i,r){return this.scope.set(i,r),r},t.prototype.remove=function(i){this.scope.delete(i)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});function jB(n){return zn(n)||gr(n)&&n.isUnary()&&zn(n.args[0])}function Vy(n){return!!(zn(n)||(gc(n)||gr(n))&&n.args.every(Vy)||Al(n)&&Vy(n.content))}var kve=Y("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:t,parse:i,equal:u,resolve:d,simplifyConstant:h,simplifyCore:f,AccessorNode:w,ArrayNode:v,ConstantNode:y,FunctionNode:b,IndexNode:x,ObjectNode:C,OperatorNode:M,ParenthesisNode:E,SymbolNode:S}=n,{hasProperty:T,isCommutative:N,isAssociative:k,mergeContext:R,flatten:B,unflattenr:D,unflattenl:A,createMakeNodeFunction:O,defaultContext:I,realContext:L,positiveContext:q}=hE({FunctionNode:b,OperatorNode:M,SymbolNode:S});t.addConversion({from:"Object",to:"Map",convert:ef});var G=t("simplify",{Node:ge,"Node, Map":(X,J)=>ge(X,!1,J),"Node, Map, Object":(X,J,he)=>ge(X,!1,J,he),"Node, Array":ge,"Node, Array, Map":ge,"Node, Array, Map, Object":ge});function z(X){return X.transform(function(J,he,De){return Al(J)?z(J.content):J})}t.removeConversion({from:"Object",to:"Map",convert:ef}),G.defaultContext=I,G.realContext=L,G.positiveContext=q;var $={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function ae(X,J){var he={};if(X.s){var De=X.s.split("->");if(2!==De.length)throw SyntaxError("Could not parse rule: "+X.s);he.l=De[0],he.r=De[1]}else he.l=X.l,he.r=X.r;for(var V of(he.l=z(i(he.l)),he.r=z(i(he.r)),["imposeContext","repeat","assuming"]))V in X&&(he[V]=X[V]);if(X.evaluate&&(he.evaluate=i(X.evaluate)),k(he.l,J)){var oe,U=!N(he.l,J);U&&(oe=ye());var Te=O(he.l),Fe=ye();he.expanded={},he.expanded.l=Te([he.l,Fe]),B(he.expanded.l,J),D(he.expanded.l,J),he.expanded.r=Te([he.r,Fe]),U&&(he.expandedNC1={},he.expandedNC1.l=Te([oe,he.l]),he.expandedNC1.r=Te([oe,he.r]),he.expandedNC2={},he.expandedNC2.l=Te([oe,he.expanded.l]),he.expandedNC2.r=Te([oe,he.expanded.r]))}return he}function K(X,J){for(var he=[],De=0;De<X.length;De++){var V=X[De],U=void 0,oe=typeof V;switch(oe){case"string":V={s:V};case"object":U=ae(V,J);break;case"function":U=V;break;default:throw TypeError("Unsupported type of rule: "+oe)}he.push(U)}return he}G.rules=[f,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},h,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},h,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var me=0;function ye(){return new S("_p"+me++)}function ge(X,J){var he=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jh(),De=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},V=De.consoleDebug;J=K(J||G.rules,De.context);for(var U=d(X,he),oe={},Te=(U=z(U)).toString({parenthesis:"all"});!oe[Te];){oe[Te]=!0,me=0;var Fe=Te;V&&console.log("Working on: ",Te);for(var He=0;He<J.length;He++){var dt="";if("function"==typeof J[He]?(U=J[He](U,De),V&&(dt=J[He].name)):(B(U,De.context),U=Ie(U,J[He],De.context),V&&(dt="".concat(J[He].l.toString()," -> ").concat(J[He].r.toString()))),V){var ne=U.toString({parenthesis:"all"});ne!==Fe&&(console.log("Applying",dt,"produced",ne),Fe=ne)}A(U,De.context)}Te=U.toString({parenthesis:"all"})}return U}function re(X,J,he){var De=X;if(X)for(var V=0;V<X.length;++V){var U=Ie(X[V],J,he);U!==X[V]&&(De===X&&(De=X.slice()),De[V]=U)}return De}function Ie(X,J,he){if(J.assuming)for(var De in J.assuming)for(var V in J.assuming[De])if(T(De,V,he)!==J.assuming[De][V])return X;var U=R(J.imposeContext,he),oe=X;if(oe instanceof M||oe instanceof b){var Te=re(oe.args,J,he);Te!==oe.args&&((oe=oe.clone()).args=Te)}else if(oe instanceof E){if(oe.content){var Fe=Ie(oe.content,J,he);Fe!==oe.content&&(oe=new E(Fe))}}else if(oe instanceof v){var He=re(oe.items,J,he);He!==oe.items&&(oe=new v(He))}else if(oe instanceof w){var dt=oe.object;oe.object&&(dt=Ie(oe.object,J,he));var ne=oe.index;oe.index&&(ne=Ie(oe.index,J,he)),(dt!==oe.object||ne!==oe.index)&&(oe=new w(dt,ne))}else if(oe instanceof x){var we=re(oe.dimensions,J,he);we!==oe.dimensions&&(oe=new x(we))}else if(oe instanceof C){var Je=!1,ct={};for(var ot in oe.properties)ct[ot]=Ie(oe.properties[ot],J,he),ct[ot]!==oe.properties[ot]&&(Je=!0);Je&&(oe=new C(ct))}var _t=J.r,Xe=Z(J.l,oe,U)[0];if(!Xe&&J.expanded&&(_t=J.expanded.r,Xe=Z(J.expanded.l,oe,U)[0]),!Xe&&J.expandedNC1&&(_t=J.expandedNC1.r,(Xe=Z(J.expandedNC1.l,oe,U)[0])||(_t=J.expandedNC2.r,Xe=Z(J.expandedNC2.l,oe,U)[0])),Xe){var Dt=oe.implicit;oe=_t.clone(),Dt&&"implicit"in _t&&(oe.implicit=!0),oe=oe.transform(function(Kt){return Kt.isSymbolNode&&xt(Xe.placeholders,Kt.name)?Xe.placeholders[Kt.name].clone():Kt})}return J.repeat&&oe!==X&&(oe=Ie(oe,J,he)),oe}function fe(X,J){var he={placeholders:{}};if(!X.placeholders&&!J.placeholders)return he;if(!X.placeholders)return J;if(!J.placeholders)return X;for(var De in X.placeholders)if(xt(X.placeholders,De)&&(he.placeholders[De]=X.placeholders[De],xt(J.placeholders,De)&&!pe(X.placeholders[De],J.placeholders[De])))return null;for(var V in J.placeholders)xt(J.placeholders,V)&&(he.placeholders[V]=J.placeholders[V]);return he}function Se(X,J){var he=[];if(0===X.length||0===J.length)return he;for(var De,V=0;V<X.length;V++)for(var U=0;U<J.length;U++)(De=fe(X[V],J[U]))&&he.push(De);return he}function Z(X,J,he,De){var V=[{placeholders:{}}];if(X instanceof M&&J instanceof M||X instanceof b&&J instanceof b){if(X instanceof M){if(X.op!==J.op||X.fn!==J.fn)return[]}else if(X instanceof b&&X.name!==J.name)return[];if(!(1===J.args.length&&1===X.args.length||!k(J,he)&&J.args.length===X.args.length||De)){if(J.args.length>=2&&2===X.args.length){for(var dt=function be(X,J){var De,V,he=[],U=O(X);if(N(X,J))for(var oe=0;oe<X.args.length;oe++)(V=X.args.slice(0)).splice(oe,1),De=1===V.length?V[0]:U(V),he.push(U([X.args[oe],De]));else for(var Te=1;Te<X.args.length;Te++){var Fe=X.args[0];Te>1&&(Fe=U(X.args.slice(0,Te))),De=1===(V=X.args.slice(Te)).length?V[0]:U(V),he.push(U([Fe,De]))}return he}(J,he),ne=[],we=0;we<dt.length;we++){var Je=Z(X,dt[we],he,!0);ne=ne.concat(Je)}return ne}if(X.args.length>2)throw Error("Unexpected non-binary associative function: "+X.toString());return[]}for(var U=[],oe=0;oe<X.args.length;oe++){var Te=Z(X.args[oe],J.args[oe],he);if(0===Te.length)break;U.push(Te)}if(U.length!==X.args.length){if(!N(J,he)||1===X.args.length)return[];if(X.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Fe=Z(X.args[0],J.args[1],he);if(0===Fe.length)return[];var He=Z(X.args[1],J.args[0],he);if(0===He.length)return[];U=[Fe,He]}V=function W(X){if(0===X.length)return X;for(var J=X.reduce(Se),he=[],De={},V=0;V<J.length;V++){var U=JSON.stringify(J[V]);De[U]||(De[U]=!0,he.push(J[V]))}return he}(U)}else if(X instanceof S){if(0===X.name.length)throw new Error("Symbol in rule has 0 length...!?");if($[X.name]){if(X.name!==J.name)return[]}else switch(X.name[1]>="a"&&X.name[1]<="z"?X.name.substring(0,2):X.name[0]){case"n":case"_p":V[0].placeholders[X.name]=J;break;case"c":case"cl":if(!zn(J))return[];V[0].placeholders[X.name]=J;break;case"v":if(zn(J))return[];V[0].placeholders[X.name]=J;break;case"vl":if(!Rr(J))return[];V[0].placeholders[X.name]=J;break;case"cd":if(!jB(J))return[];V[0].placeholders[X.name]=J;break;case"vd":if(jB(J))return[];V[0].placeholders[X.name]=J;break;case"ce":if(!Vy(J))return[];V[0].placeholders[X.name]=J;break;case"ve":if(Vy(J))return[];V[0].placeholders[X.name]=J;break;default:throw new Error("Invalid symbol in rule: "+X.name)}}else{if(!(X instanceof y))return[];if(!u(X.value,J.value))return[]}return V}function pe(X,J){if(X instanceof y&&J instanceof y){if(!u(X.value,J.value))return!1}else if(X instanceof S&&J instanceof S){if(X.name!==J.name)return!1}else{if(!(X instanceof M&&J instanceof M||X instanceof b&&J instanceof b))return!1;if(X instanceof M){if(X.op!==J.op||X.fn!==J.fn)return!1}else if(X instanceof b&&X.name!==J.name)return!1;if(X.args.length!==J.args.length)return!1;for(var he=0;he<X.args.length;he++)if(!pe(X.args[he],J.args[he]))return!1}return!0}return G}),XB="symbolicEqual",Ove=Y(XB,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:i,OperatorNode:r}=n;function a(o,s){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new r("-","subtract",[o,s]),u=t(c,{},l);return zn(u)&&!u.value}return i(XB,{"Node, Node":a,"Node, Node, Object":a})}),YB="derivative",Lve=Y(YB,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:i,simplify:r,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:d,SymbolNode:h}=n;function f(y,b){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},C={};g(C,y,b.name);var M=_(y,C);return x.simplify?r(M):M}e.addConversion({from:"identifier",to:"SymbolNode",convert:i});var m=e(YB,{"Node, SymbolNode":f,"Node, SymbolNode, Object":f});e.removeConversion({from:"identifier",to:"SymbolNode",convert:i}),m._simplify=!0,m.toTex=function(y){return p.apply(null,y.args)};var p=e("_derivTex",{"Node, SymbolNode":function(b,x){return zn(b)&&"string"===Ti(b.value)?p(i(b.value).toString(),x.toString(),1):p(b.toTex(),x.toString(),1)},"Node, ConstantNode":function(b,x){if("string"===Ti(x.value))return p(b,i(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(b,x,C){return p(b.toString(),x.name,C.value)},"string, string, number":function(b,x,C){return(1===C?"{d\\over d"+x+"}":"{d^{"+C+"}\\over d"+x+"^{"+C+"}}")+"\\left[".concat(b,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(b,x){return b[x]=!0,!0},"Object, SymbolNode, string":function(b,x,C){return x.name!==C&&(b[x]=!0,!0)},"Object, ParenthesisNode, string":function(b,x,C){return g(b,x.content,C)},"Object, FunctionAssignmentNode, string":function(b,x,C){return-1===x.params.indexOf(C)?(b[x]=!0,!0):g(b,x.expr,C)},"Object, FunctionNode | OperatorNode, string":function(b,x,C){if(x.args.length>0){for(var M=g(b,x.args[0],C),E=1;E<x.args.length;++E)M=g(b,x.args[E],C)&&M;if(M)return b[x]=!0,!0}return!1}}),_=e("_derivative",{"ConstantNode, Object":function(b){return v(0)},"SymbolNode, Object":function(b,x){return v(void 0!==x[b]?0:1)},"ParenthesisNode, Object":function(b,x){return new d(_(b.content,x))},"FunctionAssignmentNode, Object":function(b,x){return void 0!==x[b]?v(0):_(b.expr,x)},"FunctionNode, Object":function(b,x){if(1!==b.args.length&&function w(y){if("log"!==y.name&&"nthRoot"!==y.name&&"pow"!==y.name||2!==y.args.length){for(var b=0;b<y.args.length;++b)y.args[b]=v(0);throw y.compile().evaluate(),new Error("Expected TypeError, but none found")}}(b),void 0!==x[b])return v(0);var M,T,N,k,C=b.args[0],E=!1,S=!1;switch(b.name){case"cbrt":E=!0,T=new u("*","multiply",[v(3),new u("^","pow",[C,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===b.args.length)E=!0,T=new u("*","multiply",[v(2),new c("sqrt",[C])]);else if(2===b.args.length)return x[M=new u("/","divide",[v(1),b.args[1]])]=x[b.args[1]],_(new u("^","pow",[C,M]),x);break;case"log10":M=v(10);case"log":if(M||1!==b.args.length){if(1===b.args.length&&M||2===b.args.length&&void 0!==x[b.args[1]])T=new u("*","multiply",[C.clone(),new c("log",[M||b.args[1]])]),E=!0;else if(2===b.args.length)return _(new u("/","divide",[new c("log",[C]),new c("log",[b.args[1]])]),x)}else T=C.clone(),E=!0;break;case"pow":return x[M]=x[b.args[1]],_(new u("^","pow",[C,b.args[1]]),x);case"exp":T=new c("exp",[C.clone()]);break;case"sin":T=new c("cos",[C.clone()]);break;case"cos":T=new u("-","unaryMinus",[new c("sin",[C.clone()])]);break;case"tan":T=new u("^","pow",[new c("sec",[C.clone()]),v(2)]);break;case"sec":T=new u("*","multiply",[b,new c("tan",[C.clone()])]);break;case"csc":S=!0,T=new u("*","multiply",[b,new c("cot",[C.clone()])]);break;case"cot":S=!0,T=new u("^","pow",[new c("csc",[C.clone()]),v(2)]);break;case"asin":E=!0,T=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])]);break;case"acos":E=!0,S=!0,T=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])]);break;case"atan":E=!0,T=new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)]);break;case"asec":E=!0,T=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acsc":E=!0,S=!0,T=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acot":E=!0,S=!0,T=new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)]);break;case"sinh":T=new c("cosh",[C.clone()]);break;case"cosh":T=new c("sinh",[C.clone()]);break;case"tanh":T=new u("^","pow",[new c("sech",[C.clone()]),v(2)]);break;case"sech":S=!0,T=new u("*","multiply",[b,new c("tanh",[C.clone()])]);break;case"csch":S=!0,T=new u("*","multiply",[b,new c("coth",[C.clone()])]);break;case"coth":S=!0,T=new u("^","pow",[new c("csch",[C.clone()]),v(2)]);break;case"asinh":E=!0,T=new c("sqrt",[new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)])]);break;case"acosh":E=!0,T=new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])]);break;case"atanh":E=!0,T=new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])]);break;case"asech":E=!0,S=!0,T=new u("*","multiply",[C.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])])]);break;case"acsch":E=!0,S=!0,T=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acoth":E=!0,S=!0,T=new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])]);break;case"abs":T=new u("/","divide",[new c(new h("abs"),[C.clone()]),C.clone()]);break;default:throw new Error('Function "'+b.name+'" is not supported by derivative, or a wrong number of arguments is passed')}E?(N="/",k="divide"):(N="*",k="multiply");var R=_(C,x);return S&&(R=new u("-","unaryMinus",[R])),new u(N,k,[R,T])},"OperatorNode, Object":function(b,x){if(void 0!==x[b])return v(0);if("+"===b.op)return new u(b.op,b.fn,b.args.map(function(D){return _(D,x)}));if("-"===b.op){if(b.isUnary())return new u(b.op,b.fn,[_(b.args[0],x)]);if(b.isBinary())return new u(b.op,b.fn,[_(b.args[0],x),_(b.args[1],x)])}if("*"===b.op){var C=b.args.filter(function(D){return void 0!==x[D]});if(C.length>0){var M=b.args.filter(function(D){return void 0===x[D]}),E=1===M.length?M[0]:new u("*","multiply",M),S=C.concat(_(E,x));return new u("*","multiply",S)}return new u("+","add",b.args.map(function(D){return new u("*","multiply",b.args.map(function(A){return A===D?_(A,x):A.clone()}))}))}if("/"===b.op&&b.isBinary()){var T=b.args[0],N=b.args[1];return void 0!==x[N]?new u("/","divide",[_(T,x),N]):void 0!==x[T]?new u("*","multiply",[new u("-","unaryMinus",[T]),new u("/","divide",[_(N,x),new u("^","pow",[N.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[_(T,x),N.clone()]),new u("*","multiply",[T.clone(),_(N,x)])]),new u("^","pow",[N.clone(),v(2)])])}if("^"===b.op&&b.isBinary()){var k=b.args[0],R=b.args[1];if(void 0!==x[k])return zn(k)&&(o(k.value)||a(k.value,1))?v(0):new u("*","multiply",[b,new u("*","multiply",[new c("log",[k.clone()]),_(R.clone(),x)])]);if(void 0!==x[R]){if(zn(R)){if(o(R.value))return v(0);if(a(R.value,1))return _(k,x)}var B=new u("^","pow",[k.clone(),new u("-","subtract",[R,v(1)])]);return new u("*","multiply",[R.clone(),new u("*","multiply",[_(k,x),B])])}return new u("*","multiply",[new u("^","pow",[k.clone(),R.clone()]),new u("+","add",[new u("*","multiply",[_(k,x),new u("/","divide",[R.clone(),k.clone()])]),new u("*","multiply",[_(R,x),new c("log",[k.clone()])])])])}throw new Error('Operator "'+b.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(y,b){return new l(s(y,b||t.number))}return m}),zve=Y("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),KB="rationalize",Vve=Y(KB,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:d,simplifyCore:h,simplify:f,ConstantNode:y,OperatorNode:M,SymbolNode:E}=n;function T(D){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=arguments.length>2&&void 0!==arguments[2]&&arguments[2],I=k(),L=N(D,A,!0,I.firstRules),q=L.variables.length,G={exactFractions:!1},z={exactFractions:!0};if(D=L.expression,q>=1){D=R(D);var $,ae,ye,K=!0,me=!1;for(D=f(D,I.firstRules,{},G);ae=K?I.distrDivRules:I.sucDivRules,K=!K,(ye=(D=f(D,ae,{},z)).toString())!==$;)me=!0,$=ye;me&&(D=f(D,I.firstRulesAgain,{},G)),D=f(D,I.finalRules,{},G)}var ge=[],re={};return"OperatorNode"===D.type&&D.isBinary()&&"/"===D.op?(1===q&&(D.args[0]=B(D.args[0],ge),D.args[1]=B(D.args[1])),O&&(re.numerator=D.args[0],re.denominator=D.args[1])):(1===q&&(D=B(D,ge)),O&&(re.numerator=D,re.denominator=null)),O?(re.coefficients=ge,re.variables=L.variables,re.expression=D,re):D}return t(KB,{Node:T,"Node, boolean":(D,A)=>T(D,{},A),"Node, Object":T,"Node, Object, boolean":T});function N(D,A,O,I){var L=[],q=f(D,I,A,{exactFractions:!1}),G="+-*"+((O=!!O)?"/":"");!function $(ae){var K=ae.type;if("FunctionNode"===K)throw new Error("There is an unsolved function call");if("OperatorNode"===K)if("^"===ae.op){if("ConstantNode"!==ae.args[1].type||!Et(parseFloat(ae.args[1].value)))throw new Error("There is a non-integer exponent");$(ae.args[0])}else{if(-1===G.indexOf(ae.op))throw new Error("Operator "+ae.op+" invalid in polynomial expression");for(var me=0;me<ae.args.length;me++)$(ae.args[me])}else if("SymbolNode"===K){var ye=ae.name;-1===L.indexOf(ye)&&L.push(ye)}else if("ParenthesisNode"===K)$(ae.content);else if("ConstantNode"!==K)throw new Error("type "+K+" is not allowed in polynomial expression")}(q);var z={};return z.expression=q,z.variables=L,z}function k(){var D=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],A=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],I=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],L={};return L.firstRules=D.concat(A,I),L.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],L.sucDivRules=I,L.firstRulesAgain=D.concat(A),L.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],L}function R(D,A,O){var I=D.type,L=arguments.length>1;if("OperatorNode"===I&&D.isBinary()){var G,q=!1;if("^"===D.op&&("ParenthesisNode"===D.args[0].type||"OperatorNode"===D.args[0].type)&&"ConstantNode"===D.args[1].type&&(q=(G=parseFloat(D.args[1].value))>=2&&Et(G)),q){if(G>2){var z=D.args[0],$=new M("^","pow",[D.args[0].cloneDeep(),new y(G-1)]);D=new M("*","multiply",[z,$])}else D=new M("*","multiply",[D.args[0],D.args[0].cloneDeep()]);L&&("content"===O?A.content=D:A.args[O]=D)}}if("ParenthesisNode"===I)R(D.content,D,"content");else if("ConstantNode"!==I&&"SymbolNode"!==I)for(var ae=0;ae<D.args.length;ae++)R(D.args[ae],D,ae);if(!L)return D}function B(D,A){void 0===A&&(A=[]),A[0]=0;var I=0,L="";!function ye(ge,re,Ie){var be=ge.type;if("FunctionNode"===be)throw new Error("There is an unsolved function call");if("OperatorNode"===be){if(-1==="+-*^".indexOf(ge.op))throw new Error("Operator "+ge.op+" invalid");if(null!==re){if(("unaryMinus"===ge.fn||"pow"===ge.fn)&&"add"!==re.fn&&"subtract"!==re.fn&&"multiply"!==re.fn)throw new Error("Invalid "+ge.op+" placing");if(("subtract"===ge.fn||"add"===ge.fn||"multiply"===ge.fn)&&"add"!==re.fn&&"subtract"!==re.fn)throw new Error("Invalid "+ge.op+" placing");if(("subtract"===ge.fn||"add"===ge.fn||"unaryMinus"===ge.fn)&&0!==Ie.noFil)throw new Error("Invalid "+ge.op+" placing")}("^"===ge.op||"*"===ge.op)&&(Ie.fire=ge.op);for(var fe=0;fe<ge.args.length;fe++)"unaryMinus"===ge.fn&&(Ie.oper="-"),("+"===ge.op||"subtract"===ge.fn)&&(Ie.fire="",Ie.cte=1,Ie.oper=0===fe?"+":ge.op),Ie.noFil=fe,ye(ge.args[fe],ge,Ie)}else if("SymbolNode"===be){if(ge.name!==L&&""!==L)throw new Error("There is more than one variable");if(L=ge.name,null===re)return void(A[1]=1);if("^"===re.op&&0!==Ie.noFil)throw new Error("In power the variable should be the first parameter");if("*"===re.op&&1!==Ie.noFil)throw new Error("In multiply the variable should be the second parameter");(""===Ie.fire||"*"===Ie.fire)&&(I<1&&(A[1]=0),A[1]+=Ie.cte*("+"===Ie.oper?1:-1),I=Math.max(1,I))}else{if("ConstantNode"!==be)throw new Error("Type "+be+" is not allowed");var Se=parseFloat(ge.value);if(null===re)return void(A[0]=Se);if("^"===re.op){if(1!==Ie.noFil)throw new Error("Constant cannot be powered");if(!Et(Se)||Se<=0)throw new Error("Non-integer exponent is not allowed");for(var W=I+1;W<Se;W++)A[W]=0;return Se>I&&(A[Se]=0),A[Se]+=Ie.cte*("+"===Ie.oper?1:-1),void(I=Math.max(Se,I))}Ie.cte=Se,""===Ie.fire&&(A[0]+=Ie.cte*("+"===Ie.oper?1:-1))}}(D,null,{cte:1,oper:"+",fire:""});for(var G,q=!0,z=I=A.length-1;z>=0;z--)if(0!==A[z]){var $=new y(q?A[z]:Math.abs(A[z])),ae=A[z]<0?"-":"+";if(z>0){var K=new E(L);if(z>1){var me=new y(z);K=new M("^","pow",[K,me])}$=-1===A[z]&&q?new M("-","unaryMinus",[K]):1===Math.abs(A[z])?K:new M("*","multiply",[$,K])}G=q?$:"+"===ae?new M("+","add",[G,$]):new M("-","subtract",[G,$]),q=!1}return q?new y(0):G}});function Hve(n){var e=0,t=1,i=Object.create(null),r=Object.create(null),a=0,o=function(l){var c=r[l];if(c&&(delete i[c],delete r[l],--e,t===c)){if(!e)return a=0,void(t=1);for(;!hasOwnProperty.call(i,++t););}};return n=Math.abs(n),{hit:function(l){var c=r[l],u=++a;if(i[u]=l,r[l]=u,!c)return++e<=n?void 0:(o(l=i[t]),l);if(delete i[c],t===c)for(;!hasOwnProperty.call(i,++t););},delete:o,clear:function(){e=a=0,t=1,i=Object.create(null),r=Object.create(null)}}}function Kp(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function i(){"object"!=typeof i.cache&&(i.cache={values:new Map,lru:Hve(t||Number.POSITIVE_INFINITY)});for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=e(r);if(i.cache.values.has(o))return i.cache.lru.hit(o),i.cache.values.get(o);var s=n.apply(n,r);return i.cache.values.set(o,s),i.cache.values.delete(i.cache.lru.hit(o)),s}}function _c(n){return Object.keys(n.signatures||{}).reduce(function(e,t){var i=(t.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}function mE(n,e,t){var i=n.filter(function(s){return Rr(s)&&!(s.name in e)&&!t.has(s.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+n+'"');var r=i.name,a=Zp(t),o=n.compile();return function(l){return a.set(r,l),o.evaluate(a)}}var Wve=Y("filter",["typed"],n=>{var{typed:e}=n;function t(r,a,o){var s,l;return r[0]&&(s=r[0].compile().evaluate(o)),r[1]&&(l=Rr(r[1])||Wp(r[1])?r[1].compile().evaluate(o):mE(r[1],a,o)),i(s,l)}t.rawArgs=!0;var i=e("filter",{"Array, function":QB,"Matrix, function":function(a,o){return a.create(QB(a.toArray(),o))},"Array, RegExp":My,"Matrix, RegExp":function(a,o){return a.create(My(a.toArray(),o))}});return t},{isTransformFunction:!0});function QB(n,e){var t=_c(e);return DB(n,function(i,r,a){return 1===t?e(i):2===t?e(i,[r+1]):e(i,[r+1],a)})}var Xve=Y("forEach",["typed"],n=>{var{typed:e}=n;function t(r,a,o){var s,l;return r[0]&&(s=r[0].compile().evaluate(o)),r[1]&&(l=Rr(r[1])||Wp(r[1])?r[1].compile().evaluate(o):mE(r[1],a,o)),i(s,l)}t.rawArgs=!0;var i=e("forEach",{"Array | Matrix, function":function(a,o){var s=_c(o);!function c(u,d){Array.isArray(u)?wy(u,function(h,f){c(h,d.concat(f+1))}):1===s?o(u):2===s?o(u,d):o(u,d,a)}(a.valueOf(),[])}});return t},{isTransformFunction:!0}),Kve=Y("map",["typed"],n=>{var{typed:e}=n;function t(r,a,o){var s,l;return r[0]&&(s=r[0].compile().evaluate(o)),r[1]&&(l=Rr(r[1])||Wp(r[1])?r[1].compile().evaluate(o):mE(r[1],a,o)),i(s,l)}t.rawArgs=!0;var i=e("map",{"Array, function":function(a,o){return JB(a,o,a)},"Matrix, function":function(a,o){return a.create(JB(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function JB(n,e,t){var i=_c(e);return function r(a,o){return Array.isArray(a)?Tl(a,function(s,l){return r(s,o.concat(l+1))}):1===i?e(a):2===i?e(a,o):e(a,o,t)}(n,[])}var t4=Y("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(r,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(r)?_n(r):r.size();if(a<0||a>=s.length)throw new rs(a,s.length);return Ht(r)?r.create(Hy(r.valueOf(),a,o)):Hy(r,a,o)}})});function Hy(n,e,t){var i,r,a;if(e<=0){if(Array.isArray(n[0])){for(a=function Jve(n){var i,r,e=n.length,t=n[0].length,a=[];for(r=0;r<t;r++){var o=[];for(i=0;i<e;i++)o.push(n[i][r]);a.push(o)}return a}(n),r=[],i=0;i<a.length;i++)r[i]=Hy(a[i],e-1,t);return r}return t(n)}for(r=[],i=0;i<n.length;i++)r[i]=Hy(n[i],e-1,t);return r}var n0e=Y("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,i=t4({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];Rn(o)?a[1]=o-1:Mn(o)&&(a[1]=o.minus(1));try{return i.apply(null,a)}catch(s){throw Da(s)}}})},{isTransformFunction:!0}),i4=Y("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:i,number:r}=n;return e("diff",{"Array | Matrix":function(u){return Ht(u)?t(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,d){if(!Et(d))throw new RangeError("Dimension must be a whole number");return Ht(u)?t(a(u.toArray(),d)):a(u,d)},"Array, BigNumber":e.referTo("Array,number",c=>(u,d)=>c(u,r(d))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(u,d)=>c(u,r(d)))});function a(c,u){if(Ht(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var d=[];return c.forEach(h=>{d.push(a(h,u-1))}),d}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],d=c.length,h=1;h<d;h++)u.push(s(c[h-1],c[h]));return u}function s(c,u){Ht(c)&&(c=c.toArray()),Ht(u)&&(u=u.toArray());var d=Array.isArray(c),h=Array.isArray(u);if(d&&h)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],h=c.length,f=0;f<h;f++)d.push(s(c[f],u[f]));return d}(c,u);if(!d&&!h)return i(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}});function Bu(n){if(2===n.length&&Dl(n[0])){var e=(n=n.slice())[1];Rn(e)?n[1]=e-1:Mn(e)&&(n[1]=e.minus(1))}return n}var a0e=Y("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:i,number:r,bignumber:a}=n,o=i4({typed:e,matrix:t,subtract:i,number:r,bignumber:a});return e("diff",{"...any":function(l){l=Bu(l);try{return o.apply(null,l)}catch(c){throw Da(c)}}})},{isTransformFunction:!0}),o4=Y("subset",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("subset",{"Array, Index":function(r,a){var s=t(r).subset(a);return a.isScalar()?s:s.valueOf()},"Matrix, Index":function(r,a){return r.subset(a)},"Object, Index":l0e,"string, Index":s0e,"Array, Index, any":function(r,a,o){return t(Lt(r)).subset(a,o,void 0).valueOf()},"Array, Index, any, any":function(r,a,o,s){return t(Lt(r)).subset(a,o,s).valueOf()},"Matrix, Index, any":function(r,a,o){return r.clone().subset(a,o)},"Matrix, Index, any, any":function(r,a,o,s){return r.clone().subset(a,o,s)},"string, Index, string":s4,"string, Index, string, string":s4,"Object, Index, any":c0e})});function s0e(n,e){if(!py(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new un(e.size().length,1);var t=n.length;gi(e.min()[0],t),gi(e.max()[0],t);var i=e.dimension(0),r="";return i.forEach(function(a){r+=n.charAt(a)}),r}function s4(n,e,t,i){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new un(e.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var r=e.dimension(0);if(r.size()[0]!==t.length)throw new un(r.size()[0],t.length);var o=n.length;gi(e.min()[0]),gi(e.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=n.charAt(l);if(r.forEach(function(d,h){s[d]=t.charAt(h[0])}),s.length>o)for(var c=o-1,u=s.length;c<u;c++)s[c]||(s[c]=i);return s.join("")}function l0e(n,e){if(1!==e.size().length)throw new un(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return ko(n,t)}function c0e(n,e,t){if(1!==e.size().length)throw new un(e.size(),1);var i=e.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var r=Lt(n);return Qh(r,i,t),r}var h0e=Y("subset",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,i=o4({typed:e,matrix:t});return e("subset",{"...any":function(a){try{return i.apply(null,a)}catch(o){throw Da(o)}}})},{isTransformFunction:!0}),c4=Y("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:i}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(a){var o,c,s=a.length,l=-1,u=!1,d=[];for(o=0;o<s;o++){var h=a[o];if(Ht(h)&&(u=!0),Rn(h)||Mn(h)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=h.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new rs(l,c+1)}else{var f=Lt(h).valueOf(),m=_n(f);if(d[o]=f,c=l,l=m.length-1,o>0&&l!==c)throw new un(c+1,l+1)}}if(0===d.length)throw new SyntaxError("At least one matrix expected");for(var p=d.shift();d.length;)p=u4(p,d.shift(),l,0);return u?t(p):p},"...string":function(a){return a.join("")}})});function u4(n,e,t,i){if(i<t){if(n.length!==e.length)throw new un(n.length,e.length);for(var r=[],a=0;a<n.length;a++)r[a]=u4(n[a],e[a],t,i+1);return r}return n.concat(e)}var g0e=Y("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:i}=n,r=c4({typed:e,matrix:t,isInteger:i});return e("concat",{"...any":function(o){var s=o.length-1,l=o[s];Rn(l)?o[s]=l-1:Mn(l)&&(o[s]=l.minus(1));try{return r.apply(null,o)}catch(c){throw Da(c)}}})},{isTransformFunction:!0});function Aa(n,e,t){var i;return-1!==String(n).indexOf("Unexpected type")?(i=arguments.length>2?" (type: "+Ti(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+i)):-1!==String(n).indexOf("complex numbers")?(i=arguments.length>2?" (type: "+Ti(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+i)):n}var k4,Il,h4=Y("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:i,larger:r}=n;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return zy(l,c.valueOf(),a)},"...":function(l){if(af(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function a(s,l){try{return r(s,l)?s:l}catch(c){throw Aa(c,"max",l)}}function o(s){var l;if(Nl(s,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||r(c,l))&&(l=c)}catch(u){throw Aa(u,"max",c)}}),void 0===l)throw new Error("Cannot calculate max of an empty array");return"string"==typeof l&&(l=i(l,t.number)),l}}),b0e=Y("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:i,larger:r}=n,a=h4({typed:e,config:t,numeric:i,larger:r});return e("max",{"...any":function(s){s=Bu(s);try{return a.apply(null,s)}catch(l){throw Da(l)}}})},{isTransformFunction:!0}),m4=Y("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:i,smaller:r}=n;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return zy(l,c.valueOf(),a)},"...":function(l){if(af(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function a(s,l){try{return r(s,l)?s:l}catch(c){throw Aa(c,"min",l)}}function o(s){var l;if(Nl(s,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||r(c,l))&&(l=c)}catch(u){throw Aa(u,"min",c)}}),void 0===l)throw new Error("Cannot calculate min of an empty array");return"string"==typeof l&&(l=i(l,t.number)),l}}),S0e=Y("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:i,smaller:r}=n,a=m4({typed:e,config:t,numeric:i,smaller:r});return e("min",{"...any":function(s){s=Bu(s);try{return a.apply(null,s)}catch(l){throw Da(l)}}})},{isTransformFunction:!0}),g4=Y("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],n=>{var{typed:e,config:t,matrix:i,bignumber:r,smaller:a,smallerEq:o,larger:s,largerEq:l}=n;return e("range",{string:u,"string, boolean":u,"number, number":function(_,w){return c(d(_,w,1))},"number, number, number":function(_,w,v){return c(d(_,w,v))},"number, number, boolean":function(_,w,v){return c(v?h(_,w,1):d(_,w,1))},"number, number, number, boolean":function(_,w,v,y){return c(y?h(_,w,v):d(_,w,v))},"BigNumber, BigNumber":function(_,w){return c(f(_,w,new(0,_.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(_,w,v){return c(f(_,w,v))},"BigNumber, BigNumber, boolean":function(_,w,v){var y=_.constructor;return c(v?m(_,w,new y(1)):f(_,w,new y(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(_,w,v,y){return c(y?m(_,w,v):f(_,w,v))}});function c(g){return"Matrix"===t.matrix?i?i(g):zB():g}function u(g,_){var w=function p(g){var w=g.split(":").map(function(y){return Number(y)});if(w.some(function(y){return isNaN(y)}))return null;switch(w.length){case 2:return{start:w[0],end:w[1],step:1};case 3:return{start:w[0],end:w[2],step:w[1]};default:return null}}(g);if(!w)throw new SyntaxError('String "'+g+'" is no valid range');return"BigNumber"===t.number?(void 0===r&&fE(),c((_?m:f)(r(w.start),r(w.end),r(w.step)))):c((_?h:d)(w.start,w.end,w.step))}function d(g,_,w){var v=[],y=g;if(w>0)for(;a(y,_);)v.push(y),y+=w;else if(w<0)for(;s(y,_);)v.push(y),y+=w;return v}function h(g,_,w){var v=[],y=g;if(w>0)for(;o(y,_);)v.push(y),y+=w;else if(w<0)for(;l(y,_);)v.push(y),y+=w;return v}function f(g,_,w){var v=r(0),y=[],b=g;if(w.gt(v))for(;a(b,_);)y.push(b),b=b.plus(w);else if(w.lt(v))for(;s(b,_);)y.push(b),b=b.plus(w);return y}function m(g,_,w){var v=r(0),y=[],b=g;if(w.gt(v))for(;o(b,_);)y.push(b),b=b.plus(w);else if(w.lt(v))for(;l(b,_);)y.push(b),b=b.plus(w);return y}}),A0e=Y("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],n=>{var{typed:e,config:t,matrix:i,bignumber:r,smaller:a,smallerEq:o,larger:s,largerEq:l}=n,c=g4({typed:e,config:t,matrix:i,bignumber:r,smaller:a,smallerEq:o,larger:s,largerEq:l});return e("range",{"...any":function(d){return"boolean"!=typeof d[d.length-1]&&d.push(!0),c.apply(null,d)}})},{isTransformFunction:!0}),_4=Y("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:i,numeric:r}=n;return e("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function o(s,l){try{return zy(s,l,i)}catch(u){throw Aa(u,"sum")}},"...":function(l){if(af(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return Nl(s,function(c){try{l=void 0===l?c:i(l,c)}catch(u){throw Aa(u,"sum",c)}}),void 0===l&&(l=r(0,t.number)),"string"==typeof l&&(l=r(l,t.number)),l}}),I0e=Y("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:i,numeric:r}=n,a=_4({typed:e,config:t,add:i,numeric:r});return e("sum",{"...any":function(s){s=Bu(s);try{return a.apply(null,s)}catch(l){throw Da(l)}}})},{isTransformFunction:!0}),Gy="cumsum",b4=Y(Gy,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:i}=n;return e(Gy,{Array:r,Matrix:function(c){return c.create(r(c.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u))},"...":function(c){if(af(c))throw new TypeError("All values expected to be scalar in function cumsum");return r(c)}});function r(l){try{return a(l)}catch(c){throw Aa(c,Gy)}}function a(l){if(0===l.length)return[];for(var c=[i(l[0])],u=1;u<l.length;++u)c.push(t(c[u-1],l[u]));return c}function o(l,c){var u=_n(l);if(c<0||c>=u.length)throw new rs(c,u.length);try{return s(l,c)}catch(d){throw Aa(d,Gy)}}function s(l,c){var u,d,h;if(c<=0){if(Array.isArray(l[0][0])){for(h=RB(l),d=[],u=0;u<h.length;u++)d[u]=s(h[u],c-1);return d}return a(l)}for(d=[],u=0;u<l.length;u++)d[u]=s(l[u],c-1);return d}}),R0e=Y("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:i}=n,r=b4({typed:e,add:t,unaryPlus:i});return e("cumsum",{"...any":function(o){if(2===o.length&&Dl(o[0])){var s=o[1];Rn(s)?o[1]=s-1:Mn(s)&&(o[1]=s.minus(1))}try{return r.apply(null,o)}catch(l){throw Da(l)}}})},{isTransformFunction:!0}),M4=Y("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n;return e("row",{"Matrix, number":a,"Array, number":function(s,l){return a(i(Lt(s)),l).valueOf()}});function a(o,s){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");gi(s,o.size()[0]);var l=r(0,o.size()[1]),c=new t(s,l);return o.subset(c)}}),B0e=Y("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n,a=M4({typed:e,Index:t,matrix:i,range:r});return e("row",{"...any":function(s){var l=s.length-1,c=s[l];Rn(c)&&(s[l]=c-1);try{return a.apply(null,s)}catch(u){throw Da(u)}}})},{isTransformFunction:!0}),C4=Y("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n;return e("column",{"Matrix, number":a,"Array, number":function(s,l){return a(i(Lt(s)),l).valueOf()}});function a(o,s){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");gi(s,o.size()[1]);var l=r(0,o.size()[0]),c=new t(l,s);return o.subset(c)}}),H0e=Y("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n,a=C4({typed:e,Index:t,matrix:i,range:r});return e("column",{"...any":function(s){var l=s.length-1,c=s[l];Rn(c)&&(s[l]=c-1);try{return a.apply(null,s)}catch(u){throw Da(u)}}})},{isTransformFunction:!0}),W0e=Y("index",["Index"],n=>{var{Index:e}=n;return function(){for(var i=[],r=0,a=arguments.length;r<a;r++){var o=arguments[r];if(YC(o))o.start--,o.end-=o.step>0?0:2;else if(o&&!0===o.isSet)o=o.map(function(l){return l-1});else if(ui(o)||Ht(o))o=o.map(function(l){return l-1});else if(Rn(o))o--;else if(Mn(o))o=o.toNumber()-1;else if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[r]=o}var s=new e;return e.apply(s,i),s}},{isTransformFunction:!0}),D4=Y("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:i}=n;return e("mean",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function r(o,s){try{var l=zy(o,s,t),c=Array.isArray(o)?_n(o):o.size();return i(l,c[s])}catch(u){throw Aa(u,"mean")}},"...":function(s){if(af(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function a(o){var s,l=0;if(Nl(o,function(c){try{s=void 0===s?c:t(s,c),l++}catch(u){throw Aa(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return i(s,l)}}),Y0e=Y("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:i}=n,r=D4({typed:e,add:t,divide:i});return e("mean",{"...any":function(o){o=Bu(o);try{return r.apply(null,o)}catch(s){throw Da(s)}}})},{isTransformFunction:!0}),pE="unbiased",A4="variance",T4=Y(A4,["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:i,multiply:r,divide:a,apply:o,isNaN:s}=n;return e(A4,{"Array | Matrix":function(d){return l(d,pE)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,h){return c(d,h,pE)},"Array | Matrix, number | BigNumber, string":c,"...":function(d){return l(d,pE)}});function l(u,d){var h,f=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Nl(u,function(g){try{h=void 0===h?g:t(h,g),f++}catch(_){throw Aa(_,"variance",g)}}),0===f)throw new Error("Cannot calculate variance of an empty array");var m=a(h,f);if(h=void 0,Nl(u,function(g){var _=i(g,m);h=void 0===h?r(_,_):t(h,r(_,_))}),s(h))return h;switch(d){case"uncorrected":return a(h,f);case"biased":return a(h,f+1);case"unbiased":var p=Mn(h)?h.mul(0):0;return 1===f?p:a(h,f-1);default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,d,h){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,d,f=>l(f,h))}catch(f){throw Aa(f,"variance")}}}),N4="variance",Q0e=Y(N4,["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:i,multiply:r,divide:a,apply:o,isNaN:s}=n,l=T4({typed:e,add:t,subtract:i,multiply:r,divide:a,apply:o,isNaN:s});return e(N4,{"...any":function(u){u=Bu(u);try{return l.apply(null,u)}catch(d){throw Da(d)}}})},{isTransformFunction:!0}),F4=Y("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:i,variance:r}=n;return e("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=r.apply(null,arguments);return Dl(l)?t(l,i):i(l)}catch(c){throw c instanceof TypeError&&-1!==c.message.indexOf(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),n_e=Y("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:i,variance:r}=n,a=F4({typed:e,map:t,sqrt:i,variance:r});return e("std",{"...any":function(s){s=Bu(s);try{return a.apply(null,s)}catch(l){throw Da(l)}}})},{isTransformFunction:!0}),sf=9e15,yc=1e9,gE="0123456789abcdef",qy="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Wy="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",vE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-sf,maxE:sf,crypto:!1},Yt=!0,$y="[DecimalError] ",bc=$y+"Invalid argument: ",R4=$y+"Precision limit exceeded",O4=$y+"crypto unavailable",P4="[object Decimal]",ca=Math.floor,Tr=Math.pow,i_e=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,r_e=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,a_e=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,L4=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,os=1e7,s_e=qy.length-1,_E=Wy.length-1,$e={toStringTag:P4};function Yr(n){var e,t,i,r=n.length-1,a="",o=n[0];if(r>0){for(a+=o,e=1;e<r;e++)(t=7-(i=n[e]+"").length)&&(a+=xc(t)),a+=i;(t=7-(i=(o=n[e])+"").length)&&(a+=xc(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function Va(n,e,t){if(n!==~~n||n<e||n>t)throw Error(bc+n)}function Qp(n,e,t,i){var r,a,o,s;for(a=n[0];a>=10;a/=10)--e;return--e<0?(e+=7,r=0):(r=Math.ceil((e+1)/7),e%=7),a=Tr(10,7-e),s=n[r]%a|0,null==i?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),o=t<4&&99999==s||t>3&&49999==s||5e4==s||0==s):o=(t<4&&s+1==a||t>3&&s+1==a/2)&&(n[r+1]/a/100|0)==Tr(10,e-2)-1||(s==a/2||0==s)&&0==(n[r+1]/a/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),o=(i||t<4)&&9999==s||!i&&t>3&&4999==s):o=((i||t<4)&&s+1==a||!i&&t>3&&s+1==a/2)&&(n[r+1]/a/1e3|0)==Tr(10,e-3)-1,o}function jy(n,e,t){for(var i,a,r=[0],o=0,s=n.length;o<s;){for(a=r.length;a--;)r[a]*=e;for(r[0]+=gE.indexOf(n.charAt(o++)),i=0;i<r.length;i++)r[i]>t-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/t|0,r[i]%=t)}return r.reverse()}$e.absoluteValue=$e.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),kt(n)},$e.ceil=function(){return kt(new this.constructor(this),this.e+1,2)},$e.clampedTo=$e.clamp=function(n,e){var i=this,r=i.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(bc+e);return i.cmp(n)<0?n:i.cmp(e)>0?e:new r(i)},$e.comparedTo=$e.cmp=function(n){var e,t,i,r,a=this,o=a.d,s=(n=new a.constructor(n)).d,l=a.s,c=n.s;if(!o||!s)return l&&c?l!==c?l:o===s?0:!o^l<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?l:s[0]?-c:0;if(l!==c)return l;if(a.e!==n.e)return a.e>n.e^l<0?1:-1;for(e=0,t=(i=o.length)<(r=s.length)?i:r;e<t;++e)if(o[e]!==s[e])return o[e]>s[e]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},$e.cosine=$e.cos=function(){var n,e,t=this,i=t.constructor;return t.d?t.d[0]?(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+7,i.rounding=1,t=function l_e(n,e){var t,i,r;if(e.isZero())return e;(i=e.d.length)<32?r=(1/Zy(4,t=Math.ceil(i/3))).toString():(t=16,r="2.3283064365386962890625e-10"),n.precision+=t,e=lf(n,1,e.times(r),new n(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(i,G4(i,t)),i.precision=n,i.rounding=e,kt(2==Il||3==Il?t.neg():t,n,e,!0)):new i(1):new i(NaN)},$e.cubeRoot=$e.cbrt=function(){var n,e,t,i,r,a,o,s,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(Yt=!1,(a=u.s*Tr(u.s*u,1/3))&&Math.abs(a)!=1/0?i=new d(a.toString()):(t=Yr(u.d),(a=((n=u.e)-t.length+1)%3)&&(t+=1==a||-2==a?"0":"00"),a=Tr(t,1/3),n=ca((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(t=a==1/0?"5e"+n:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(s=i).times(s).times(s)).plus(u),i=Si(c.plus(u).times(s),c.plus(l),o+2,1),Yr(s.d).slice(0,o)===(t=Yr(i.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(kt(i,n+1,1),e=!i.times(i).times(i).eq(u));break}if(!r&&(kt(s,n+1,0),s.times(s).times(s).eq(u))){i=s;break}o+=4,r=1}return Yt=!0,kt(i,n,d.rounding,e)},$e.decimalPlaces=$e.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=7*((n=e.length-1)-ca(this.e/7)),n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},$e.dividedBy=$e.div=function(n){return Si(this,new this.constructor(n))},$e.dividedToIntegerBy=$e.divToInt=function(n){var t=this.constructor;return kt(Si(this,new t(n),0,1,1),t.precision,t.rounding)},$e.equals=$e.eq=function(n){return 0===this.cmp(n)},$e.floor=function(){return kt(new this.constructor(this),this.e+1,3)},$e.greaterThan=$e.gt=function(n){return this.cmp(n)>0},$e.greaterThanOrEqualTo=$e.gte=function(n){var e=this.cmp(n);return 1==e||0===e},$e.hyperbolicCosine=$e.cosh=function(){var n,e,t,i,r,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;i=o.rounding,o.precision=(t=o.precision)+Math.max(a.e,a.sd())+4,o.rounding=1,(r=a.d.length)<32?e=(1/Zy(4,n=Math.ceil(r/3))).toString():(n=16,e="2.3283064365386962890625e-10"),a=lf(o,1,a.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=a.times(a),a=s.minus(l.times(u.minus(l.times(u))));return kt(a,o.precision=t,o.rounding=i,!0)},$e.hyperbolicSine=$e.sinh=function(){var n,e,t,i,r=this,a=r.constructor;if(!r.isFinite()||r.isZero())return new a(r);if(t=a.rounding,a.precision=(e=a.precision)+Math.max(r.e,r.sd())+4,a.rounding=1,(i=r.d.length)<3)r=lf(a,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=lf(a,2,r=r.times(1/Zy(5,n=n>16?16:0|n)),r,!0);for(var o,s=new a(5),l=new a(16),c=new a(20);n--;)o=r.times(r),r=r.times(s.plus(o.times(l.times(o).plus(c))))}return a.precision=e,a.rounding=t,kt(r,e,t,!0)},$e.hyperbolicTangent=$e.tanh=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,Si(t.sinh(),t.cosh(),i.precision=n,i.rounding=e)):new i(t.s)},$e.inverseCosine=$e.acos=function(){var n,e=this,t=e.constructor,i=e.abs().cmp(1),r=t.precision,a=t.rounding;return-1!==i?0===i?e.isNeg()?ss(t,r,a):new t(0):new t(NaN):e.isZero()?ss(t,r+4,a).times(.5):(t.precision=r+6,t.rounding=1,e=e.asin(),n=ss(t,r+4,a).times(.5),t.precision=r,t.rounding=a,n.minus(e))},$e.inverseHyperbolicCosine=$e.acosh=function(){var n,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(e=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,Yt=!1,t=t.times(t).minus(1).sqrt().plus(t),Yt=!0,i.precision=n,i.rounding=e,t.ln()):new i(t)},$e.inverseHyperbolicSine=$e.asinh=function(){var n,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,Yt=!1,t=t.times(t).plus(1).sqrt().plus(t),Yt=!0,i.precision=n,i.rounding=e,t.ln())},$e.inverseHyperbolicTangent=$e.atanh=function(){var n,e,t,i,r=this,a=r.constructor;return r.isFinite()?r.e>=0?new a(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=a.precision,e=a.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?kt(new a(r),n,e,!0):(a.precision=t=i-r.e,r=Si(r.plus(1),new a(1).minus(r),t+n,1),a.precision=n+4,a.rounding=1,r=r.ln(),a.precision=n,a.rounding=e,r.times(.5))):new a(NaN)},$e.inverseSine=$e.asin=function(){var n,e,t,i,r=this,a=r.constructor;return r.isZero()?new a(r):(e=r.abs().cmp(1),t=a.precision,i=a.rounding,-1!==e?0===e?((n=ss(a,t+4,i).times(.5)).s=r.s,n):new a(NaN):(a.precision=t+6,a.rounding=1,r=r.div(new a(1).minus(r.times(r)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=i,r.times(2)))},$e.inverseTangent=$e.atan=function(){var n,e,t,i,r,a,o,s,l,c=this,u=c.constructor,d=u.precision,h=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=_E)return(o=ss(u,d+4,h).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=_E)return(o=ss(u,d+4,h).times(.5)).s=c.s,o}for(u.precision=s=d+10,u.rounding=1,n=t=Math.min(28,s/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Yt=!1,e=Math.ceil(s/7),i=1,l=c.times(c),o=new u(c),r=c;-1!==n;)if(r=r.times(l),a=o.minus(r.div(i+=2)),r=r.times(l),void 0!==(o=a.plus(r.div(i+=2))).d[e])for(n=e;o.d[n]===a.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Yt=!0,kt(o,u.precision=d,u.rounding=h,!0)},$e.isFinite=function(){return!!this.d},$e.isInteger=$e.isInt=function(){return!!this.d&&ca(this.e/7)>this.d.length-2},$e.isNaN=function(){return!this.s},$e.isNegative=$e.isNeg=function(){return this.s<0},$e.isPositive=$e.isPos=function(){return this.s>0},$e.isZero=function(){return!!this.d&&0===this.d[0]},$e.lessThan=$e.lt=function(n){return this.cmp(n)<0},$e.lessThanOrEqualTo=$e.lte=function(n){return this.cmp(n)<1},$e.logarithm=$e.log=function(n){var e,t,i,r,a,o,s,l,c=this,u=c.constructor,d=u.precision,h=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(r=t[0];r%10==0;)r/=10;a=1!==r}if(Yt=!1,o=wc(c,s=d+5),i=e?Yy(u,s+10):wc(n,s),Qp((l=Si(o,i,s,1)).d,r=d,h))do{if(o=wc(c,s+=10),i=e?Yy(u,s+10):wc(n,s),l=Si(o,i,s,1),!a){+Yr(l.d).slice(r+1,r+15)+1==1e14&&(l=kt(l,d+1,0));break}}while(Qp(l.d,r+=10,h));return Yt=!0,kt(l,d,h)},$e.minus=$e.sub=function(n){var e,t,i,r,a,o,s,l,c,u,d,h,f=this,m=f.constructor;if(n=new m(n),!f.d||!n.d)return f.s&&n.s?f.d?n.s=-n.s:n=new m(n.d||f.s!==n.s?f:NaN):n=new m(NaN),n;if(f.s!=n.s)return n.s=-n.s,f.plus(n);if(h=n.d,s=m.precision,l=m.rounding,!(c=f.d)[0]||!h[0]){if(h[0])n.s=-n.s;else{if(!c[0])return new m(3===l?-0:0);n=new m(f)}return Yt?kt(n,s,l):n}if(t=ca(n.e/7),u=ca(f.e/7),c=c.slice(),a=u-t){for((d=a<0)?(e=c,a=-a,o=h.length):(e=h,t=u,o=c.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for((d=(i=c.length)<(o=h.length))&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(e=c,c=h,h=e,n.s=-n.s),i=h.length-(o=c.length);i>0;--i)c[o++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(r=i;r&&0===c[--r];)c[r]=os-1;--c[r],c[i]+=os}c[i]-=h[i]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=Xy(c,t),Yt?kt(n,s,l):n):new m(3===l?-0:0)},$e.modulo=$e.mod=function(n){var e,t=this,i=t.constructor;return n=new i(n),!t.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||t.d&&!t.d[0]?kt(new i(t),i.precision,i.rounding):(Yt=!1,9==i.modulo?(e=Si(t,n.abs(),0,3,1)).s*=n.s:e=Si(t,n,0,i.modulo,1),e=e.times(n),Yt=!0,t.minus(e))},$e.naturalExponential=$e.exp=function(){return yE(this)},$e.naturalLogarithm=$e.ln=function(){return wc(this)},$e.negated=$e.neg=function(){var n=new this.constructor(this);return n.s=-n.s,kt(n)},$e.plus=$e.add=function(n){var e,t,i,r,a,o,s,l,c,u,d=this,h=d.constructor;if(n=new h(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new h(n.d||d.s===n.s?d:NaN)):n=new h(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,s=h.precision,l=h.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new h(d)),Yt?kt(n,s,l):n;if(a=ca(d.e/7),i=ca(n.e/7),c=c.slice(),r=a-i){for(r<0?(t=c,r=-r,o=u.length):(t=u,i=a,o=c.length),r>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(r=o,t.length=1),t.reverse();r--;)t.push(0);t.reverse()}for((o=c.length)-(r=u.length)<0&&(r=o,t=u,u=c,c=t),e=0;r;)e=(c[--r]=c[r]+u[r]+e)/os|0,c[r]%=os;for(e&&(c.unshift(e),++i),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=Xy(c,i),Yt?kt(n,s,l):n},$e.precision=$e.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(bc+n);return t.d?(e=B4(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},$e.round=function(){var n=this,e=n.constructor;return kt(new e(n),n.e+1,e.rounding)},$e.sine=$e.sin=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+7,i.rounding=1,t=function u_e(n,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:lf(n,2,e,e);t=1.4*Math.sqrt(i),e=lf(n,2,e=e.times(1/Zy(5,t=t>16?16:0|t)),e);for(var r,a=new n(5),o=new n(16),s=new n(20);t--;)r=e.times(e),e=e.times(a.plus(r.times(o.times(r).minus(s))));return e}(i,G4(i,t)),i.precision=n,i.rounding=e,kt(Il>2?t.neg():t,n,e,!0)):new i(NaN)},$e.squareRoot=$e.sqrt=function(){var n,e,t,i,r,a,o=this,s=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!s||!s[0])return new u(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(Yt=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Yr(s)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=ca((l+1)/2)-(l<0||l%2),i=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):i=new u(c.toString()),t=(l=u.precision)+3;;)if(i=(a=i).plus(Si(o,a,t+2,1)).times(.5),Yr(a.d).slice(0,t)===(e=Yr(i.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(kt(i,l+1,1),n=!i.times(i).eq(o));break}if(!r&&(kt(a,l+1,0),a.times(a).eq(o))){i=a;break}t+=4,r=1}return Yt=!0,kt(i,l,u.rounding,n)},$e.tangent=$e.tan=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(t=t.sin()).s=1,t=Si(t,new i(1).minus(t.times(t)).sqrt(),n+10,0),i.precision=n,i.rounding=e,kt(2==Il||4==Il?t.neg():t,n,e,!0)):new i(NaN)},$e.times=$e.mul=function(n){var e,t,i,r,a,o,s,l,c,u=this,d=u.constructor,h=u.d,f=(n=new d(n)).d;if(n.s*=u.s,!(h&&h[0]&&f&&f[0]))return new d(!n.s||h&&!h[0]&&!f||f&&!f[0]&&!h?NaN:h&&f?0*n.s:n.s/0);for(t=ca(u.e/7)+ca(n.e/7),(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,o=l,l=c,c=o),a=[],i=o=l+c;i--;)a.push(0);for(i=c;--i>=0;){for(e=0,r=l+i;r>i;)s=a[r]+f[i]*h[r-i-1]+e,a[r--]=s%os|0,e=s/os|0;a[r]=(a[r]+e)%os|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),n.d=a,n.e=Xy(a,t),Yt?kt(n,d.precision,d.rounding):n},$e.toBinary=function(n,e){return xE(this,2,n,e)},$e.toDecimalPlaces=$e.toDP=function(n,e){var t=this,i=t.constructor;return t=new i(t),void 0===n?t:(Va(n,0,yc),void 0===e?e=i.rounding:Va(e,0,8),kt(t,n+t.e+1,e))},$e.toExponential=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=ks(i,!0):(Va(n,0,yc),void 0===e?e=r.rounding:Va(e,0,8),t=ks(i=kt(new r(i),n+1,e),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+t:t},$e.toFixed=function(n,e){var t,i,r=this,a=r.constructor;return void 0===n?t=ks(r):(Va(n,0,yc),void 0===e?e=a.rounding:Va(e,0,8),t=ks(i=kt(new a(r),n+r.e+1,e),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+t:t},$e.toFraction=function(n){var e,t,i,r,a,o,s,l,c,u,d,h,f=this,m=f.d,p=f.constructor;if(!m)return new p(f);if(c=t=new p(1),i=l=new p(0),a=(e=new p(i)).e=B4(m)-f.e-1,e.d[0]=Tr(10,(o=a%7)<0?7+o:o),null==n)n=a>0?e:c;else{if(!(s=new p(n)).isInt()||s.lt(c))throw Error(bc+s);n=s.gt(e)?a>0?e:c:s}for(Yt=!1,s=new p(Yr(m)),u=p.precision,p.precision=a=7*m.length*2;d=Si(s,e,0,1,1),1!=(r=t.plus(d.times(i))).cmp(n);)t=i,i=r,c=l.plus(d.times(r=c)),l=r,e=s.minus(d.times(r=e)),s=r;return r=Si(n.minus(t),i,0,1,1),l=l.plus(r.times(c)),t=t.plus(r.times(i)),l.s=c.s=f.s,h=Si(c,i,a,1).minus(f).abs().cmp(Si(l,t,a,1).minus(f).abs())<1?[c,i]:[l,t],p.precision=u,Yt=!0,h},$e.toHexadecimal=$e.toHex=function(n,e){return xE(this,16,n,e)},$e.toNearest=function(n,e){var t=this,i=t.constructor;if(t=new i(t),null==n){if(!t.d)return t;n=new i(1),e=i.rounding}else{if(n=new i(n),void 0===e?e=i.rounding:Va(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Yt=!1,t=Si(t,n,0,e,1).times(n),Yt=!0,kt(t)):(n.s=t.s,t=n),t},$e.toNumber=function(){return+this},$e.toOctal=function(n,e){return xE(this,8,n,e)},$e.toPower=$e.pow=function(n){var e,t,i,r,a,o,s=this,l=s.constructor,c=+(n=new l(n));if(!(s.d&&n.d&&s.d[0]&&n.d[0]))return new l(Tr(+s,c));if((s=new l(s)).eq(1))return s;if(i=l.precision,a=l.rounding,n.eq(1))return kt(s,i,a);if((e=ca(n.e/7))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return r=z4(l,s,t,i),n.s<0?new l(1).div(r):kt(r,i,a);if((o=s.s)<0){if(e<n.d.length-1)return new l(NaN);if(0==(1&n.d[e])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(e=0!=(t=Tr(+s,c))&&isFinite(t)?new l(t+"").e:ca(c*(Math.log("0."+Yr(s.d))/Math.LN10+s.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Yt=!1,l.rounding=s.s=1,t=Math.min(12,(e+"").length),(r=yE(n.times(wc(s,i+t)),i)).d&&Qp((r=kt(r,i+5,1)).d,i,a)&&+Yr((r=kt(yE(n.times(wc(s,(e=i+10)+t)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=kt(r,i+1,0)),r.s=o,Yt=!0,l.rounding=a,kt(r,i,a))},$e.toPrecision=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=ks(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Va(n,1,yc),void 0===e?e=r.rounding:Va(e,0,8),t=ks(i=kt(new r(i),n,e),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+t:t},$e.toSignificantDigits=$e.toSD=function(n,e){var i=this.constructor;return void 0===n?(n=i.precision,e=i.rounding):(Va(n,1,yc),void 0===e?e=i.rounding:Va(e,0,8)),kt(new i(this),n,e)},$e.toString=function(){var n=this,e=n.constructor,t=ks(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},$e.truncated=$e.trunc=function(){return kt(new this.constructor(this),this.e+1,1)},$e.valueOf=$e.toJSON=function(){var n=this,e=n.constructor,t=ks(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var Si=function(){function n(i,r,a){var o,s=0,l=i.length;for(i=i.slice();l--;)i[l]=(o=i[l]*r+s)%a|0,s=o/a|0;return s&&i.unshift(s),i}function e(i,r,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(i[s]!=r[s]){l=i[s]>r[s]?1:-1;break}return l}function t(i,r,a,o){for(var s=0;a--;)i[a]-=s,i[a]=(s=i[a]<r[a]?1:0)*o+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o,s,l){var c,u,d,h,f,m,p,g,_,w,v,y,b,x,C,M,E,S,T,N,k=i.constructor,R=i.s==r.s?1:-1,B=i.d,D=r.d;if(!(B&&B[0]&&D&&D[0]))return new k(i.s&&r.s&&(B?!D||B[0]!=D[0]:D)?B&&0==B[0]||!D?0*R:R/0:NaN);for(l?(f=1,u=i.e-r.e):(l=os,u=ca(i.e/(f=7))-ca(r.e/f)),T=D.length,E=B.length,w=(_=new k(R)).d=[],d=0;D[d]==(B[d]||0);d++);if(D[d]>(B[d]||0)&&u--,null==a?(x=a=k.precision,o=k.rounding):x=s?a+(i.e-r.e)+1:a,x<0)w.push(1),m=!0;else{if(x=x/f+2|0,d=0,1==T){for(h=0,D=D[0],x++;(d<E||h)&&x--;d++)w[d]=(C=h*l+(B[d]||0))/D|0,h=C%D|0;m=h||d<E}else{for((h=l/(D[0]+1)|0)>1&&(D=n(D,h,l),B=n(B,h,l),T=D.length,E=B.length),M=T,y=(v=B.slice(0,T)).length;y<T;)v[y++]=0;(N=D.slice()).unshift(0),S=D[0],D[1]>=l/2&&++S;do{h=0,(c=e(D,v,T,y))<0?(b=v[0],T!=y&&(b=b*l+(v[1]||0)),(h=b/S|0)>1?(h>=l&&(h=l-1),1==(c=e(p=n(D,h,l),v,g=p.length,y=v.length))&&(h--,t(p,T<g?N:D,g,l))):(0==h&&(c=h=1),p=D.slice()),(g=p.length)<y&&p.unshift(0),t(v,p,y,l),-1==c&&(c=e(D,v,T,y=v.length))<1&&(h++,t(v,T<y?N:D,y,l)),y=v.length):0===c&&(h++,v=[0]),w[d++]=h,c&&v[0]?v[y++]=B[M]||0:(v=[B[M]],y=1)}while((M++<E||void 0!==v[0])&&x--);m=void 0!==v[0]}w[0]||w.shift()}if(1==f)_.e=u,k4=m;else{for(d=1,h=w[0];h>=10;h/=10)d++;_.e=d+u*f-1,kt(_,s?a+_.e+1:a,o,m)}return _}}();function kt(n,e,t,i){var r,a,o,s,l,c,u,d,h,f=n.constructor;e:if(null!=e){if(!(d=n.d))return n;for(r=1,s=d[0];s>=10;s/=10)r++;if((a=e-r)<0)a+=7,l=(u=d[h=0])/Tr(10,r-(o=e)-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(s=d.length)){if(!i)break e;for(;s++<=h;)d.push(0);u=l=0,r=1,o=(a%=7)-7+1}else{for(u=s=d[h],r=1;s>=10;s/=10)r++;l=(o=(a%=7)-7+r)<0?0:u/Tr(10,r-o-1)%10|0}if(i=i||e<0||void 0!==d[h+1]||(o<0?u:u%Tr(10,r-o-1)),c=t<4?(l||i)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||i||6==t&&(a>0?o>0?u/Tr(10,r-o):0:d[h-1])%10&1||t==(n.s<0?8:7)),e<1||!d[0])return d.length=0,c?(d[0]=Tr(10,(7-(e-=n.e+1)%7)%7),n.e=-e||0):d[0]=n.e=0,n;if(0==a?(d.length=h,s=1,h--):(d.length=h+1,s=Tr(10,7-a),d[h]=o>0?(u/Tr(10,r-o)%Tr(10,o)|0)*s:0),c)for(;;){if(0==h){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(n.e++,d[0]==os&&(d[0]=1));break}if(d[h]+=s,d[h]!=os)break;d[h--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return Yt&&(n.e>f.maxE?(n.d=null,n.e=NaN):n.e<f.minE&&(n.e=0,n.d=[0])),n}function ks(n,e,t){if(!n.isFinite())return H4(n);var i,r=n.e,a=Yr(n.d),o=a.length;return e?(t&&(i=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+xc(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):r<0?(a="0."+xc(-r-1)+a,t&&(i=t-o)>0&&(a+=xc(i))):r>=o?(a+=xc(r+1-o),t&&(i=t-r-1)>0&&(a=a+"."+xc(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),t&&(i=t-o)>0&&(r+1===o&&(a+="."),a+=xc(i))),a}function Xy(n,e){var t=n[0];for(e*=7;t>=10;t/=10)e++;return e}function Yy(n,e,t){if(e>s_e)throw Yt=!0,t&&(n.precision=t),Error(R4);return kt(new n(qy),e,1,!0)}function ss(n,e,t){if(e>_E)throw Error(R4);return kt(new n(Wy),e,t,!0)}function B4(n){var e=n.length-1,t=7*e+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function xc(n){for(var e="";n--;)e+="0";return e}function z4(n,e,t,i){var r,a=new n(1),o=Math.ceil(i/7+4);for(Yt=!1;;){if(t%2&&q4((a=a.times(e)).d,o)&&(r=!0),0===(t=ca(t/2))){t=a.d.length-1,r&&0===a.d[t]&&++a.d[t];break}q4((e=e.times(e)).d,o)}return Yt=!0,a}function U4(n){return 1&n.d[n.d.length-1]}function V4(n,e,t){for(var i,r=new n(e[0]),a=0;++a<e.length;){if(!(i=new n(e[a])).s){r=i;break}r[t](i)&&(r=i)}return r}function yE(n,e){var t,i,r,a,o,s,l,c=0,u=0,d=0,h=n.constructor,f=h.rounding,m=h.precision;if(!n.d||!n.d[0]||n.e>17)return new h(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Yt=!1,l=m):l=e,s=new h(.03125);n.e>-2;)n=n.times(s),d+=5;for(l+=i=Math.log(Tr(2,d))/Math.LN10*2+5|0,t=a=o=new h(1),h.precision=l;;){if(a=kt(a.times(n),l,1),t=t.times(++u),Yr((s=o.plus(Si(a,t,l,1))).d).slice(0,l)===Yr(o.d).slice(0,l)){for(r=d;r--;)o=kt(o.times(o),l,1);if(null!=e)return h.precision=m,o;if(!(c<3&&Qp(o.d,l-i,f,c)))return kt(o,h.precision=m,f,Yt=!0);h.precision=l+=10,t=a=s=new h(1),u=0,c++}o=s}}function wc(n,e){var t,i,r,a,o,s,l,c,u,d,h,f=1,p=n,g=p.d,_=p.constructor,w=_.rounding,v=_.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new _(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(null==e?(Yt=!1,u=v):u=e,_.precision=u+=10,i=(t=Yr(g)).charAt(0),!(Math.abs(a=p.e)<15e14))return c=Yy(_,u+2,v).times(a+""),p=wc(new _(i+"."+t.slice(1)),u-10).plus(c),_.precision=v,null==e?kt(p,v,w,Yt=!0):p;for(;i<7&&1!=i||1==i&&t.charAt(1)>3;)i=(t=Yr((p=p.times(n)).d)).charAt(0),f++;for(a=p.e,i>1?(p=new _("0."+t),a++):p=new _(i+"."+t.slice(1)),d=p,l=o=p=Si(p.minus(1),p.plus(1),u,1),h=kt(p.times(p),u,1),r=3;;){if(o=kt(o.times(h),u,1),Yr((c=l.plus(Si(o,new _(r),u,1))).d).slice(0,u)===Yr(l.d).slice(0,u)){if(l=l.times(2),0!==a&&(l=l.plus(Yy(_,u+2,v).times(a+""))),l=Si(l,new _(f),u,1),null!=e)return _.precision=v,l;if(!Qp(l.d,u-10,w,s))return kt(l,_.precision=v,w,Yt=!0);_.precision=u+=10,c=o=p=Si(d.minus(1),d.plus(1),u,1),h=kt(p.times(p),u,1),r=s=1}l=c,r+=2}}function H4(n){return String(n.s*n.s/0)}function bE(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;48===e.charCodeAt(i);i++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(i,r)){if(r-=i,n.e=t=t-i-1,n.d=[],i=(t+1)%7,t<0&&(i+=7),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=7;i<r;)n.d.push(+e.slice(i,i+=7));i=7-(e=e.slice(i)).length}else i-=r;for(;i--;)e+="0";n.d.push(+e),Yt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function lf(n,e,t,i,r){var a,o,s,l,u=n.precision,d=Math.ceil(u/7);for(Yt=!1,l=t.times(t),s=new n(i);;){if(o=Si(s.times(l),new n(e++*e++),u,1),s=r?i.plus(o):i.minus(o),i=Si(o.times(l),new n(e++*e++),u,1),void 0!==(o=s.plus(i)).d[d]){for(a=d;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return Yt=!0,o.d.length=d+1,o}function Zy(n,e){for(var t=n;--e;)t*=n;return t}function G4(n,e){var t,i=e.s<0,r=ss(n,n.precision,1),a=r.times(.5);if((e=e.abs()).lte(a))return Il=i?4:1,e;if((t=e.divToInt(r)).isZero())Il=i?3:2;else{if((e=e.minus(t.times(r))).lte(a))return Il=U4(t)?i?2:3:i?4:1,e;Il=U4(t)?i?1:4:i?3:2}return e.minus(r).abs()}function xE(n,e,t,i){var r,a,o,s,l,c,u,d,h,f=n.constructor,m=void 0!==t;if(m?(Va(t,1,yc),void 0===i?i=f.rounding:Va(i,0,8)):(t=f.precision,i=f.rounding),n.isFinite()){for(m?(r=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):r=e,(o=(u=ks(n)).indexOf("."))>=0&&(u=u.replace(".",""),(h=new f(1)).e=u.length-o,h.d=jy(ks(h),10,r),h.e=h.d.length),a=l=(d=jy(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?a--:((n=new f(n)).d=d,n.e=a,d=(n=Si(n,h,t,i,0,r)).d,a=n.e,c=k4),o=d[t],s=r/2,c=c||void 0!==d[t+1],c=i<4?(void 0!==o||c)&&(0===i||i===(n.s<0?3:2)):o>s||o===s&&(4===i||c||6===i&&1&d[t-1]||i===(n.s<0?8:7)),d.length=t,c)for(;++d[--t]>r-1;)d[t]=0,t||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=gE.charAt(d[o]);if(m){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(d=jy(u,r,e)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=gE.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>l)for(a-=l;a--;)u+="0";else a<l&&(u=u.slice(0,a)+"."+u.slice(a))}else u=m?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=H4(n);return n.s<0?"-"+u:u}function q4(n,e){if(n.length>e)return n.length=e,!0}function d_e(n){return new this(n).abs()}function h_e(n){return new this(n).acos()}function f_e(n){return new this(n).acosh()}function m_e(n,e){return new this(n).plus(e)}function p_e(n){return new this(n).asin()}function g_e(n){return new this(n).asinh()}function v_e(n){return new this(n).atan()}function __e(n){return new this(n).atanh()}function y_e(n,e){n=new this(n),e=new this(e);var t,i=this.precision,r=this.rounding,a=i+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?ss(this,i,r):new this(0)).s=n.s:!n.d||e.isZero()?(t=ss(this,a,1).times(.5)).s=n.s:e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Si(n,e,a,1)),e=ss(this,a,1),this.precision=i,this.rounding=r,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(Si(n,e,a,1)):(t=ss(this,a,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function b_e(n){return new this(n).cbrt()}function x_e(n){return kt(n=new this(n),n.e+1,2)}function w_e(n,e,t){return new this(n).clamp(e,t)}function M_e(n){if(!n||"object"!=typeof n)throw Error($y+"Object expected");var e,t,i,r=!0===n.defaults,a=["precision",1,yc,"rounding",0,8,"toExpNeg",-sf,0,"toExpPos",0,sf,"maxE",0,sf,"minE",-sf,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],r&&(this[t]=vE[t]),void 0!==(i=n[t])){if(!(ca(i)===i&&i>=a[e+1]&&i<=a[e+2]))throw Error(bc+t+": "+i);this[t]=i}if(t="crypto",r&&(this[t]=vE[t]),void 0!==(i=n[t])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(bc+t+": "+i);if(i){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(O4);this[t]=!0}else this[t]=!1}return this}function S_e(n){return new this(n).cos()}function C_e(n){return new this(n).cosh()}function E_e(n,e){return new this(n).div(e)}function D_e(n){return new this(n).exp()}function A_e(n){return kt(n=new this(n),n.e+1,3)}function T_e(){var n,e,t=new this(0);for(Yt=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Yt=!0,new this(1/0);t=e}return Yt=!0,t.sqrt()}function $4(n){return n instanceof Jp||n&&n.toStringTag===P4||!1}function N_e(n){return new this(n).ln()}function I_e(n,e){return new this(n).log(e)}function F_e(n){return new this(n).log(2)}function k_e(n){return new this(n).log(10)}function R_e(){return V4(this,arguments,"lt")}function O_e(){return V4(this,arguments,"gt")}function P_e(n,e){return new this(n).mod(e)}function L_e(n,e){return new this(n).mul(e)}function B_e(n,e){return new this(n).pow(e)}function z_e(n){var e,t,i,r,a=0,o=new this(1),s=[];if(void 0===n?n=this.precision:Va(n,1,yc),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)(r=e[a])>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=r%1e7;else{if(!crypto.randomBytes)throw Error(O4);for(e=crypto.randomBytes(i*=4);a<i;)(r=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((127&e[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(r%1e7),a+=4);a=i/4}else for(;a<i;)s[a++]=1e7*Math.random()|0;for(n%=7,(i=s[--a])&&n&&(r=Tr(10,7-n),s[a]=(i/r|0)*r);0===s[a];a--)s.pop();if(a<0)t=0,s=[0];else{for(t=-1;0===s[0];t-=7)s.shift();for(i=1,r=s[0];r>=10;r/=10)i++;i<7&&(t-=7-i)}return o.e=t,o.d=s,o}function U_e(n){return kt(n=new this(n),n.e+1,this.rounding)}function V_e(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function H_e(n){return new this(n).sin()}function G_e(n){return new this(n).sinh()}function q_e(n){return new this(n).sqrt()}function W_e(n,e){return new this(n).sub(e)}function $_e(){var n=0,e=arguments,t=new this(e[n]);for(Yt=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Yt=!0,kt(t,this.precision,this.rounding)}function j_e(n){return new this(n).tan()}function X_e(n){return new this(n).tanh()}function Y_e(n){return kt(n=new this(n),n.e+1,1)}$e[Symbol.for("nodejs.util.inspect.custom")]=$e.toString,$e[Symbol.toStringTag]="Decimal";var Jp=$e.constructor=function W4(n){var e,t,i;function r(a){var o,s,l,c=this;if(!(c instanceof r))return new r(a);if(c.constructor=r,$4(a))return c.s=a.s,void(Yt?!a.d||a.e>r.maxE?(c.e=NaN,c.d=null):a.e<r.minE?(c.e=0,c.d=[0]):(c.e=a.e,c.d=a.d.slice()):(c.e=a.e,c.d=a.d?a.d.slice():a.d));if("number"==(l=typeof a)){if(0===a)return c.s=1/a<0?-1:1,c.e=0,void(c.d=[0]);if(a<0?(a=-a,c.s=-1):c.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;return void(Yt?o>r.maxE?(c.e=NaN,c.d=null):o<r.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[a]):(c.e=o,c.d=[a]))}return 0*a!=0?(a||(c.s=NaN),c.e=NaN,void(c.d=null)):bE(c,a.toString())}if("string"!==l)throw Error(bc+a);return 45===(s=a.charCodeAt(0))?(a=a.slice(1),c.s=-1):(43===s&&(a=a.slice(1)),c.s=1),L4.test(a)?bE(c,a):function c_e(n,e){var t,i,r,a,o,s,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),L4.test(e))return bE(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(r_e.test(e))t=16,e=e.toLowerCase();else if(i_e.test(e))t=2;else{if(!a_e.test(e))throw Error(bc+e);t=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),i=n.constructor,(o=a>=0)&&(a=(s=(e=e.replace(".","")).length)-a,r=z4(i,new i(t),a,2*a)),a=u=(c=jy(e,t,os)).length-1;0===c[a];--a)c.pop();return a<0?new i(0*n.s):(n.e=Xy(c,u),n.d=c,Yt=!1,o&&(n=Si(n,r,4*s)),l&&(n=n.times(Math.abs(l)<54?Tr(2,l):Jp.pow(2,l))),Yt=!0,n)}(c,a)}if(r.prototype=$e,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=M_e,r.clone=W4,r.isDecimal=$4,r.abs=d_e,r.acos=h_e,r.acosh=f_e,r.add=m_e,r.asin=p_e,r.asinh=g_e,r.atan=v_e,r.atanh=__e,r.atan2=y_e,r.cbrt=b_e,r.ceil=x_e,r.clamp=w_e,r.cos=S_e,r.cosh=C_e,r.div=E_e,r.exp=D_e,r.floor=A_e,r.hypot=T_e,r.ln=N_e,r.log=I_e,r.log10=k_e,r.log2=F_e,r.max=R_e,r.min=O_e,r.mod=P_e,r.mul=L_e,r.pow=B_e,r.random=z_e,r.round=U_e,r.sign=V_e,r.sin=H_e,r.sinh=G_e,r.sqrt=q_e,r.sub=W_e,r.sum=$_e,r.tan=j_e,r.tanh=X_e,r.trunc=Y_e,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}(vE);qy=new Jp(qy),Wy=new Jp(Wy);const Ky=Jp;var Q_e=Y("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,i=Ky.clone({precision:t.precision,modulo:Ky.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},e&&e("config",function(r,a){r.precision!==a.precision&&i.config({precision:r.precision})}),i},{isClass:!0}),Zr=wt(6),tye=Y("Complex",[],()=>(Object.defineProperty(Zr,"name",{value:"Complex"}),Zr.prototype.constructor=Zr,Zr.prototype.type="Complex",Zr.prototype.isComplex=!0,Zr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Zr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Zr.prototype.format=function(n){var t=this.im,i=this.re,r=Lu(this.re,n),a=Lu(this.im,n),o=Rn(n)?n:n?n.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(i/t)<s&&(i=0),Math.abs(t/i)<s&&(t=0)}return 0===t?r:0===i?1===t?"i":-1===t?"-i":a+"i":t<0?-1===t?r+" - i":r+" - "+a.substring(1)+"i":1===t?r+" + i":r+" + "+a+"i"},Zr.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Zr(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],i=arguments[1];if(Rn(t)){if(El(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Rn(i))return new Zr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Zr.prototype.valueOf=Zr.prototype.toString,Zr.fromJSON=function(n){return new Zr(n)},Zr.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Zr),{isClass:!0}),iye=Kp(function(n){return new n(1).exp()},{hasher:Qy}),rye=Kp(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:Qy}),wE=Kp(function(n){return n.acos(-1)},{hasher:Qy}),aye=Kp(function(n){return wE(n).times(2)},{hasher:Qy});function Qy(n){return n[0].precision}var oye=Math.PI,sye=2*Math.PI,lye=Math.E,uye=Y("true",[],()=>!0),dye=Y("false",[],()=>!1),hye=Y("null",[],()=>null),fye=oo("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),mye=oo("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),pye=oo("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?wE(t):oye}),gye=oo("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?aye(t):sye}),vye=oo("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?iye(t):lye}),_ye=oo("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?rye(t):1.618033988749895}),yye=oo("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),bye=oo("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),xye=oo("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),wye=oo("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),Mye=oo("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),Sye=oo("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),Cye=oo("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),Eye=Y("version",[],()=>"11.5.0");function oo(n,e,t){return Y(n,e,t,{recreateOnConfigChange:!0})}var Dye=Zt("speedOfLight","299792458","m s^-1"),Aye=Zt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Tye=Zt("planckConstant","6.62607015e-34","J s"),Nye=Zt("reducedPlanckConstant","1.0545718176461565e-34","J s"),Iye=Zt("magneticConstant","1.25663706212e-6","N A^-2"),Fye=Zt("electricConstant","8.8541878128e-12","F m^-1"),kye=Zt("vacuumImpedance","376.730313667","ohm"),Rye=Zt("coulomb","8.987551792261171e9","N m^2 C^-2"),Oye=Zt("elementaryCharge","1.602176634e-19","C"),Pye=Zt("bohrMagneton","9.2740100783e-24","J T^-1"),Lye=Zt("conductanceQuantum","7.748091729863649e-5","S"),Bye=Zt("inverseConductanceQuantum","12906.403729652257","ohm"),zye=Zt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Uye=Zt("nuclearMagneton","5.0507837461e-27","J T^-1"),Vye=Zt("klitzing","25812.807459304513","ohm"),Hye=Zt("bohrRadius","5.29177210903e-11","m"),Gye=Zt("classicalElectronRadius","2.8179403262e-15","m"),qye=Zt("electronMass","9.1093837015e-31","kg"),Wye=Zt("fermiCoupling","1.1663787e-5","GeV^-2"),$ye=Jy("fineStructure",.0072973525693),jye=Zt("hartreeEnergy","4.3597447222071e-18","J"),Xye=Zt("protonMass","1.67262192369e-27","kg"),Yye=Zt("deuteronMass","3.3435830926e-27","kg"),Zye=Zt("neutronMass","1.6749271613e-27","kg"),Kye=Zt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Qye=Zt("rydberg","10973731.568160","m^-1"),Jye=Zt("thomsonCrossSection","6.6524587321e-29","m^2"),ebe=Jy("weakMixingAngle",.2229),tbe=Jy("efimovFactor",22.7),nbe=Zt("atomicMass","1.66053906660e-27","kg"),ibe=Zt("avogadro","6.02214076e23","mol^-1"),rbe=Zt("boltzmann","1.380649e-23","J K^-1"),abe=Zt("faraday","96485.33212331001","C mol^-1"),obe=Zt("firstRadiation","3.7417718521927573e-16","W m^2"),sbe=Zt("loschmidt","2.686780111798444e25","m^-3"),lbe=Zt("gasConstant","8.31446261815324","J K^-1 mol^-1"),cbe=Zt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),ube=Zt("molarVolume","0.022413969545014137","m^3 mol^-1"),dbe=Jy("sackurTetrode",-1.16487052358),hbe=Zt("secondRadiation","0.014387768775039337","m K"),fbe=Zt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),mbe=Zt("wienDisplacement","2.897771955e-3","m K"),pbe=Zt("molarMass","0.99999999965e-3","kg mol^-1"),gbe=Zt("molarMassC12","11.9999999958e-3","kg mol^-1"),vbe=Zt("gravity","9.80665","m s^-2"),_be=Zt("planckLength","1.616255e-35","m"),ybe=Zt("planckMass","2.176435e-8","kg"),bbe=Zt("planckTime","5.391245e-44","s"),xbe=Zt("planckCharge","1.87554603778e-18","C"),wbe=Zt("planckTemperature","1.416785e+32","K");function Zt(n,e,t){return Y(n,["config","Unit","BigNumber"],r=>{var{config:a,Unit:o,BigNumber:s}=r,c=new o("BigNumber"===a.number?new s(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function Jy(n,e){return Y(n,["config","BigNumber"],i=>{var{config:r,BigNumber:a}=i;return"BigNumber"===r.number?new a(e):e})}var Fl=wt(613),Cbe=Y("Fraction",[],()=>(Object.defineProperty(Fl,"name",{value:"Fraction"}),Fl.prototype.constructor=Fl,Fl.prototype.type="Fraction",Fl.prototype.isFraction=!0,Fl.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fl.fromJSON=function(n){return new Fl(n)},Fl),{isClass:!0}),Abe=Y("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),Ibe=Y("Range",[],()=>{function n(e,t,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var r=null!=e,a=null!=t,o=null!=i;if(r)if(Mn(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(Mn(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(Mn(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=r?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(i):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var i=e.split(":").map(function(a){return parseFloat(a)});if(i.some(function(a){return isNaN(a)}))return null;switch(i.length){case 2:return new n(i[0],i[1]);case 3:return new n(i[0],i[2],i[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,i=this.step,a=this.end-this.start;return vc(i)===vc(a)?e=Math.ceil(a/i):0===a&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,i=this.step,r=this.end,a=0;if(i>0)for(;t<r;)e(t,[a],this),t+=i,a++;else if(i<0)for(;t>r;)e(t,[a],this),t+=i,a++},n.prototype.map=function(e){var t=[];return this.forEach(function(i,r,a){t[r[0]]=e(i,r,a)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,i){e[i[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=Lu(this.start,e);return 1!==this.step&&(t+=":"+Lu(this.step,e)),t+":"+Lu(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),Rbe=Y("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),Lbe=Y("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(u,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Ea(d))throw new Error("Invalid datatype: "+d);if(Ht(u))"DenseMatrix"===u.type?(this._data=Lt(u._data),this._size=Lt(u._size),this._datatype=d||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=d||u._datatype);else if(u&&ui(u.data)&&ui(u.size))this._data=u.data,this._size=u.size,xB(this._data,this._size),this._datatype=d||u.datatype;else if(ui(u))this._data=c(u),this._size=_n(this._data),xB(this._data,this._size),this._datatype=d;else{if(u)throw new TypeError("Unsupported type of data ("+Ti(u)+")");this._data=[],this._size=[0],this._datatype=d}}function i(u,d){if(!py(d))throw new TypeError("Invalid index");if(d.isScalar())return u.get(d.min());var f=d.size();if(f.length!==u._size.length)throw new un(f.length,u._size.length);for(var m=d.min(),p=d.max(),g=0,_=u._size.length;g<_;g++)gi(m[g],u._size[g]),gi(p[g],u._size[g]);return new t(r(u._data,d,f.length,0),u._datatype)}function r(u,d,h,f){var m=f===h-1,p=d.dimension(f);return m?p.map(function(g){return gi(g,u.length),u[g]}).valueOf():p.map(function(g){return gi(g,u.length),r(u[g],d,h,f+1)}).valueOf()}function a(u,d,h,f){if(!d||!0!==d.isIndex)throw new TypeError("Invalid index");var g,m=d.size(),p=d.isScalar();if(Ht(h)?(g=h.size(),h=h.valueOf()):g=_n(h),p){if(0!==g.length)throw new TypeError("Scalar expected");u.set(d.min(),h,f)}else{if(m.length<u._size.length)throw new un(m.length,u._size.length,"<");if(g.length<m.length){for(var _=0,w=0;1===m[_]&&1===g[_];)_++;for(;1===m[_];)w++,_++;h=CB(h,m.length,w,g)}if(!$p(m,g))throw new un(m,g,">");l(u,d.max().map(function(x){return x+1}),f),o(u._data,d,h,m.length,0)}return u}function o(u,d,h,f,m){var p=m===f-1;d.dimension(m).forEach(p?function(_,w){gi(_),u[_]=h[w[0]]}:function(_,w){gi(_),o(u[_],d,h[w[0]],f,m+1)})}function s(u,d,h){if(0===d.length){for(var f=u._data;ui(f);)f=f[0];return f}return u._size=d.slice(0),u._data=nf(u._data,u._size,h),u}function l(u,d,h){for(var f=u._size.slice(0),m=!1;f.length<d.length;)f.push(0),m=!0;for(var p=0,g=d.length;p<g;p++)d[p]>f[p]&&(f[p]=d[p],m=!0);m&&s(u,f,h)}function c(u){for(var d=0,h=u.length;d<h;d++){var f=u[d];ui(f)?u[d]=c(f):f&&!0===f.isMatrix&&(u[d]=c(f.valueOf()))}return u}return(t.prototype=new e).createDenseMatrix=function(u,d){return new t(u,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Xp(this._data,Ti)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,d){return new t(u,d)},t.prototype.subset=function(u,d,h){switch(arguments.length){case 1:return i(this,u);case 2:case 3:return a(this,u,d,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){if(!ui(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new un(u.length,this._size.length);for(var d=0;d<u.length;d++)gi(u[d],this._size[d]);for(var h=this._data,f=0,m=u.length;f<m;f++){var p=u[f];gi(p,h.length),h=h[p]}return h},t.prototype.set=function(u,d,h){if(!ui(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new un(u.length,this._size.length,"<");var f,m,p;l(this,u.map(function(w){return w+1}),h);var _=this._data;for(f=0,m=u.length-1;f<m;f++)gi(p=u[f],_.length),_=_[p];return gi(p=u[u.length-1],_.length),_[p]=d,this},t.prototype.resize=function(u,d,h){if(!Dl(u))throw new TypeError("Array or Matrix expected");var f=u.valueOf().map(p=>Array.isArray(p)&&1===p.length?p[0]:p);return s(h?this.clone():this,f,d)},t.prototype.reshape=function(u,d){var h=d?this.clone():this;h._data=wB(h._data,u);var f=h._size.reduce((m,p)=>m*p);return h._size=sE(u,f),h},t.prototype.clone=function(){return new t({data:Lt(this._data),size:Lt(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(u){var d=this,h=_c(u),m=function g(_,w){return ui(_)?_.map(function(v,y){return g(v,w.concat(y))}):1===h?u(_):2===h?u(_,w):u(_,w,d)}(this._data,[]);return new t(m,void 0!==this._datatype?Xp(m,Ti):void 0)},t.prototype.forEach=function(u){var d=this;!function f(m,p){ui(m)?m.forEach(function(g,_){f(g,p.concat(_))}):u(m,p,d)}(this._data,[])},t.prototype[Symbol.iterator]=function*(){yield*function*d(h,f){if(ui(h))for(var m=0;m<h.length;m++)yield*d(h[m],f.concat(m));else yield{value:h,index:f}}(this._data,[])},t.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var f of h)u.push(new t([f],this._datatype));return u},t.prototype.columns=function(){var u=this,d=[],h=this.size();if(2!==h.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var f=this._data,m=function(_){var w=f.map(v=>[v[_]]);d.push(new t(w,u._datatype))},p=0;p<h[1];p++)m(p);return d},t.prototype.toArray=function(){return Lt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return nn(this._data,u)},t.prototype.toString=function(){return nn(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(Mn(u)&&(u=u.toNumber()),!Rn(u)||!Et(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var d=u>0?u:0,h=u<0?-u:0,p=Math.min(this._size[0]-h,this._size[1]-d),g=[],_=0;_<p;_++)g[_]=this._data[_+h][_+d];return new t({data:g,size:[p],datatype:this._datatype})},t.diagonal=function(u,d,h,f){if(!ui(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(C){if(Mn(C)&&(C=C.toNumber()),!Rn(C)||!Et(C)||C<1)throw new Error("Size values must be positive integers");return C}),h){if(Mn(h)&&(h=h.toNumber()),!Rn(h)||!Et(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var v,m=h>0?h:0,p=h<0?-h:0,g=u[0],_=u[1],w=Math.min(g-p,_-m);if(ui(d)){if(d.length!==w)throw new Error("Invalid value array length");v=function(M){return d[M]}}else if(Ht(d)){var y=d.size();if(1!==y.length||y[0]!==w)throw new Error("Invalid matrix length");v=function(M){return d.get([M])}}else v=function(){return d};f||(f=Mn(v(0))?v(0).mul(0):0);var b=[];if(u.length>0){b=nf(b,u,f);for(var x=0;x<w;x++)b[x+p][x+m]=v(x)}return new t({data:b,size:[g,_]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,d){if(!(Rn(u)&&Et(u)&&Rn(d)&&Et(d)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return gi(u,this._size[0]),gi(d,this._size[0]),t._swapRows(u,d,this._data),this},t._swapRows=function(u,d,h){var f=h[u];h[u]=h[d],h[d]=f},t},{isClass:!0}),Ube=Y("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}),j4=wt(961),X4=function(){return X4=j4.create,j4},Hbe=Y("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:i,DenseMatrix:r,Fraction:a}=e,o=X4();return o.clear(),o.addTypes([{name:"number",test:Rn},{name:"Complex",test:Cl},{name:"BigNumber",test:Mn},{name:"Fraction",test:qp},{name:"Unit",test:El},{name:"identifier",test:s=>Ea&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(s)},{name:"string",test:Ea},{name:"Chain",test:rB},{name:"Array",test:ui},{name:"Matrix",test:Ht},{name:"DenseMatrix",test:my},{name:"SparseMatrix",test:Ou},{name:"Range",test:YC},{name:"Index",test:py},{name:"boolean",test:Que},{name:"ResultSet",test:Jue},{name:"Help",test:iB},{name:"function",test:ede},{name:"Date",test:tde},{name:"RegExp",test:nde},{name:"null",test:ide},{name:"undefined",test:rde},{name:"AccessorNode",test:Pu},{name:"ArrayNode",test:Fo},{name:"AssignmentNode",test:ade},{name:"BlockNode",test:ode},{name:"ConditionalNode",test:sde},{name:"ConstantNode",test:zn},{name:"FunctionNode",test:gc},{name:"FunctionAssignmentNode",test:Wp},{name:"IndexNode",test:Kh},{name:"Node",test:di},{name:"ObjectNode",test:gy},{name:"OperatorNode",test:gr},{name:"ParenthesisNode",test:Al},{name:"RangeNode",test:lde},{name:"RelationalNode",test:cde},{name:"SymbolNode",test:Rr},{name:"Map",test:nE},{name:"Object",test:ZC}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||ME(l),function Ode(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return i||eb(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||eb(l),new i(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||eb(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||SE(l);var c=new a(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||ME(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||SE(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||eb(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||ME(l),new t(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||SE(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return r||function Gbe(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,c)=>{var u=o.createError(s,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&Dl(l[0])&&c.some(h=>!h.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=u.data,d}throw u},o.onMismatch=(s,l,c)=>{var u=o.createError(s,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&Dl(l[0])&&c.some(h=>!h.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=u.data,d}throw u},o});function ME(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function eb(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function SE(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Ha="number",kl="number, number";function Y4(n){return Math.abs(n)}function Z4(n,e){return n+e}function K4(n,e){return n*e}function Q4(n){return-n}function J4(n){return n}function eg(n){return Ide(n)}function e5(n){return n*n*n}function t5(n){return Math.exp(n)}function n5(n){return Fde(n)}function r5(n,e){if(!Et(n)||!Et(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;0!==e;)t=n%e,n=e,e=t;return n<0?-n:n}function a5(n,e){if(!Et(n)||!Et(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,i=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(i/n)}function o5(n){return Nde(n)}function s5(n){return Tde(n)}function l5(n,e){if(e>0)return n-e*Math.floor(n/e);if(0===e)return n;throw new Error("Cannot calculate mod for a negative divisor")}function c5(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var i=Math.pow(Math.abs(n),1/e);return i=n<0?-i:i,t?1/i:i}function CE(n){return vc(n)}function u5(n){return n*n}function d5(n,e){var t,i,r,a=0,o=1,s=1,l=0;if(!Et(n)||!Et(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=n-(i=Math.floor(n/e))*e,t=a,a=o-i*a,o=t,t=s,s=l-i*s,l=t,n=e,e=r;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function h5(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function f5(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Et(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(mB(n,e))}Y4.signature=Ha,Z4.signature=kl,K4.signature=kl,Q4.signature=Ha,J4.signature=Ha,eg.signature=Ha,e5.signature=Ha,t5.signature=Ha,n5.signature=Ha,r5.signature=kl,a5.signature=kl,o5.signature=Ha,s5.signature=Ha,l5.signature=kl,CE.signature=Ha,u5.signature=Ha,d5.signature=kl,h5.signature=kl;var m5="unaryPlus",Kbe=Y(m5,["typed","config","BigNumber"],n=>{var{typed:e,config:t,BigNumber:i}=n;return e(m5,{number:J4,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(r=>a=>dn(a,r,!0)),"boolean | string":function(a){return"BigNumber"===t.number?new i(+a):+a}})}),Jbe=Y("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:Y4,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t,!0))})}),txe=Y("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("acos",{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new i(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),zi="number";function v5(n){return Lde(n)}function _5(n){return Math.atan(1/n)}function y5(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function b5(n){return Math.asin(1/n)}function x5(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function w5(n){return Math.acos(1/n)}function M5(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function S5(n){return Bde(n)}function C5(n){return zde(n)}function E5(n){return 1/Math.tan(n)}function D5(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function A5(n){return 1/Math.sin(n)}function T5(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*vc(n)}function N5(n){return 1/Math.cos(n)}function I5(n){return 2/(Math.exp(n)+Math.exp(-n))}function F5(n){return Ude(n)}v5.signature=zi,_5.signature=zi,y5.signature=zi,b5.signature=zi,x5.signature=zi,w5.signature=zi,M5.signature=zi,S5.signature=zi,C5.signature=zi,E5.signature=zi,D5.signature=zi,A5.signature=zi,T5.signature=zi,N5.signature=zi,I5.signature=zi,F5.signature=zi;var fxe=Y("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:_5,Complex:function(r){return r.acot()},BigNumber:function(r){return new t(1).div(r).atan()}})}),pxe=Y("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("acsc",{number:function(o){return o<=-1||o>=1||t.predictable?b5(o):new i(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new r(1).div(o).asin()}})}),O5="addScalar",vxe=Y(O5,["typed"],n=>{var{typed:e}=n;return e(O5,{"number, number":Z4,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":e.referToSelf(t=>(i,r)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(t,[a.valueType(),r.valueType()])(a.value,r.value),a.fixPrefix=!1,a})})}),yxe=Y("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),xxe=Y("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("asech",{number:function(o){if(o<=1&&o>=-1||t.predictable){var s=1/o;if(s>0||t.predictable)return M5(o);var l=Math.sqrt(s*s-1);return new i(Math.log(l-s),Math.PI)}return new i(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new r(1).div(o).acosh()}})}),Sxe=Y("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:S5,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})}),Dxe=Y("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),Txe=Y("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("atanh",{number:function(a){return a<=1&&a>=-1||t.predictable?C5(a):new i(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),Fxe=Y("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(r){return new t(r+"")},string:function(r){var a=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=t(a[1]),l=new t(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var c=new t(2).pow(Number(o)-1);return s.gte(c)?s.sub(l):s}return new t(r)},BigNumber:function(r){return r},Fraction:function(r){return new t(r.n).div(r.d).times(r.s)},null:function(r){return new t(0)},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))})});function kxe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return EE(n,e,function(i,r){return i&r})}function tg(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var i=n.plus(new e(1));return i.s=-i.s||null,e.config({precision:t}),i}function Rxe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var i=new t(-1);return n.isZero()||e.eq(i)||n.eq(e)?e:e.isZero()||n.eq(i)?n:n.isFinite()&&e.isFinite()?EE(n,e,function(r,a){return r|a}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?i:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function EE(n,e,t){var r,a,u,d,h,i=n.constructor,o=+(n.s<0),s=+(e.s<0);if(o){r=tb(tg(n));for(var l=0;l<r.length;++l)r[l]^=1}else r=tb(n);if(s){a=tb(tg(e));for(var c=0;c<a.length;++c)a[c]^=1}else a=tb(e);r.length<=a.length?(u=r,d=a,h=o):(u=a,d=r,h=s);var f=u.length,m=d.length,p=1^t(o,s),g=new i(1^p),_=new i(1),w=new i(2),v=i.precision;for(i.config({precision:1e9});f>0;)t(u[--f],d[--m])===p&&(g=g.plus(_)),_=_.times(w);for(;m>0;)t(h,d[--m])===p&&(g=g.plus(_)),_=_.times(w);return i.config({precision:v}),0===p&&(g.s=-g.s),g}function tb(n){for(var e=n.d,t=e[0]+"",i=1;i<e.length;++i){for(var r=e[i]+"",a=7-r.length;a--;)r="0"+r;t+=r}for(var o=t.length;"0"===t.charAt(o);)o--;var s=n.e,l=t.slice(0,o+1||1),c=l.length;if(s>0)if(++s>c)for(s-=c;s--;)l+="0";else s<c&&(l=l.slice(0,s)+"."+l.slice(s));for(var u=[0],d=0;d<l.length;){for(var h=u.length;h--;)u[h]*=10;u[0]+=parseInt(l.charAt(d++));for(var f=0;f<u.length;++f)u[f]>1&&(null==u[f+1]&&(u[f+1]=0),u[f+1]+=u[f]>>1,u[f]&=1)}return u.reverse()}function Oxe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var i=new t(-1);return n.eq(i)?tg(e):e.eq(i)?tg(n):n.isFinite()&&e.isFinite()?EE(n,e,function(r,a){return r^a}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):i}function Pxe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function Lxe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var cf="number, number";function z5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function bitAnd");return n&e}function U5(n){if(!Et(n))throw new Error("Integer expected in function bitNot");return~n}function V5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function bitOr");return n|e}function H5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function bitXor");return n^e}function G5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function leftShift");return n<<e}function q5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function W5(n,e){if(!Et(n)||!Et(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}z5.signature=cf,U5.signature="number",V5.signature=cf,H5.signature=cf,G5.signature=cf,q5.signature=cf,W5.signature=cf;var Uxe=Y("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:U5,BigNumber:tg,"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),j5="boolean",Hxe=Y(j5,["typed"],n=>{var{typed:e}=n;return e(j5,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var r=i.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var a=Number(i);if(""!==i&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),qxe=Y("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Lt})});function Rl(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Rl(n,t)*Rl(t+1,e)}function Y5(n,e){if(!Et(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Et(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,i=1,a=2,o=e<t?e:t,s=e<t?t+1:e+1;s<=n;++s)for(i*=s;a<=o&&i%a==0;)i/=a,++a;return a<=o&&(i/=Rl(a,o)),i}Y5.signature="number, number";var Z5="combinations",$xe=Y(Z5,["typed"],n=>{var{typed:e}=n;return e(Z5,{"number, number":Y5,"BigNumber, BigNumber":function(i,r){var o,s,a=i.constructor,l=i.minus(r),c=new a(1);if(!K5(i)||!K5(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(i))throw new TypeError("k must be less than n in function combinations");if(o=c,r.lt(l))for(s=c;s.lte(l);s=s.plus(c))o=o.times(r.plus(s)).dividedBy(s);else for(s=c;s.lte(r);s=s.plus(c))o=o.times(l.plus(s)).dividedBy(s);return o}})});function K5(n){return n.isInteger()&&n.gte(0)}var Yxe=Y("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(r){return new t(r,0)},"number, number":function(r,a){return new t(r,a)},"BigNumber, BigNumber":function(r,a){return new t(r.toNumber(),a.toNumber())},Fraction:function(r){return new t(r.valueOf(),0)},Complex:function(r){return r.clone()},string:function(r){return t(r)},null:function(r){return t(0)},Object:function(r){if("re"in r&&"im"in r)return new t(r.re,r.im);if("r"in r&&"phi"in r||"abs"in r&&"arg"in r)return new t(r);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))})}),Kxe=Y("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),Jxe=Y("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:gB,"Complex | BigNumber":t=>t.cosh()})}),t1e=Y("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:D5,Complex:i=>i.coth(),BigNumber:i=>new t(1).div(i.tanh())})}),uf=Y("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,i.valueType())(i.value)})}}),i1e=Y("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:A5,Complex:r=>r.csc(),BigNumber:r=>new t(1).div(r.sin())},uf({typed:e}))}),a1e=Y("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:e5,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})});function Rs(n,e,t){if(null==t)return n.eq(e);if(n.eq(e))return!0;if(n.isNaN()||e.isNaN())return!1;if(n.isFinite()&&e.isFinite()){var i=n.minus(e).abs();if(i.isZero())return!0;var r=n.constructor.max(n.abs(),e.abs());return i.lte(r.times(t))}return!1}var df=Y("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),r.valueType()])(i.value,r.value)})}}),nb="equalScalar",l1e=Y(nb,["typed","config"],n=>{var{typed:e,config:t}=n,i=df({typed:e});return e(nb,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return ao(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Rs(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return function o1e(n,e,t){return ao(n.re,e.re,t)&&ao(n.im,e.im,t)}(a,o,t.epsilon)}},i)}),d1e=(Y(nb,["typed","config"],n=>{var{typed:e,config:t}=n;return e(nb,{"number, number":function(r,a){return ao(r,a,t.epsilon)}})}),Y("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(o){var s=Math.abs(o);return s>=m1e?vc(o):s<=h1e?vc(o)*function t(a){var c,o=a*a,s=Ol[0][4]*o,l=o;for(c=0;c<3;c+=1)s=(s+Ol[0][c])*o,l=(l+hf[0][c])*o;return a*(s+Ol[0][3])/(l+hf[0][3])}(s):s<=4?vc(o)*(1-function i(a){var l,o=Ol[1][8]*a,s=a;for(l=0;l<7;l+=1)o=(o+Ol[1][l])*a,s=(s+hf[1][l])*a;var c=(o+Ol[1][7])/(s+hf[1][7]),u=parseInt(16*a)/16,d=(a-u)*(a+u);return Math.exp(-u*u)*Math.exp(-d)*c}(s)):vc(o)*(1-function r(a){var c,o=1/(a*a),s=Ol[2][5]*o,l=o;for(c=0;c<4;c+=1)s=(s+Ol[2][c])*o,l=(l+hf[2][c])*o;var u=o*(s+Ol[2][4])/(l+hf[2][4]);u=(f1e-u)/a;var d=(a-(o=parseInt(16*a)/16))*(a+o);return Math.exp(-o*o)*Math.exp(-d)*u}(s))},"Array | Matrix":e.referToSelf(a=>o=>dn(o,a))})})),h1e=.46875,f1e=.5641895835477563,Ol=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],hf=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],m1e=Math.pow(2,53),g1e=Y("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:t5,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})}),_1e=Y("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:n5,Complex:function(r){var a=Math.exp(r.re);return new t(a*Math.cos(r.im)-1,a*Math.sin(r.im))},BigNumber:function(r){return r.exp().minus(1)}})}),x1e=Y("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":a8,"Matrix, function":function(i,r){return i.create(a8(i.toArray(),r))},"Array, RegExp":My,"Matrix, RegExp":function(i,r){return i.create(My(i.toArray(),r))}})});function a8(n,e){var t=_c(e);return DB(n,function(i,r,a){return 1===t?e(i):2===t?e(i,[r]):e(i,[r],a)})}var o8="forEach",M1e=Y(o8,["typed"],n=>{var{typed:e}=n;return e(o8,{"Array, function":S1e,"Matrix, function":function(i,r){i.forEach(r)}})});function S1e(n,e){var t=_c(e);!function r(a,o){Array.isArray(a)?wy(a,function(s,l){r(s,o.concat(l))}):1===t?e(a):2===t?e(a,o):e(a,o,n)}(n,[])}var E1e=Y("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:nn,"any, Object | function | number":nn})}),l8="getMatrixDataType",A1e=Y(l8,["typed"],n=>{var{typed:e}=n;return e(l8,{Array:function(i){return Xp(i,Ti)},Matrix:function(i){return i.getDataType()}})}),N1e=Y("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(r){return t(r,{notation:"hex"})},"number | BigNumber, number":function(r,a){return t(r,{notation:"hex",wordSize:a})}})}),F1e=Y("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),d8="isInteger",R1e=Y(d8,["typed"],n=>{var{typed:e}=n;return e(d8,{number:Et,BigNumber:function(i){return i.isInt()},Fraction:function(i){return 1===i.d&&isFinite(i.n)},"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),ng="number";function h8(n){return n<0}function f8(n){return n>0}function m8(n){return 0===n}function p8(n){return Number.isNaN(n)}h8.signature=ng,f8.signature=ng,m8.signature=ng,p8.signature=ng;var g8="isNegative",L1e=Y(g8,["typed"],n=>{var{typed:e}=n;return e(g8,{number:h8,BigNumber:function(i){return i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s<0},Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),v8="isPositive",z1e=Y(v8,["typed"],n=>{var{typed:e}=n;return e(v8,{number:f8,BigNumber:function(i){return!i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s>0&&i.n>0},Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),V1e=Y("isZero",["typed"],n=>{var{typed:e}=n;return e("isZero",{number:m8,BigNumber:function(i){return i.isZero()},Complex:function(i){return 0===i.re&&0===i.im},Fraction:function(i){return 1===i.d&&0===i.n},Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})});function ib(n){var e;if(Et(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Rl(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*ib(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,i=t*n,r=i*n,a=r*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*i)-571/(2488320*r)+163879/(209018880*a)+5246819/(75246796800*a*n))}--n,e=ff[0];for(var o=1;o<ff.length;++o)e+=ff[o]/(n+o);var s=n+y8+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,n+.5)*Math.exp(-s)*e}ib.signature="number";var y8=4.7421875,ff=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],b8=.9189385332046728,x8=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function rb(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-rb(1-n);for(var e=5+(n-=1)+.5,t=x8[0],i=6;i>=1;i--)t+=x8[i]/(n+i);return b8+(n+.5)*Math.log(e)-e+Math.log(t)}rb.signature="number";var W1e=Y("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:rb,Complex:function o(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e(rb(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return s(c);if(c.re<=.1){var f=function Vde(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),m=c.mul(Math.PI).sin().log(),p=o(new e(1-c.re,-c.im));return new e(1.1447298858494002,f).sub(m).sub(p)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(b8),d=new e(1,0).div(c),h=d.div(c),f=a[0],m=a[1],p=2*h.re,g=h.re*h.re+h.im*h.im,_=2;_<8;_++){var w=m;m=-g*f+a[_],f=p*f+w}var v=d.mul(h.mul(f).add(m));return u.add(v)}function l(c){var u=0,d=0,h=c;for(c=c.add(1);c.re<=7;){var f=(h=h.mul(c)).im<0?1:0;0!==f&&0===d&&u++,d=f,c=c.add(1)}return s(c).sub(h.log()).sub(new e(0,2*u*Math.PI*1))}}),j1e=Y("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("log10",{number:function(a){return a>=0||t.predictable?o5(a):new i(a,0).log().div(Math.LN10)},Complex:function(a){return new i(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new i(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(r=>a=>dn(a,r))})}),Y1e=Y("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("log2",{number:function(o){return o>=0||t.predictable?s5(o):r(new i(o,0))},Complex:r,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):r(new i(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>dn(o,a))});function r(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new i(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),K1e=Y("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":Q1e,"Matrix, function":function(i,r){return i.map(r)}})});function Q1e(n,e){var t=_c(e);return function r(a,o){if(Array.isArray(a))return a.map(function(c,u){return r(c,o.concat(u))});try{return 1===t?e(a):2===t?e(a,o):e(a,o,n)}catch(c){if(c instanceof TypeError&&"data"in c&&"wrongType"===c.data.category){var s="map attempted to call '".concat(c.data.fn,"(").concat(a),l=JSON.stringify(o);throw 2===t?s+=","+l:1!==t&&(s+=",".concat(l,",").concat(n)),s+=")' but argument ".concat(c.data.index+1," of type "),s+="".concat(c.data.actual," does not match expected type "),s+=c.data.expected.join(" or "),new TypeError(s)}throw c}}(n,[])}var twe=Y("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":K4,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),DE="number, number";function E8(n){return!n}function D8(n,e){return!(!n&&!e)}function A8(n,e){return!!n!=!!e}function T8(n,e){return!(!n||!e)}E8.signature="number",D8.signature=DE,A8.signature=DE,T8.signature=DE;var rwe=Y("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:E8,Complex:function(i){return 0===i.re&&0===i.im},BigNumber:function(i){return i.isZero()||i.isNaN()},Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),cwe=Y("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(r){return r},string:function(r){if("NaN"===r)return NaN;var a=function swe(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(r);if(a)return function lwe(n){for(var e=parseInt(n.integerPart,n.radix),t=0,i=0;i<n.fractionalPart.length;i++)t+=parseInt(n.fractionalPart[i],n.radix)/Math.pow(n.radix,i+1);var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+n.input+'" is no valid number');return a}(a);var o=0,s=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),r=s[1]);var l=Number(r);if(isNaN(l))throw new SyntaxError('String "'+r+'" is no valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:function(r){throw new Error("Second argument with valueless unit expected")},null:function(r){return 0},"Unit, string | Unit":function(r,a){return r.toNumber(a)},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),dwe=Y("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(r){return t(r,{notation:"oct"})},"number | BigNumber, number":function(r,a){return t(r,{notation:"oct",wordSize:a})}})}),F8=wt(340),hwe=F8(Date.now());function mf(n){var e;return function t(r){e=null===r?hwe:F8(String(r))}(n),function i(){return e()}}var k8="pickRandom",mwe=Y(k8,["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=mf(t.randomSeed);return i&&i("config",function(o,s){o.randomSeed!==s.randomSeed&&(r=mf(o.randomSeed))}),e(k8,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,c){return a(s,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,c){return a(s,{number:l,weights:c})}});function a(o,s){var{number:l,weights:c,elementWise:u=!0}=s,d=typeof l>"u";d&&(l=1);var h=Ht(o)?o.create:Ht(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=Un(o),c=Un(c));var f=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var m=0,p=c.length;m<p;m++){if(!Rn(c[m])||c[m]<0)throw new Error("Weights must be an array of positive numbers");f+=c[m]}}for(var w,g=o.length,_=[];_.length<l;){if(typeof c>"u")w=o[Math.floor(r()*g)];else for(var v=r()*f,y=0,b=o.length;y<b;y++)if((v-=c[y])<0){w=o[y];break}_.push(w)}return d?_[0]:h?h(_):_}}),gwe=Y("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":O8,"string, Object | Array, number | Object":O8})});function O8(n,e,t){return n.replace(/\$([\w.]+)/g,function(i,r){for(var a=r.split("."),o=e[a.shift()];a.length&&void 0!==o;){var s=a.shift();o=s?o[s]:o+"."}return void 0!==o?Ea(o)?o:nn(o,t):i})}function AE(n,e){var t=[];if((n=n.slice(0)).length>1)for(var i=0,r=n.shift();i<r;i++)t.push(AE(n,e));else for(var a=0,o=n.shift();a<o;a++)t.push(e());return t}var _we=Y("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=mf(t.randomSeed);return i&&i("config",function(s,l){s.randomSeed!==l.randomSeed&&(r=mf(s.randomSeed))}),e("random",{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,c)=>a(s,l,c)});function a(s,l,c){var u=AE(s.valueOf(),()=>o(l,c));return Ht(s)?s.create(u):u}function o(s,l){return s+r()*(l-s)}}),bwe=Y("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),wwe=Y("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:N5,Complex:r=>r.sec(),BigNumber:r=>new t(1).div(r.cos())},uf({typed:e}))}),Swe=Y("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:i,Fraction:r}=n;return e("sign",{number:CE,Complex:function(o){return 0===o.im?i(CE(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new r(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>dn(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})}),Ewe=Y("sin",["typed"],n=>{var{typed:e}=n,t=uf({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":i=>i.sin()},t)}),Twe=Y("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:i}=n;function r(p,g){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Ea(g))throw new Error("Invalid datatype: "+g);if(Ht(p))!function a(p,g,_){"SparseMatrix"===g.type?(p._values=g._values?Lt(g._values):void 0,p._index=Lt(g._index),p._ptr=Lt(g._ptr),p._size=Lt(g._size),p._datatype=_||g._datatype):o(p,g.valueOf(),_||g._datatype)}(this,p,g);else if(p&&ui(p.index)&&ui(p.ptr)&&ui(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=g||p.datatype;else if(ui(p))o(this,p,g);else{if(p)throw new TypeError("Unsupported type of data ("+Ti(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(p,g,_){p._values=[],p._index=[],p._ptr=[],p._datatype=_;var w=g.length,v=0,y=t,b=0;if(Ea(_)&&(y=e.find(t,[_,_])||t,b=e.convert(0,_)),w>0){var x=0;do{p._ptr.push(p._index.length);for(var C=0;C<w;C++){var M=g[C];if(ui(M)){if(0===x&&v<M.length&&(v=M.length),x<M.length){var E=M[x];y(E,b)||(p._values.push(E),p._index.push(C))}}else 0===x&&v<1&&(v=1),y(M,b)||(p._values.push(M),p._index.push(C))}x++}while(x<v)}p._ptr.push(p._index.length),p._size=[w,v]}function s(p,g){if(!py(g))throw new TypeError("Invalid index");if(g.isScalar())return p.get(g.min());var w=g.size();if(w.length!==p._size.length)throw new un(w.length,p._size.length);var v,y,b,x,C=g.min(),M=g.max();for(v=0,y=p._size.length;v<y;v++)gi(C[v],p._size[v]),gi(M[v],p._size[v]);var E=p._values,S=p._index,T=p._ptr,N=g.dimension(0),k=g.dimension(1),R=[],B=[];N.forEach(function(I,L){B[I]=L[0],R[I]=!0});var D=E?[]:void 0,A=[],O=[];return k.forEach(function(I){for(O.push(A.length),b=T[I],x=T[I+1];b<x;b++)!0===R[v=S[b]]&&(A.push(B[v]),D&&D.push(E[b]))}),O.push(A.length),new r({values:D,index:A,ptr:O,size:w,datatype:p._datatype})}function l(p,g,_,w){if(!g||!0!==g.isIndex)throw new TypeError("Invalid index");var b,v=g.size(),y=g.isScalar();if(Ht(_)?(b=_.size(),_=_.toArray()):b=_n(_),y){if(0!==b.length)throw new TypeError("Scalar expected");p.set(g.min(),_,w)}else{if(1!==v.length&&2!==v.length)throw new un(v.length,p._size.length,"<");if(b.length<v.length){for(var x=0,C=0;1===v[x]&&1===b[x];)x++;for(;1===v[x];)C++,x++;_=CB(_,v.length,C,b)}if(!$p(v,b))throw new un(v,b,">");if(1===v.length)g.dimension(0).forEach(function(T,N){gi(T),p.set([T,0],_[N[0]],w)});else{var E=g.dimension(0),S=g.dimension(1);E.forEach(function(T,N){gi(T),S.forEach(function(k,R){gi(k),p.set([T,k],_[N[0]][R[0]],w)})})}}return p}function c(p,g,_,w){if(_-g==0)return _;for(var v=g;v<_;v++)if(w[v]===p)return v;return g}function d(p,g,_,w,v,y,b){v.splice(p,0,w),y.splice(p,0,g);for(var x=_+1;x<b.length;x++)b[x]++}function h(p,g,_,w){var v=w||0,y=t,b=0;Ea(p._datatype)&&(y=e.find(t,[p._datatype,p._datatype])||t,b=e.convert(0,p._datatype),v=e.convert(v,p._datatype));var E,S,T,x=!y(v,b),C=p._size[0],M=p._size[1];if(_>M){for(S=M;S<_;S++)if(p._ptr[S]=p._values.length,x)for(E=0;E<C;E++)p._values.push(v),p._index.push(E);p._ptr[_]=p._values.length}else _<M&&(p._ptr.splice(_+1,M-_),p._values.splice(p._ptr[_],p._values.length),p._index.splice(p._ptr[_],p._index.length));if(M=_,g>C){if(x){var N=0;for(S=0;S<M;S++){p._ptr[S]=p._ptr[S]+N,T=p._ptr[S+1]+N;var k=0;for(E=C;E<g;E++,k++)p._values.splice(T+k,0,v),p._index.splice(T+k,0,E),N++}p._ptr[M]=p._values.length}}else if(g<C){var R=0;for(S=0;S<M;S++){p._ptr[S]=p._ptr[S]-R;var D=p._ptr[S+1]-R;for(T=p._ptr[S];T<D;T++)(E=p._index[T])>g-1&&(p._values.splice(T,1),p._index.splice(T,1),R++)}p._ptr[S]=p._values.length}return p._size[0]=g,p._size[1]=_,p}function m(p,g,_,w,v){var C,M,y=w[0],b=w[1],x=[];for(C=0;C<y;C++)for(x[C]=[],M=0;M<b;M++)x[C][M]=0;for(M=0;M<b;M++)for(var S=_[M+1],T=_[M];T<S;T++)x[C=g[T]][M]=p?v?Lt(p[T]):p[T]:1;return x}return(r.prototype=new i).createSparseMatrix=function(p,g){return new r(p,g)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return Xp(this._values,Ti)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(p,g){return new r(p,g)},r.prototype.density=function(){var p=this._size[0],g=this._size[1];return 0!==p&&0!==g?this._index.length/(p*g):0},r.prototype.subset=function(p,g,_){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,p);case 2:case 3:return l(this,p,g,_);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(p){if(!ui(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new un(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=p[0],_=p[1];gi(g,this._size[0]),gi(_,this._size[1]);var w=c(g,this._ptr[_],this._ptr[_+1],this._index);return w<this._ptr[_+1]&&this._index[w]===g?this._values[w]:0},r.prototype.set=function(p,g,_){if(!ui(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new un(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=p[0],v=p[1],y=this._size[0],b=this._size[1],x=t,C=0;Ea(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,C=e.convert(0,this._datatype)),(w>y-1||v>b-1)&&(h(this,Math.max(w+1,y),Math.max(v+1,b),_),y=this._size[0],b=this._size[1]),gi(w,y),gi(v,b);var M=c(w,this._ptr[v],this._ptr[v+1],this._index);return M<this._ptr[v+1]&&this._index[M]===w?x(g,C)?function u(p,g,_,w,v){_.splice(p,1),w.splice(p,1);for(var y=g+1;y<v.length;y++)v[y]--}(M,v,this._values,this._index,this._ptr):this._values[M]=g:x(g,C)||d(M,w,v,g,this._values,this._index,this._ptr),this},r.prototype.resize=function(p,g,_){if(!Dl(p))throw new TypeError("Array or Matrix expected");var w=p.valueOf().map(y=>Array.isArray(y)&&1===y.length?y[0]:y);if(2!==w.length)throw new Error("Only two dimensions matrix are supported");return w.forEach(function(y){if(!Rn(y)||!Et(y)||y<0)throw new TypeError("Invalid size, must contain positive integers (size: "+nn(w)+")")}),h(_?this.clone():this,w[0],w[1],g)},r.prototype.reshape=function(p,g){if(!ui(p))throw new TypeError("Array expected");if(2!==p.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(I){if(!Rn(I)||!Et(I)||I<=-2||0===I)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+nn(p)+")")});var _=this._size[0]*this._size[1];if(_!==(p=sE(p,_))[0]*p[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=g?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return v;for(var y=[],b=0;b<v._ptr.length;b++)for(var x=0;x<v._ptr[b+1]-v._ptr[b];x++)y.push(b);for(var C=v._values.slice(),M=v._index.slice(),E=0;E<v._index.length;E++){var N=M[E]*v._size[1]+y[E];y[E]=N%p[1],M[E]=Math.floor(N/p[1])}v._values.length=0,v._index.length=0,v._ptr.length=p[1]+1,v._size=p.slice();for(var k=0;k<v._ptr.length;k++)v._ptr[k]=0;for(var R=0;R<C.length;R++){var B=M[R],D=y[R],A=C[R];d(c(B,v._ptr[D],v._ptr[D+1],v._index),B,D,A,v._values,v._index,v._ptr)}return v},r.prototype.clone=function(){return new r({values:this._values?Lt(this._values):void 0,index:Lt(this._index),ptr:Lt(this._ptr),size:Lt(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(p,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var _=this,w=this._size[0],v=this._size[1],y=_c(p);return function f(p,g,_,w,v,y,b){var x=[],C=[],M=[],E=t,S=0;Ea(p._datatype)&&(E=e.find(t,[p._datatype,p._datatype])||t,S=e.convert(0,p._datatype));for(var T=function(z,$,ae){z=y(z,$,ae),E(z,S)||(x.push(z),C.push($))},N=w;N<=v;N++){M.push(x.length);var k=p._ptr[N],R=p._ptr[N+1];if(b)for(var B=k;B<R;B++){var D=p._index[B];D>=g&&D<=_&&T(p._values[B],D-g,N-w)}else{for(var A={},O=k;O<R;O++)A[p._index[O]]=p._values[O];for(var L=g;L<=_;L++)T(L in A?A[L]:0,L-g,N-w)}}return M.push(x.length),new r({values:x,index:C,ptr:M,size:[_-g+1,v-w+1]})}(this,0,w-1,0,v-1,function(C,M,E){return 1===y?p(C):2===y?p(C,[M,E]):p(C,[M,E],_)},g)},r.prototype.forEach=function(p,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this._size[0],v=this._size[1],y=0;y<v;y++){var b=this._ptr[y],x=this._ptr[y+1];if(g)for(var C=b;C<x;C++)p(this._values[C],[this._index[C],y],this);else{for(var E={},S=b;S<x;S++)E[this._index[S]]=this._values[S];for(var N=0;N<w;N++)p(N in E?E[N]:0,[N,y],this)}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],g=0;g<p;g++)for(var w=this._ptr[g+1],v=this._ptr[g];v<w;v++){var y=this._index[v];yield{value:this._values[v],index:[y,g]}}},r.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(p){for(var g=this._size[0],_=this._size[1],w=this.density(),v="Sparse Matrix ["+nn(g,p)+" x "+nn(_,p)+"] density: "+nn(w,p)+"\n",y=0;y<_;y++)for(var x=this._ptr[y+1],C=this._ptr[y];C<x;C++)v+="\n    ("+nn(this._index[C],p)+", "+nn(y,p)+") ==> "+(this._values?nn(this._values[C],p):"X");return v},r.prototype.toString=function(){return nn(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(p){if(p){if(Mn(p)&&(p=p.toNumber()),!Rn(p)||!Et(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var g=p>0?p:0,_=p<0?-p:0,v=this._size[1],y=Math.min(this._size[0]-_,v-g),b=[],x=[],C=[];C[0]=0;for(var M=g;M<v&&b.length<y;M++)for(var S=this._ptr[M+1],T=this._ptr[M];T<S;T++){var N=this._index[T];if(N===M-g+_){b.push(this._values[T]),x[b.length-1]=N-_;break}}return C.push(b.length),new r({values:b,index:x,ptr:C,size:[y,1]})},r.fromJSON=function(p){return new r(p)},r.diagonal=function(p,g,_,w,v){if(!ui(p))throw new TypeError("Array expected, size parameter");if(2!==p.length)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(I){if(Mn(I)&&(I=I.toNumber()),!Rn(I)||!Et(I)||I<1)throw new Error("Size values must be positive integers");return I}),_){if(Mn(_)&&(_=_.toNumber()),!Rn(_)||!Et(_))throw new TypeError("The parameter k must be an integer number")}else _=0;var y=t,b=0;Ea(v)&&(y=e.find(t,[v,v])||t,b=e.convert(0,v));var T,x=_>0?_:0,C=_<0?-_:0,M=p[0],E=p[1],S=Math.min(M-C,E-x);if(ui(g)){if(g.length!==S)throw new Error("Invalid value array length");T=function(L){return g[L]}}else if(Ht(g)){var N=g.size();if(1!==N.length||N[0]!==S)throw new Error("Invalid matrix length");T=function(L){return g.get([L])}}else T=function(){return g};for(var k=[],R=[],B=[],D=0;D<E;D++){B.push(k.length);var A=D-x;if(A>=0&&A<S){var O=T(A);y(O,b)||(R.push(A+C),k.push(O))}}return B.push(k.length),new r({values:k,index:R,ptr:B,size:[M,E]})},r.prototype.swapRows=function(p,g){if(!(Rn(p)&&Et(p)&&Rn(g)&&Et(g)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return gi(p,this._size[0]),gi(g,this._size[0]),r._swapRows(p,g,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(p,g,_,w,v){for(var b=w[p+1],x=w[p];x<b;x++)v(_[x],g[x])},r._swapRows=function(p,g,_,w,v,y){for(var b=0;b<_;b++){var x=y[b],C=y[b+1],M=c(p,x,C,v),E=c(g,x,C,v);if(M<C&&E<C&&v[M]===p&&v[E]===g){if(w){var S=w[M];w[M]=w[E],w[E]=S}}else if(M<C&&v[M]===p&&(E>=C||v[E]!==g)){var T=w?w[M]:void 0;v.splice(E,0,g),w&&w.splice(E,0,T),v.splice(E<=M?M+1:M,1),w&&w.splice(E<=M?M+1:M,1)}else if(E<C&&v[E]===g&&(M>=C||v[M]!==p)){var N=w?w[E]:void 0;v.splice(M,0,p),w&&w.splice(M,0,N),v.splice(M<=E?E+1:E,1),w&&w.splice(M<=E?E+1:E,1)}}},r},{isClass:!0}),V8="splitUnit",Iwe=Y(V8,["typed"],n=>{var{typed:e}=n;return e(V8,{"Unit, Array":function(i,r){return i.splitUnit(r)}})}),kwe=Y("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:u5,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})}),Owe=Y("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:Lu,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":e.referToSelf(t=>i=>dn(i,t)),any:function(i){return String(i)}})}),Lwe=Y("tan",["typed"],n=>{var{typed:e}=n,t=uf({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":i=>i.tan()},t)}),zwe=Y("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:Ti})}),Vwe=Y("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("acosh",{number:function(a){return a>=1||t.predictable?v5(a):a<=-1?new i(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new i(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),Gwe=Y("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:x5,Complex:function(r){return r.acsch()},BigNumber:function(r){return new t(1).div(r).asinh()}})}),Wwe=Y("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("asec",{number:function(o){return o<=-1||o>=1||t.predictable?w5(o):new i(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new r(1).div(o).acos()}})}),jwe=Y("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(r){return t(r,{notation:"bin"})},"number | BigNumber, number":function(r,a){return t(r,{notation:"bin",wordSize:a})}})}),Z8="combinationsWithRep",Ywe=Y(Z8,["typed"],n=>{var{typed:e}=n;return e(Z8,{"number, number":function(i,r){if(!Et(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Et(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");return r<i-1?Rl(i,i+r-1)/Rl(1,r):Rl(r+1,i+r-1)/Rl(1,i-1)},"BigNumber, BigNumber":function(i,r){var o,s,l=new(0,i.constructor)(1),c=i.minus(l);if(!K8(i)||!K8(r))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,r.lt(c))for(s=l;s.lte(c);s=s.plus(l))o=o.times(r.plus(s)).dividedBy(s);else for(s=l;s.lte(r);s=s.plus(l))o=o.times(c.plus(s)).dividedBy(s);return o}})});function K8(n){return n.isInteger()&&n.gte(0)}var Kwe=Y("cos",["typed"],n=>{var{typed:e}=n,t=uf({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":i=>i.cos()},t)}),Jwe=Y("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:T5,Complex:i=>i.csch(),BigNumber:i=>new t(1).div(i.sinh())})}),tMe=Y("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:p8,BigNumber:function(i){return i.isNaN()},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":function(i){return dn(i,Number.isNaN)}})}),tz="isPrime",iMe=Y(tz,["typed"],n=>{var{typed:e}=n;return e(tz,{number:function(i){if(0*i!=0)return!1;if(i<=3)return i>1;if(i%2==0||i%3==0)return!1;for(var r=5;r*r<=i;r+=6)if(i%r==0||i%(r+2)==0)return!1;return!0},BigNumber:function(i){if(0*i.toNumber()!=0)return!1;if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var r=i.toNumber(),a=5;a*a<=r;a+=6)if(r%a==0||r%(a+2)==0)return!1;return!0}function o(w,v,y){for(var b=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),w=w.mul(w).mod(y)):(v=v.sub(1),b=w.mul(b).mod(y));return b}for(var s=i.constructor.clone({precision:2*i.toFixed(0).length}),l=0,c=(i=new s(i)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(i.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(w=>w<i);else{var d=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));u=[];for(var h=2;h<=d;h+=1)u.push(d)}for(var f=0;f<u.length;f+=1){var m=u[f],p=o(i.sub(i).add(m),c,i);if(!p.eq(1))for(var g=0,_=p;!_.eq(i.sub(1));g+=1,_=_.mul(_).mod(i))if(g===l-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),nz="randomInt",aMe=Y(nz,["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=mf(t.randomSeed);return i&&i("config",function(s,l){s.randomSeed!==l.randomSeed&&(r=mf(s.randomSeed))}),e(nz,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,c)=>a(s,l,c)});function a(s,l,c){var u=AE(s.valueOf(),()=>o(l,c));return Ht(s)?s.create(u):u}function o(s,l){return Math.floor(s+r()*(l-s))}}),sMe=Y("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:I5,Complex:i=>i.sech(),BigNumber:i=>new t(1).div(i.cosh())})}),cMe=Y("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:F5,"Complex | BigNumber":t=>t.sinh()})}),dMe=Y("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(r){return new t([],r)},"Array | Matrix":function(r){return new t(r)},"Array | Matrix, string":function(r,a){return new t(r,a)}})}),mMe=Y("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:i}=n;return t("sqrt",{number:r,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():r(o.toNumber())},Unit:function(o){return o.pow(.5)}});function r(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new i(a,0).sqrt()}}),vMe=Y("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:vB,"Complex | BigNumber":t=>t.tanh()})}),oz="unaryMinus",yMe=Y(oz,["typed"],n=>{var{typed:e}=n;return e(oz,{number:Q4,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>i=>{var r=i.clone();return r.value=e.find(t,r.valueType())(i.value),r}),"Array | Matrix":e.referToSelf(t=>i=>dn(i,t,!0))})}),xMe=Y("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("acoth",{number:function(o){return o>=1||o<=-1||t.predictable?y5(o):new i(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new r(1).div(o).atanh()}})}),MMe=Y("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:E5,Complex:r=>r.cot(),BigNumber:r=>new t(1).div(r.tan())},uf({typed:e}))}),EMe=Y("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new t(r)},string:function(r){return new t(r)},"number, number":function(r,a){return new t(r,a)},null:function(r){return new t(0)},BigNumber:function(r){return new t(r.toString())},Fraction:function(r){return r},Object:function(r){return new t(r)},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))})}),cz="isNumeric",AMe=Y(cz,["typed"],n=>{var{typed:e}=n;return e(cz,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>i=>dn(i,t))})}),NMe=Y("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:i,SparseMatrix:r}=n;return e("matrix",{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if("dense"===s||"default"===s||void 0===s)return new i(o,l);if("sparse"===s)return new r(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),dz="matrixFromFunction",FMe=Y(dz,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:i}=n;return e(dz,{"Array | Matrix, function, string, string":function(o,s,l,c){return r(o,s,l,c)},"Array | Matrix, function, string":function(o,s,l){return r(o,s,l)},"Matrix, function":function(o,s){return r(o,s,"dense")},"Array, function":function(o,s){return r(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return r(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,c){return r(o,c,s,l)}});function r(a,o,s,l){var c;return(c=void 0!==l?t(s,l):t(s)).resize(a),c.forEach(function(u,d){var h=o(d);i(h)||c.set(d,h)}),c}}),ls=Y("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o,s){var l=r._data,c=r._size,u=r._datatype,d=a._values,h=a._index,f=a._ptr,m=a._size,p=a._datatype;if(c.length!==m.length)throw new un(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var w,g=c[0],_=c[1],v=t,y=0,b=o;"string"==typeof u&&u===p&&(v=e.find(t,[w=u,w]),y=e.convert(0,w),b=e.find(o,[w,w]));for(var x=[],C=[],M=[],E=0;E<_;E++){M[E]=C.length;for(var T=f[E+1],N=f[E];N<T;N++){var k=h[N],R=s?b(d[N],l[k][E]):b(l[k][E],d[N]);v(R,y)||(C.push(k),x.push(R))}}return M[_]=C.length,a.createSparseMatrix({values:x,index:C,ptr:M,size:[g,_],datatype:w})}}),Ta=Y("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(i,r,a,o){var s=i._data,l=i._size,c=i._datatype,u=r._values,d=r._index,h=r._ptr,f=r._size,m=r._datatype;if(l.length!==f.length)throw new un(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,p=l[0],g=l[1],w=0,v=a;"string"==typeof c&&c===m&&(w=e.convert(0,_=c),v=e.find(a,[_,_]));for(var y=[],b=0;b<p;b++)y[b]=[];for(var x=[],C=[],M=0;M<g;M++){for(var E=M+1,T=h[M+1],N=h[M];N<T;N++){var k=d[N];x[k]=o?v(u[N],s[k][M]):v(s[k][M],u[N]),C[k]=E}for(var R=0;R<p;R++)y[R][M]=C[R]===E?x[R]:o?v(w,s[R][M]):v(s[R][M],w)}return i.createDenseMatrix({data:y,size:[p,g],datatype:_})}}),ab=Y("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o){var s=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype,h=a._values,f=a._index,m=a._ptr,p=a._size,g=a._datatype;if(u.length!==p.length)throw new un(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,_=u[0],w=u[1],y=t,b=0,x=o;"string"==typeof d&&d===g&&(y=e.find(t,[v=d,v]),b=e.convert(0,v),x=e.find(o,[v,v]));var R,B,D,A,C=s&&h?[]:void 0,M=[],E=[],S=C?[]:void 0,T=C?[]:void 0,N=[],k=[];for(B=0;B<w;B++){E[B]=M.length;var O=B+1;for(D=c[B],A=c[B+1];D<A;D++)M.push(R=l[D]),N[R]=O,S&&(S[R]=s[D]);for(D=m[B],A=m[B+1];D<A;D++)N[R=f[D]]!==O&&M.push(R),k[R]=O,T&&(T[R]=h[D]);if(C)for(D=E[B];D<M.length;){var I=N[R=M[D]],L=k[R];if(I===O||L===O){var z=x(I===O?S[R]:b,L===O?T[R]:b);y(z,b)?M.splice(D,1):(C.push(z),D++)}}}return E[w]=M.length,r.createSparseMatrix({values:C,index:M,ptr:E,size:[_,w],datatype:v})}}),Kr=Y("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o,s){var l=r._values,c=r._index,u=r._ptr,d=r._size,h=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=d[0],m=d[1],g=t,_=0,w=o;"string"==typeof h&&(g=e.find(t,[p=h,p]),_=e.convert(0,p),a=e.convert(a,p),w=e.find(o,[p,p]));for(var v=[],y=[],b=[],x=0;x<m;x++){b[x]=y.length;for(var M=u[x+1],E=u[x];E<M;E++){var S=c[E],T=s?w(a,l[E]):w(l[E],a);g(T,_)||(y.push(S),v.push(T))}}return b[m]=y.length,r.createSparseMatrix({values:v,index:y,ptr:b,size:[f,m],datatype:p})}}),Nr=Y("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,a,o,s){var l=r._values,c=r._index,u=r._ptr,d=r._size,h=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=d[0],m=d[1],g=o;"string"==typeof h&&(a=e.convert(a,p=h),g=e.find(o,[p,p]));for(var _=[],w=[],v=[],y=0;y<m;y++){for(var b=y+1,C=u[y+1],M=u[y];M<C;M++){var E=c[M];w[E]=l[M],v[E]=b}for(var S=0;S<f;S++)0===y&&(_[S]=[]),_[S][y]=v[S]===b?s?g(a,w[S]):g(w[S],a):s?g(a,0):g(0,a)}return new t({data:_,size:[f,m],datatype:p})}}),WMe=Y("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(r,a,o){var s=r._data,l=r._size,c=r._datatype,u=a._data,d=a._size,h=a._datatype,f=[];if(l.length!==d.length)throw new un(l.length,d.length);for(var m=0;m<l.length;m++){if(l[m]!==d[m])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");f[m]=l[m]}var p,g=o;"string"==typeof c&&c===h&&(g=e.find(o,[p=c,p]));var _=f.length>0?t(g,0,f,f[0],s,u):[];return r.createDenseMatrix({data:_,size:f,datatype:p})};function t(i,r,a,o,s,l){var c=[];if(r===a.length-1)for(var u=0;u<o;u++)c[u]=i(s[u],l[u]);else for(var d=0;d<o;d++)c[d]=t(i,r+1,a,a[r+1],s[d],l[d]);return c}}),cs=Y("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(r,a,o,s){var d,l=r._data,c=r._size,u=r._datatype,h=o;"string"==typeof u&&(a=e.convert(a,d=u),h=e.find(o,[d,d]));var f=c.length>0?t(h,0,c,c[0],l,a,s):[];return r.createDenseMatrix({data:f,size:Lt(c),datatype:d})};function t(i,r,a,o,s,l,c){var u=[];if(r===a.length-1)for(var d=0;d<o;d++)u[d]=c?i(l,s[d]):i(s[d],l);else for(var h=0;h<o;h++)u[h]=t(i,r+1,a,a[r+1],s[h],l,c);return u}}),yi=Y("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,i=WMe({typed:e}),r=cs({typed:e});return function(o){var c,s=o.elop,l=o.SD||o.DS;s?(c={"DenseMatrix, DenseMatrix":(f,m)=>i(f,m,s),"Array, Array":(f,m)=>i(t(f),t(m),s).valueOf(),"Array, DenseMatrix":(f,m)=>i(t(f),m,s),"DenseMatrix, Array":(f,m)=>i(f,t(m),s)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(f,m)=>o.SS(f,m,s,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(f,m)=>o.DS(f,m,s,!1),c["Array, SparseMatrix"]=(f,m)=>o.DS(t(f),m,s,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(f,m)=>l(m,f,s,!0),c["SparseMatrix, Array"]=(f,m)=>l(t(m),f,s,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(f=>(m,p)=>i(m,p,f)),"Array, Array":e.referToSelf(f=>(m,p)=>i(t(m),t(p),f).valueOf()),"Array, DenseMatrix":e.referToSelf(f=>(m,p)=>i(t(m),p,f)),"DenseMatrix, Array":e.referToSelf(f=>(m,p)=>i(m,t(p),f))},o.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(f=>(m,p)=>o.SS(m,p,f,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(f=>(m,p)=>o.DS(m,p,f,!1)),c["Array, SparseMatrix"]=e.referToSelf(f=>(m,p)=>o.DS(t(m),p,f,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(f=>(m,p)=>l(p,m,f,!0)),c["SparseMatrix, Array"]=e.referToSelf(f=>(m,p)=>l(t(p),m,f,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(s?(c["DenseMatrix,"+u]=(f,m)=>r(f,m,s,!1),c[u+", DenseMatrix"]=(f,m)=>r(m,f,s,!0),c["Array,"+u]=(f,m)=>r(t(f),m,s,!1).valueOf(),c[u+", Array"]=(f,m)=>r(t(m),f,s,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(f=>(m,p)=>r(m,p,f,!1)),c[u+", DenseMatrix"]=e.referToSelf(f=>(m,p)=>r(p,m,f,!0)),c["Array,"+u]=e.referToSelf(f=>(m,p)=>r(t(m),p,f,!1).valueOf()),c[u+", Array"]=e.referToSelf(f=>(m,p)=>r(t(p),m,f,!0).valueOf())));var h=void 0!==o.sS?o.sS:o.Ss;return s?(o.Ss&&(c["SparseMatrix,"+u]=(f,m)=>o.Ss(f,m,s,!1)),h&&(c[u+", SparseMatrix"]=(f,m)=>h(m,f,s,!0))):(o.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(f=>(m,p)=>o.Ss(m,p,f,!1))),h&&(c[u+", SparseMatrix"]=e.referToSelf(f=>(m,p)=>h(p,m,f,!0)))),s&&s.signatures&&oB(c,s.signatures),c}}),KMe=Y("mod",["typed","matrix","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r}=n,a=ls({typed:e,equalScalar:i}),o=Ta({typed:e}),s=ab({typed:e,equalScalar:i}),l=Kr({typed:e,equalScalar:i}),c=Nr({typed:e,DenseMatrix:r});return e("mod",{"number, number":l5,"BigNumber, BigNumber":function(h,f){if(f.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return f.isZero()?h:h.mod(f)},"Fraction, Fraction":function(h,f){if(f.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return h.compare(0)>=0?h.mod(f):h.mod(f).add(f).mod(f)}},yi({typed:e,matrix:t})({SS:s,DS:o,SD:a,Ss:l,sS:c}))}),Mc=Y("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(i,r,a,o){var s=i._data,l=i._size,c=i._datatype,u=r._values,d=r._index,h=r._ptr,f=r._size,m=r._datatype;if(l.length!==f.length)throw new un(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,y,p=l[0],g=l[1],_="string"==typeof c&&c===m?c:void 0,w=_?e.find(a,[_,_]):a,b=[];for(v=0;v<p;v++)b[v]=[];var x=[],C=[];for(y=0;y<g;y++){for(var M=y+1,S=h[y+1],T=h[y];T<S;T++)x[v=d[T]]=o?w(u[T],s[v][y]):w(s[v][y],u[T]),C[v]=M;for(v=0;v<p;v++)b[v][y]=C[v]===M?x[v]:s[v][y]}return i.createDenseMatrix({data:b,size:[p,g],datatype:_})}}),ob=Y("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o){var s=r._values,l=r._size,c=r._datatype,u=a._values,d=a._size,h=a._datatype;if(l.length!==d.length)throw new un(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var p,f=l[0],m=l[1],g=t,_=0,w=o;"string"==typeof c&&c===h&&(g=e.find(t,[p=c,p]),_=e.convert(0,p),w=e.find(o,[p,p]));for(var v=s&&u?[]:void 0,y=[],b=[],x=v?[]:void 0,C=[],M=[],E=0;E<m;E++){b[E]=y.length;var S=E+1;if(OB(r,E,C,x,M,S,y,w),OB(a,E,C,x,M,S,y,w),x)for(var T=b[E];T<y.length;){var N=y[T];if(M[N]===S){var k=x[N];g(k,_)?y.splice(T,1):(v.push(k),T++)}else y.splice(T,1)}else for(var R=b[E];R<y.length;)M[y[R]]!==S?y.splice(R,1):R++}return b[m]=y.length,r.createSparseMatrix({values:v,index:y,ptr:b,size:[f,m],datatype:p})}}),fz="nthRoot",iSe=Y(fz,["typed","matrix","equalScalar","BigNumber"],n=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:r}=n,a=Mc({typed:e}),o=ls({typed:e,equalScalar:i}),s=ob({typed:e,equalScalar:i}),l=Kr({typed:e,equalScalar:i}),c=yi({typed:e,matrix:t});function u(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(fz,{number:c5,"number, number":c5,BigNumber:h=>d(h,new r(2)),"BigNumber, BigNumber":d,Complex:u,"Complex, number":u,Array:e.referTo("DenseMatrix,number",h=>f=>h(t(f),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",h=>f=>h(f,2)),SparseMatrix:e.referTo("SparseMatrix,number",h=>f=>h(f,2)),"SparseMatrix, SparseMatrix":e.referToSelf(h=>(f,m)=>{if(1===m.density())return s(f,m,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(h=>(f,m)=>{if(1===m.density())return a(f,m,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",h=>(f,m)=>h(t(f),m)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(f,m)=>{if(1===m.density())return l(m,f,h,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:l,sS:!1}));function d(h,f){var m=r.precision,p=r.clone({precision:m+2}),g=new r(0),_=new p(1),w=f.isNegative();if(w&&(f=f.neg()),f.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!f.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return w?new p(1/0):0;if(!h.isFinite())return w?g:h;var v=h.abs().pow(_.div(f));return v=h.isNeg()?v.neg():v,new r((w?_.div(v):v).toPrecision(m))}}),oSe=Y("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:i}=n,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):fE,Fraction:i?o=>i(o):BB};return function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(void 0!==c)throw new SyntaxError("numeric() takes one or two arguments");var u=Ti(s);if(!(u in r))throw new TypeError("Cannot convert "+s+' of type "'+u+'"; valid input types are '+Object.keys(r).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===u?s:a[l](s)}}),lSe=Y("or",["typed","matrix","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=ab({typed:e,equalScalar:i}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:t});return e("or",{"number, number":D8,"Complex, Complex":function(u,d){return 0!==u.re||0!==u.im||0!==d.re||0!==d.im},"BigNumber, BigNumber":function(u,d){return!u.isZero()&&!u.isNaN()||!d.isZero()&&!d.isNaN()},"Unit, Unit":e.referToSelf(c=>(u,d)=>c(u.value||0,d.value||0))},l({SS:o,DS:a,Ss:s}))}),uSe=Y("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:i,numeric:r}=n;return e("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(Nl(o,function(l){try{s=void 0===s?l:i(s,l)}catch(c){throw Aa(c,"prod",l)}}),"string"==typeof s&&(s=r(s,t.number)),void 0===s)throw new Error("Cannot calculate prod of an empty array");return s}}),gz="reshape",hSe=Y(gz,["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e(gz,{"Matrix, Array":function(r,a){return r.reshape(a,!0)},"Array, Array":function(r,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),wB(r,a)}})}),mSe=Y("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:i}=n;return e("size",{Matrix:function(a){return a.create(a.size())},Array:_n,string:function(a){return"Array"===t.matrix?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return"Array"===t.matrix?[]:i?i([]):zB()}})}),Os=Y("matAlgo07xSSf",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(a,o,s){var l=a._size,c=a._datatype,u=o._size,d=o._datatype;if(l.length!==u.length)throw new un(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var m,h=l[0],f=l[1],p=0,g=s;"string"==typeof c&&c===d&&(p=e.convert(0,m=c),g=e.find(s,[m,m]));var _,w,v=[];for(_=0;_<h;_++)v[_]=[];var y=[],b=[],x=[],C=[];for(w=0;w<f;w++){var M=w+1;for(i(a,w,x,y,M),i(o,w,C,b,M),_=0;_<h;_++)v[_][w]=g(x[_]===M?y[_]:p,C[_]===M?b[_]:p)}return new t({data:v,size:[h,f],datatype:m})};function i(r,a,o,s,l){for(var c=r._values,u=r._index,d=r._ptr,h=d[a],f=d[a+1];h<f;h++){var m=u[h];o[m]=l,s[m]=c[h]}}}),sb="smaller",_Se=Y(sb,["typed","config","matrix","DenseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=Os({typed:e,DenseMatrix:r}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:i}),c=df({typed:e});return e(sb,ySe({typed:e,config:t}),{"boolean, boolean":(u,d)=>u<d,"BigNumber, BigNumber":function(d,h){return d.lt(h)&&!Rs(d,h,t.epsilon)},"Fraction, Fraction":(u,d)=>-1===u.compare(d),"Complex, Complex":function(d,h){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:o,DS:a,Ss:s}))}),ySe=Y(sb,["typed","config"],n=>{var{typed:e,config:t}=n;return e(sb,{"number, number":function(r,a){return r<a&&!ao(r,a,t.epsilon)}})}),_z="squeeze",xSe=Y(_z,["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e(_z,{Array:function(r){return xy(Lt(r))},Matrix:function(r){var a=xy(r.toArray());return Array.isArray(a)?t(a):a},any:function(r){return Lt(r)}})}),zu=Y("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,a,o,s){var l=r._values,c=r._index,u=r._ptr,d=r._size,h=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=d[0],m=d[1],g=o;"string"==typeof h&&(a=e.convert(a,p=h),g=e.find(o,[p,p]));for(var _=[],w=[],v=[],y=0;y<m;y++){for(var b=y+1,C=u[y+1],M=u[y];M<C;M++){var E=c[M];w[E]=l[M],v[E]=b}for(var S=0;S<f;S++)0===y&&(_[S]=[]),_[S][y]=v[S]===b?s?g(a,w[S]):g(w[S],a):a}return new t({data:_,size:[f,m],datatype:p})}}),yz="subtract",CSe=Y(yz,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:o}=n,s=Mc({typed:e}),l=Ta({typed:e}),c=ab({typed:e,equalScalar:i}),u=zu({typed:e,DenseMatrix:o}),d=Nr({typed:e,DenseMatrix:o}),h=yi({typed:e,matrix:t});return e(yz,{"number, number":(f,m)=>f-m,"Complex, Complex":(f,m)=>f.sub(m),"BigNumber, BigNumber":(f,m)=>f.minus(m),"Fraction, Fraction":(f,m)=>f.sub(m),"Unit, Unit":e.referToSelf(f=>(m,p)=>{if(null===m.value)throw new Error("Parameter x contains a unit with undefined value");if(null===p.value)throw new Error("Parameter y contains a unit with undefined value");if(!m.equalBase(p))throw new Error("Units do not match");var g=m.clone();return g.value=e.find(f,[g.valueType(),p.valueType()])(g.value,p.value),g.fixPrefix=!1,g})},h({SS:c,DS:s,SD:l,Ss:d,sS:u}))}),DSe=Y("to",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("to",{"Unit, Unit | string":(r,a)=>r.to(a)},yi({typed:e,matrix:t})({Ds:!0}))}),xz="transpose",TSe=Y(xz,["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e(xz,{Array:o=>i(t(o)).valueOf(),Matrix:i,any:Lt});function i(o){var l,s=o.size();switch(s.length){case 1:l=o.clone();break;case 2:var c=s[0],u=s[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+nn(s)+")");switch(o.storage()){case"dense":l=function r(o,s,l){for(var d,c=o._data,u=[],h=0;h<l;h++){d=u[h]=[];for(var f=0;f<s;f++)d[f]=Lt(c[f][h])}return o.createDenseMatrix({data:u,size:[l,s],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function a(o,s,l){for(var c=o._values,u=o._index,d=o._ptr,h=c?[]:void 0,f=[],m=[],p=[],g=0;g<s;g++)p[g]=0;var _,w,v;for(_=0,w=u.length;_<w;_++)p[u[_]]++;for(var y=0,b=0;b<s;b++)m.push(y),y+=p[b],p[b]=m[b];for(m.push(y),v=0;v<l;v++)for(var C=d[v+1],M=d[v];M<C;M++){var E=p[u[M]]++;f[E]=v,c&&(h[E]=Lt(c[M]))}return o.createSparseMatrix({values:h,index:f,ptr:m,size:[l,s],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+nn(s)+")")}return l}}),ISe=Y("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("xgcd",{"number, number":function(s,l){var c=d5(s,l);return"Array"===t.matrix?c:i(c)},"BigNumber, BigNumber":function a(o,s){var l,c,u,_,d=new r(0),h=new r(1),f=d,m=h,p=h,g=d;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)c=o.div(s).floor(),u=o.mod(s),l=f,f=m.minus(c.times(f)),m=l,l=p,p=g.minus(c.times(p)),g=l,o=s,s=u;return _=o.lt(d)?[o.neg(),m.neg(),g.neg()]:[o,o.isZero()?0:m,g],"Array"===t.matrix?_:i(_)}})}),kSe=Y("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("zeros",{"":function(){return"Array"===t.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return a(c,d)}return"Array"===t.matrix?a(c):a(c,"default")},Array:a,Matrix:function(c){var u=c.storage();return a(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return a(c.valueOf(),u)}});function a(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,h){Mn(u)&&(c=!0,h[d]=u.toNumber())}),c}(l),d=u?new r(0):0;if(function s(l){l.forEach(function(c){if("number"!=typeof c||!Et(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var h=i(c);return l.length>0?h.resize(l,d):h}var f=[];return l.length>0?nf(f,l,d):f}}),OSe=Y("and",["typed","matrix","equalScalar","zeros","not"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,not:a}=n,o=ls({typed:e,equalScalar:i}),s=ob({typed:e,equalScalar:i}),l=Kr({typed:e,equalScalar:i}),c=cs({typed:e}),u=yi({typed:e,matrix:t});return e("and",{"number, number":T8,"Complex, Complex":function(h,f){return!(0===h.re&&0===h.im||0===f.re&&0===f.im)},"BigNumber, BigNumber":function(h,f){return!(h.isZero()||f.isZero()||h.isNaN()||f.isNaN())},"Unit, Unit":e.referToSelf(d=>(h,f)=>d(h.value||0,f.value||0)),"SparseMatrix, any":e.referToSelf(d=>(h,f)=>a(f)?r(h.size(),h.storage()):l(h,f,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(h,f)=>a(f)?r(h.size(),h.storage()):c(h,f,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(h,f)=>a(h)?r(h.size(),h.storage()):l(f,h,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(h,f)=>a(h)?r(h.size(),h.storage()):c(f,h,d,!0)),"Array, any":e.referToSelf(d=>(h,f)=>d(t(h),f).valueOf()),"any, Array":e.referToSelf(d=>(h,f)=>d(h,t(f)).valueOf())},u({SS:s,DS:o}))}),LSe=Y("bitAnd",["typed","matrix","equalScalar"],n=>{var{typed:e,matrix:t,equalScalar:i}=n,r=ls({typed:e,equalScalar:i}),a=ob({typed:e,equalScalar:i}),o=Kr({typed:e,equalScalar:i});return e("bitAnd",{"number, number":z5,"BigNumber, BigNumber":kxe},yi({typed:e,matrix:t})({SS:a,DS:r,Ss:o}))}),zSe=Y("bitXor",["typed","matrix","DenseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i}=n,r=Ta({typed:e}),a=Os({typed:e,DenseMatrix:i}),o=Nr({typed:e,DenseMatrix:i});return e("bitXor",{"number, number":H5,"BigNumber, BigNumber":Oxe},yi({typed:e,matrix:t})({SS:a,DS:r,Ss:o}))}),VSe=Y("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:i,unaryMinus:r,matrix:a,Complex:o,BigNumber:s,Fraction:l}=n;return t("cbrt",{number:eg,Complex:c,"Complex, boolean":c,BigNumber:function(h){return h.cbrt()},Unit:function u(d){if(d.value&&Cl(d.value)){var h=d.clone();return h.value=1,(h=h.pow(1/3)).value=c(d.value),h}var m,f=i(d.value);f&&(d.value=r(d.value)),m=Mn(d.value)?new s(1).div(3):qp(d.value)?new l(1,3):1/3;var p=d.pow(m);return f&&(p.value=r(p.value)),p}});function c(d,h){var f=d.arg()/3,m=d.abs(),p=new o(eg(m),0).mul(new o(0,f).exp());if(h){var g=[p,new o(eg(m),0).mul(new o(0,f+2*Math.PI/3).exp()),new o(eg(m),0).mul(new o(0,f-2*Math.PI/3).exp())];return"Array"===e.matrix?g:a(g)}return p}}),lb="compare",GSe=Y(lb,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],n=>{var{typed:e,config:t,equalScalar:i,matrix:r,BigNumber:a,Fraction:o,DenseMatrix:s}=n,l=Ta({typed:e}),c=ab({typed:e,equalScalar:i}),u=Nr({typed:e,DenseMatrix:s}),d=yi({typed:e,matrix:r}),h=df({typed:e});return e(lb,qSe({typed:e,config:t}),{"boolean, boolean":function(m,p){return m===p?0:m>p?1:-1},"BigNumber, BigNumber":function(m,p){return Rs(m,p,t.epsilon)?new a(0):new a(m.cmp(p))},"Fraction, Fraction":function(m,p){return new o(m.compare(p))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,d({SS:c,DS:l,Ss:u}))}),qSe=Y(lb,["typed","config"],n=>{var{typed:e,config:t}=n;return e(lb,{"number, number":function(r,a){return ao(r,a,t.epsilon)?0:r>a?1:-1}})}),Az="compareText",WSe=["typed","matrix"];aE.signature="any, any";var $Se=Y(Az,WSe,n=>{var{typed:e,matrix:t}=n,i=yi({typed:e,matrix:t});return e(Az,aE,i({elop:aE,Ds:!0}))}),XSe=Y("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:i}=n;return e("count",{string:function(a){return a.length},"Matrix | Array":function(a){return i(t(a))}})}),Nz="ctranspose",ZSe=Y(Nz,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:i}=n;return e(Nz,{any:function(a){return i(t(a))}})}),QSe=Y("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i,SparseMatrix:r}=n;return e("diag",{Array:function(c){return a(c,0,_n(c),null)},"Array, number":function(c,u){return a(c,u,_n(c),null)},"Array, BigNumber":function(c,u){return a(c,u.toNumber(),_n(c),null)},"Array, string":function(c,u){return a(c,0,_n(c),u)},"Array, number, string":function(c,u,d){return a(c,u,_n(c),d)},"Array, BigNumber, string":function(c,u,d){return a(c,u.toNumber(),_n(c),d)},Matrix:function(c){return a(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return a(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return a(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return a(c,0,c.size(),u)},"Matrix, number, string":function(c,u,d){return a(c,u,c.size(),d)},"Matrix, BigNumber, string":function(c,u,d){return a(c,u.toNumber(),c.size(),d)}});function a(l,c,u,d){if(!Et(c))throw new TypeError("Second parameter in function diag must be an integer");var h=c>0?c:0,f=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,d,h,f){var m=[d+h,d+f];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var p="sparse"===u?r.diagonal(m,l,c):i.diagonal(m,l,c);return null!==u?p:p.valueOf()}(l,c,d,u[0],f,h);case 2:return function s(l,c,u,d,h,f){if(Ht(l)){var m=l.diagonal(c);return null!==u?u!==m.storage()?t(m,u):m:m.valueOf()}for(var p=Math.min(d[0]-h,d[1]-f),g=[],_=0;_<p;_++)g[_]=l[_+h][_+f];return null!==u?t(g):g}(l,c,d,u,f,h)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),Fz="divideScalar",eCe=Y(Fz,["typed","numeric"],n=>{var{typed:e}=n;return e(Fz,{"number, number":function(r,a){return r/a},"Complex, Complex":function(r,a){return r.div(a)},"BigNumber, BigNumber":function(r,a){return r.div(a)},"Fraction, Fraction":function(r,a){return r.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,r)=>i.divide(r),"number | Fraction | Complex | BigNumber, Unit":(i,r)=>r.divideInto(i)})}),kz="dotDivide",nCe=Y(kz,["typed","matrix","equalScalar","divideScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,divideScalar:r,DenseMatrix:a}=n,o=ls({typed:e,equalScalar:i}),s=Ta({typed:e}),l=Os({typed:e,DenseMatrix:a}),c=Kr({typed:e,equalScalar:i}),u=Nr({typed:e,DenseMatrix:a}),d=yi({typed:e,matrix:t});return e(kz,d({elop:r,SS:l,DS:s,SD:o,Ss:c,sS:u}))}),cb="equal",rCe=Y(cb,["typed","matrix","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=Os({typed:e,DenseMatrix:r}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:t});return e(cb,aCe({typed:e,equalScalar:i}),l({elop:i,SS:o,DS:a,Ss:s}))}),aCe=Y(cb,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(cb,{"any, any":function(r,a){return null===r?null===a:null===a?null===r:void 0===r?void 0===a:void 0===a?void 0===r:t(r,a)}})}),sCe=Y("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i"],n=>{var{typed:e,addScalar:i,multiplyScalar:r,divideScalar:a,exp:o,tau:s,i:l}=n;return e("fft",{Array:c,Matrix:function(f){return f.create(c(f.toArray()))}});function c(h){var f=_n(h);return 1===f.length?d(h):u(h.map(m=>c(m,f.slice(1))),0)}function u(h,f){var m=_n(h);if(0!==f)return new Array(m[0]).fill(0).map((g,_)=>u(h[_],f-1));if(1===m.length)return d(h);function p(g){var _=_n(g);return new Array(_[1]).fill(0).map((w,v)=>new Array(_[0]).fill(0).map((y,b)=>g[b][v]))}return p(u(p(h),1))}function d(h){var f=h.length;if(1===f)return[h[0]];if(f%2==0){for(var m=[...d(h.filter((w,v)=>v%2==0)),...d(h.filter((w,v)=>v%2==1))],p=0;p<f/2;p++){var g=m[p],_=r(m[p+f/2],o(r(r(s,l),a(-p,f))));m[p]=i(g,_),m[p+f/2]=i(g,r(-1,_))}return m}throw new Error("Can only calculate FFT of power-of-two size")}}),Oz="flatten",cCe=Y(Oz,["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e(Oz,{Array:function(r){return Un(r)},Matrix:function(r){var a=Un(r.toArray());return t(a)}})}),TE=Y("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o){var s=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype,h=a._values,f=a._index,m=a._ptr,p=a._size,g=a._datatype;if(u.length!==p.length)throw new un(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,_=u[0],w=u[1],y=t,b=0,x=o;"string"==typeof d&&d===g&&(y=e.find(t,[v=d,v]),b=e.convert(0,v),x=e.find(o,[v,v]));var R,B,D,O,C=s&&h?[]:void 0,M=[],E=[],S=s&&h?[]:void 0,T=s&&h?[]:void 0,N=[],k=[];for(B=0;B<w;B++){E[B]=M.length;var I=B+1;for(O=c[B+1],D=c[B];D<O;D++)M.push(R=l[D]),N[R]=I,S&&(S[R]=s[D]);for(O=m[B+1],D=m[B];D<O;D++)if(N[R=f[D]]===I){if(S){var L=x(S[R],h[D]);y(L,b)?N[R]=null:S[R]=L}}else M.push(R),k[R]=I,T&&(T[R]=h[D]);if(S&&T)for(D=E[B];D<M.length;)N[R=M[D]]===I?(C[D]=S[R],D++):k[R]===I?(C[D]=T[R],D++):M.splice(D,1)}return E[w]=M.length,r.createSparseMatrix({values:C,index:M,ptr:E,size:[_,w],datatype:v})}}),fCe=Y("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:r,DenseMatrix:a}=n,o=Mc({typed:e}),s=TE({typed:e,equalScalar:i}),l=zu({typed:e,DenseMatrix:a}),c=yi({typed:e,matrix:t}),u="number | BigNumber | Fraction | Matrix | Array",d={};return d["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(f=>(m,p,g)=>{for(var _=f(m,p),w=0;w<g.length;w++)_=f(_,g[w]);return _}),e("gcd",{"number, number":r5,"BigNumber, BigNumber":function h(f,m){if(!f.isInt()||!m.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var p=new r(0);!m.isZero();){var g=f.mod(m);f=m,m=g}return f.lt(p)?f.neg():f},"Fraction, Fraction":(f,m)=>f.gcd(m)},c({SS:s,DS:o,Ss:l}),d)}),Lz="hasNumericValue",pCe=Y(Lz,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(Lz,{boolean:()=>!0,string:function(r){return r.trim().length>0&&!isNaN(Number(r))},any:function(r){return t(r)}})}),vCe=Y("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:i,divideScalar:r,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(Un(u.toArray()))});function c(u){for(var d=0,h=0,f=0;f<u.length;f++){if(Cl(u[f]))throw new TypeError("Unexpected type of argument to hypot");var m=t(u[f]);s(h,m)?(d=a(d,a(r(h,m),r(h,m))),d=i(d,1),h=m):d=i(d,l(m)?a(r(m,h),r(m,h)):m)}return a(h,o(d))}}),yCe=Y("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:i,conj:r}=n;return e("ifft",{"Array | Matrix":function(o){var s=Ht(o)?o.size():_n(o);return i(r(t(r(o))),s.reduce((l,c)=>l*c,1))}})}),xCe=Y("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:i}=n;return e("kron",{"Matrix, Matrix":function(o,s){return t(r(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return t(r(o.toArray(),s))},"Array, Matrix":function(o,s){return t(r(o,s.toArray()))},"Array, Array":r});function r(a,o){if(1===_n(a).length&&(a=[a]),1===_n(o).length&&(o=[o]),_n(a).length>2||_n(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(c){return o.map(function(u){return s.push(l=[]),c.map(function(d){return u.map(function(h){return l.push(i(d,h))})})})})&&s}}),ub="largerEq",MCe=Y(ub,["typed","config","matrix","DenseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=Os({typed:e,DenseMatrix:r}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:i}),c=df({typed:e});return e(ub,SCe({typed:e,config:t}),{"boolean, boolean":(u,d)=>u>=d,"BigNumber, BigNumber":function(d,h){return d.gte(h)||Rs(d,h,t.epsilon)},"Fraction, Fraction":(u,d)=>-1!==u.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:o,DS:a,Ss:s}))}),SCe=Y(ub,["typed","config"],n=>{var{typed:e,config:t}=n;return e(ub,{"number, number":function(r,a){return r>=a||ao(r,a,t.epsilon)}})}),NE=Y("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o){var s=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype,h=a._values,f=a._index,m=a._ptr,p=a._size,g=a._datatype;if(u.length!==p.length)throw new un(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!s||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,_=u[0],w=u[1],y=t,b=0,x=o;"string"==typeof d&&d===g&&(y=e.find(t,[v=d,v]),b=e.convert(0,v),x=e.find(o,[v,v]));for(var N,R,B,C=[],M=[],E=[],S=[],T=[],D=0;D<w;D++){E[D]=M.length;var A=D+1;for(R=c[D+1],N=c[D];N<R;N++)T[B=l[N]]=A,S[B]=s[N],M.push(B);for(R=m[D+1],N=m[D];N<R;N++)T[B=f[N]]===A&&(S[B]=x(S[B],h[N]));for(N=E[D];N<M.length;){var O=S[B=M[N]];y(O,b)?M.splice(N,1):(C.push(O),N++)}}return E[w]=M.length,r.createSparseMatrix({values:C,index:M,ptr:E,size:[_,w],datatype:v})}}),IE=Y("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",i=>(r,a)=>i(t(r),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",i=>(r,a)=>i(t(r),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",i=>(r,a)=>i(r,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",i=>(r,a)=>i(r,t(a)).valueOf())}}),Vz="leftShift",ACe=Y(Vz,["typed","matrix","equalScalar","zeros","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:a}=n,o=Mc({typed:e}),s=ls({typed:e,equalScalar:i}),l=NE({typed:e,equalScalar:i}),c=zu({typed:e,DenseMatrix:a}),u=Kr({typed:e,equalScalar:i}),d=cs({typed:e}),h=yi({typed:e,matrix:t}),f=IE({typed:e,matrix:t});return e(Vz,{"number, number":G5,"BigNumber, BigNumber":Pxe,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():u(p,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():d(p,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):c(g,p,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):d(g,p,m,!0))},f,h({SS:l,DS:o,SD:s}))});function ig(n){var{DenseMatrix:e}=n;return function(i,r,a){var o=i.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+nn(o)+")");var s=o[0];if(s!==o[1])throw new RangeError("Matrix must be square (size: "+nn(o)+")");var c=[];if(Ht(r)){var u=r.size(),d=r._data;if(1===u.length){if(u[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<s;h++)c[h]=[d[h]];return new e({data:c,size:[s,1],datatype:r._datatype})}if(2===u.length){if(u[0]!==s||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(my(r)){if(a){c=[];for(var f=0;f<s;f++)c[f]=[d[f][0]];return new e({data:c,size:[s,1],datatype:r._datatype})}return r}if(Ou(r)){for(var m=0;m<s;m++)c[m]=[0];for(var p=r._values,g=r._index,_=r._ptr,w=_[1],v=_[0];v<w;v++)c[g[v]][0]=p[v];return new e({data:c,size:[s,1],datatype:r._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(ui(r)){var b=_n(r);if(1===b.length){if(b[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<s;x++)c[x]=[r[x]];return new e({data:c,size:[s,1]})}if(2===b.length){if(b[0]!==s||1!==b[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<s;C++)c[C]=[r[C][0]];return new e({data:c,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var NCe=Y("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtract:a,equalScalar:o,DenseMatrix:s}=n,l=ig({DenseMatrix:s});return e("lsolve",{"SparseMatrix, Array | Matrix":function(h,f){return function u(d,h){for(var f=(h=l(d,h,!0))._data,m=d._size[0],p=d._size[1],g=d._values,_=d._index,w=d._ptr,v=[],y=0;y<p;y++){var b=f[y][0]||0;if(o(b,0))v[y]=[0];else{for(var x=0,C=[],M=[],S=w[y+1],T=w[y];T<S;T++){var N=_[T];N===y?x=g[T]:N>y&&(C.push(g[T]),M.push(N))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=i(b,x),R=0,B=M.length;R<B;R++){var D=M[R];f[D]=[a(f[D][0]||0,r(k,C[R]))]}v[y]=[k]}}return new s({data:v,size:[m,1]})}(h,f)},"DenseMatrix, Array | Matrix":function(h,f){return c(h,f)},"Array, Array | Matrix":function(h,f){return c(t(h),f).valueOf()}});function c(d,h){for(var f=(h=l(d,h,!0))._data,m=d._size[0],p=d._size[1],g=[],_=d._data,w=0;w<p;w++){var v=f[w][0]||0,y=void 0;if(o(v,0))y=0;else{var b=_[w][w];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");y=i(v,b);for(var x=w+1;x<m;x++)f[x]=[a(f[x][0]||0,r(y,_[x][w]))]}g[w]=[y]}return new s({data:g,size:[m,1]})}}),Gz="matrixFromColumns",FCe=Y(Gz,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:i,size:r}=n;return e(Gz,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(c=>c.toArray())))}});function a(s){if(0===s.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),c=[],u=0;u<l;u++)c[u]=[];for(var d of s){var h=o(d);if(h!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|h));for(var f=i(d),m=0;m<l;m++)c[m].push(f[m])}return c}function o(s){var l=r(s);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),RCe=Y("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:i}=n;return e("mode",{"Array | Matrix":r,"...":function(o){return r(o)}});function r(a){if(0===(a=Un(a.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],c=0,u=0;u<a.length;u++){var d=a[u];if(i(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===c?l.push(d):s[d]>c&&(c=s[d],l=[d])}return l}}),Wz="nthRoots",PCe=Y(Wz,["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:r}=n,a=[function(l){return new r(l,0)},function(l){return new r(0,l)},function(l){return new r(-l,0)},function(l){return new r(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===s||0===s.abs())return[new r(0,0)];var u,c="number"==typeof s;(c||0===s.re||0===s.im)&&(u=c?2*+(s<0):0===s.im?2*+(s.re<0):2*+(s.im<0)+1);for(var d=s.arg(),h=s.abs(),f=[],m=Math.pow(h,1/l),p=0;p<l;p++){var g=(u+4*p)/l;g!==Math.round(g)?f.push(new r({r:m,phi:(d+2*Math.PI*p)/l})):f.push(a[g%4](m))}return f}return e(Wz,{Complex:function(l){return o(l,2)},"Complex, number":o})}),zCe=Y("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("ones",{"":function(){return"Array"===t.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return a(c,d)}return"Array"===t.matrix?a(c):a(c,"default")},Array:a,Matrix:function(c){var u=c.storage();return a(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return a(c.valueOf(),u)}});function a(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,h){Mn(u)&&(c=!0,h[d]=u.toNumber())}),c}(l),d=u?new r(1):1;if(function s(l){l.forEach(function(c){if("number"!=typeof c||!Et(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var h=i(c);return l.length>0?h.resize(l,d):h}var f=[];return l.length>0?nf(f,l,d):f}}),$z="partitionSelect",VCe=Y($z,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:i,compare:r}=n,a=r,o=(c,u)=>-r(c,u);return e($z,{"Array | Matrix, number":function(u,d){return s(u,d,a)},"Array | Matrix, number, string":function(u,d,h){if("asc"===h)return s(u,d,a);if("desc"===h)return s(u,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(c,u,d){if(!Et(u)||u<0)throw new Error("k must be a non-negative integer");if(Ht(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,d)}if(Array.isArray(c))return l(c,u,d)}function l(c,u,d){if(u>=c.length)throw new Error("k out of bounds");for(var h=0;h<c.length;h++)if(t(c[h])&&i(c[h]))return c[h];for(var f=0,m=c.length-1;f<m;){for(var p=f,g=m,_=c[Math.floor(Math.random()*(m-f+1))+f];p<g;)if(d(c[p],_)>=0){var w=c[g];c[g]=c[p],c[p]=w,--g}else++p;d(c[p],_)>0&&--p,u<=p?m=p:f=p+1}return c[u]}});function pf(n,e,t,i){if(!(this instanceof pf))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=i,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(pf.prototype=new Error).constructor=Error,pf.prototype.name="ArgumentsError",pf.prototype.isArgumentsError=!0;var qCe=Y("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(a,o,s){if(2!==arguments.length&&3!==arguments.length)throw new pf("resize",arguments.length,2,3);if(Ht(o)&&(o=o.valueOf()),Mn(o[0])&&(o=o.map(function(u){return Mn(u)?u.toNumber():u})),Ht(a))return a.resize(o,s,!0);if("string"==typeof a)return i(a,o,s);var l=!Array.isArray(a)&&"Array"!==e.matrix;if(0===o.length){for(;Array.isArray(a);)a=a[0];return Lt(a)}Array.isArray(a)||(a=[a]);var c=nf(a=Lt(a),o,s);return l?t(c):c};function i(r,a,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==a.length)throw new un(a.length,1);var s=a[0];if("number"!=typeof s||!Et(s))throw new TypeError("Invalid size, must contain positive integers (size: "+nn(a)+")");if(r.length>s)return r.substring(0,s);if(r.length<s){for(var l=r,c=0,u=s-r.length;c<u;c++)l+=o;return l}return r}}),jz="rightArithShift",$Ce=Y(jz,["typed","matrix","equalScalar","zeros","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:a}=n,o=Mc({typed:e}),s=ls({typed:e,equalScalar:i}),l=NE({typed:e,equalScalar:i}),c=zu({typed:e,DenseMatrix:a}),u=Kr({typed:e,equalScalar:i}),d=cs({typed:e}),h=yi({typed:e,matrix:t}),f=IE({typed:e,matrix:t});return e(jz,{"number, number":q5,"BigNumber, BigNumber":Lxe,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():u(p,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():d(p,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):c(g,p,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):d(g,p,m,!0))},f,h({SS:l,DS:o,SD:s}))}),gf="Number of decimals in function round must be an integer",XCe=Y("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,BigNumber:a,DenseMatrix:o}=n,s=Kr({typed:e,equalScalar:i}),l=Nr({typed:e,DenseMatrix:o}),c=cs({typed:e});return e("round",{number:f5,"number, number":f5,"number, BigNumber":function(d,h){if(!h.isInteger())throw new TypeError(gf);return new a(d).toDecimalPlaces(h.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,h){if(h%1)throw new TypeError(gf);return d.round(h)},"Complex, BigNumber":function(d,h){if(!h.isInteger())throw new TypeError(gf);var f=h.toNumber();return d.round(f)},BigNumber:function(d){return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,h){if(!h.isInteger())throw new TypeError(gf);return d.toDecimalPlaces(h.toNumber())},Fraction:function(d){return d.round()},"Fraction, number":function(d,h){if(h%1)throw new TypeError(gf);return d.round(h)},"Fraction, BigNumber":function(d,h){if(!h.isInteger())throw new TypeError(gf);return d.round(h.toNumber())},"Array | Matrix":e.referToSelf(u=>d=>dn(d,u,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(u=>(d,h)=>s(d,h,u,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(u=>(d,h)=>c(d,h,u,!1)),"Array, number | BigNumber":e.referToSelf(u=>(d,h)=>c(t(d),h,u,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(u=>(d,h)=>i(d,0)?r(h.size(),h.storage()):l(h,d,u,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(u=>(d,h)=>i(d,0)?r(h.size(),h.storage()):c(h,d,u,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(u=>(d,h)=>c(t(h),d,u,!0).valueOf())})}),db="smallerEq",ZCe=Y(db,["typed","config","matrix","DenseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=Os({typed:e,DenseMatrix:r}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:i}),c=df({typed:e});return e(db,KCe({typed:e,config:t}),{"boolean, boolean":(u,d)=>u<=d,"BigNumber, BigNumber":function(d,h){return d.lte(h)||Rs(d,h,t.epsilon)},"Fraction, Fraction":(u,d)=>1!==u.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:o,DS:a,Ss:s}))}),KCe=Y(db,["typed","config"],n=>{var{typed:e,config:t}=n;return e(db,{"number, number":function(r,a){return r<=a||ao(r,a,t.epsilon)}})}),hb="unequal",JCe=Y(hb,["typed","config","equalScalar","matrix","DenseMatrix"],n=>{var{typed:e,equalScalar:i,matrix:r,DenseMatrix:a}=n,o=Ta({typed:e}),s=Os({typed:e,DenseMatrix:a}),l=Nr({typed:e,DenseMatrix:a}),c=yi({typed:e,matrix:r});return e(hb,eEe({typed:e,equalScalar:i}),c({elop:function u(d,h){return!i(d,h)},SS:s,DS:o,Ss:l}))}),eEe=Y(hb,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(hb,{"any, any":function(r,a){return null===r?null!==a:null===a?null!==r:void 0===r?void 0!==a:void 0===a?void 0!==r:!t(r,a)}})}),nEe=Y("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtract:a,equalScalar:o,DenseMatrix:s}=n,l=ig({DenseMatrix:s});return e("usolve",{"SparseMatrix, Array | Matrix":function(h,f){return function u(d,h){for(var f=(h=l(d,h,!0))._data,m=d._size[0],g=d._values,_=d._index,w=d._ptr,v=[],y=d._size[1]-1;y>=0;y--){var b=f[y][0]||0;if(o(b,0))v[y]=[0];else{for(var x=0,C=[],M=[],E=w[y],T=w[y+1]-1;T>=E;T--){var N=_[T];N===y?x=g[T]:N<y&&(C.push(g[T]),M.push(N))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=i(b,x),R=0,B=M.length;R<B;R++){var D=M[R];f[D]=[a(f[D][0],r(k,C[R]))]}v[y]=[k]}}return new s({data:v,size:[m,1]})}(h,f)},"DenseMatrix, Array | Matrix":function(h,f){return c(h,f)},"Array, Array | Matrix":function(h,f){return c(t(h),f).valueOf()}});function c(d,h){for(var f=(h=l(d,h,!0))._data,m=d._size[0],g=[],_=d._data,w=d._size[1]-1;w>=0;w--){var v=f[w][0]||0,y=void 0;if(o(v,0))y=0;else{var b=_[w][w];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");y=i(v,b);for(var x=w-1;x>=0;x--)f[x]=[a(f[x][0]||0,r(y,_[x][w]))]}g[w]=[y]}return new s({data:g,size:[m,1]})}}),rEe=Y("xor",["typed","matrix","DenseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i}=n,r=Ta({typed:e}),a=Os({typed:e,DenseMatrix:i}),o=Nr({typed:e,DenseMatrix:i}),s=yi({typed:e,matrix:t});return e("xor",{"number, number":A8,"Complex, Complex":function(c,u){return(0!==c.re||0!==c.im)!=(0!==u.re||0!==u.im)},"BigNumber, BigNumber":function(c,u){return(!c.isZero()&&!c.isNaN())!=(!u.isZero()&&!u.isNaN())},"Unit, Unit":e.referToSelf(l=>(c,u)=>l(c.value||0,u.value||0))},s({SS:a,DS:r,Ss:o}))}),oEe=Y("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,addScalar:i,equalScalar:r,DenseMatrix:a}=n,s=Mc({typed:e}),l=TE({typed:e,equalScalar:r}),c=zu({typed:e,DenseMatrix:a}),u=yi({typed:e,matrix:t});return e("add",{"any, any":i,"any, any, ...any":e.referToSelf(d=>(h,f,m)=>{for(var p=d(h,f),g=0;g<m.length;g++)p=d(p,m[g]);return p})},u({elop:i,DS:s,SS:l,Ss:c}))}),Qz=Y("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,a,o){var s=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype,h=a._values,f=a._index,m=a._ptr,p=a._size,g=a._datatype;if(u.length!==p.length)throw new un(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,_=u[0],w=u[1],y=t,b=0,x=o;"string"==typeof d&&d===g&&(y=e.find(t,[v=d,v]),b=e.convert(0,v),x=e.find(o,[v,v]));var N,k,R,D,C=s&&h?[]:void 0,M=[],E=[],S=C?[]:void 0,T=[];for(k=0;k<w;k++){E[k]=M.length;var A=k+1;if(S)for(D=m[k+1],R=m[k];R<D;R++)T[N=f[R]]=A,S[N]=h[R];for(D=c[k+1],R=c[k];R<D;R++)if(N=l[R],S){var I=x(s[R],T[N]===A?S[N]:b);y(I,b)||(M.push(N),C.push(I))}else M.push(N)}return E[w]=M.length,r.createSparseMatrix({values:C,index:M,ptr:E,size:[_,w],datatype:v})}}),uEe=Y("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:r,DenseMatrix:a}=n,o=ls({typed:e,equalScalar:i}),s=Ta({typed:e}),l=Qz({typed:e,equalScalar:i}),c=Kr({typed:e,equalScalar:i}),u=Nr({typed:e,DenseMatrix:a}),d=yi({typed:e,matrix:t});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(h,f)=>r.atan2(h,f)},d({scalar:"number | BigNumber",SS:l,DS:s,SD:o,Ss:c,sS:u}))}),hEe=Y("bitOr",["typed","matrix","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r}=n,a=Mc({typed:e}),o=TE({typed:e,equalScalar:i}),s=zu({typed:e,DenseMatrix:r});return e("bitOr",{"number, number":V5,"BigNumber, BigNumber":Rxe},yi({typed:e,matrix:t})({SS:o,DS:a,Ss:s}))}),t6="catalan",mEe=Y(t6,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:i,multiplyScalar:r,combinations:a,isNegative:o,isInteger:s}=n;return e(t6,{"number | BigNumber":function(c){if(!s(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return i(a(r(c,2),c),t(c,1))}})}),vf=wt(286),n6="compareNatural",gEe=Y(n6,["typed","compare"],n=>{var{typed:e,compare:t}=n,i=t.signatures["boolean,boolean"];return e(n6,{"any, any":function r(l,c){var h,u=Ti(l),d=Ti(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==d&&"BigNumber"!==d&&"Fraction"!==d))return"0"!==(h=t(l,c)).toString()?h>0?1:-1:vf(u,d);var f=["Array","DenseMatrix","SparseMatrix"];if(f.includes(u)||f.includes(d))return 0!==(h=a(r,l,c))?h:vf(u,d);if(u!==d)return vf(u,d);if("Complex"===u)return function vEe(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?r(l.value,c.value):o(r,l.formatUnits(),c.formatUnits());if("boolean"===u)return i(l,c);if("string"===u)return vf(l,c);if("Object"===u)return function s(l,c,u){var d=Object.keys(c),h=Object.keys(u);d.sort(vf),h.sort(vf);var f=o(l,d,h);if(0!==f)return f;for(var m=0;m<d.length;m++){var p=l(c[d[m]],u[h[m]]);if(0!==p)return p}return 0}(r,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function a(l,c,u){return Ou(c)&&Ou(u)?o(l,c.toJSON().values,u.toJSON().values):Ou(c)?a(l,c.toArray(),u):Ou(u)?a(l,c,u.toArray()):my(c)?a(l,c.toJSON().data,u):my(u)?a(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):a(l,c,[u]):a(l,[c],u)}function o(l,c,u){for(var d=0,h=Math.min(c.length,u.length);d<h;d++){var f=l(c[d],u[d]);if(0!==f)return f}return c.length>u.length?1:c.length<u.length?-1:0}}),i6="deepEqual",yEe=Y(i6,["typed","equal"],n=>{var{typed:e,equal:t}=n;return e(i6,{"any, any":function(a,o){return i(a.valueOf(),o.valueOf())}});function i(r,a){if(Array.isArray(r)){if(Array.isArray(a)){var o=r.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!i(r[s],a[s]))return!1;return!0}return!1}return!Array.isArray(a)&&t(r,a)}}),xEe=Y("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:r,size:a}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function s(u,d){var h=o(u,d),f=Ht(u)?u._data:u,m=Ht(u)?u._datatype:void 0,p=Ht(d)?d._data:d,g=Ht(d)?d._datatype:void 0,_=2===c(u).length,w=2===c(d).length,v=t,y=i;if(m&&g&&m===g&&"string"==typeof m){var b=m;v=e.find(t,[b,b]),y=e.find(i,[b,b])}if(!_&&!w){for(var x=y(r(f[0]),p[0]),C=1;C<h;C++)x=v(x,y(r(f[C]),p[C]));return x}if(!_&&w){for(var M=y(r(f[0]),p[0][0]),E=1;E<h;E++)M=v(M,y(r(f[E]),p[E][0]));return M}if(_&&!w){for(var S=y(r(f[0][0]),p[0]),T=1;T<h;T++)S=v(S,y(r(f[T][0]),p[T]));return S}if(_&&w){for(var N=y(r(f[0][0]),p[0][0]),k=1;k<h;k++)N=v(N,y(r(f[k][0]),p[k][0]));return N}},"SparseMatrix, SparseMatrix":function l(u,d){o(u,d);for(var h=u._index,f=u._values,m=d._index,p=d._values,g=0,_=t,w=i,v=0,y=0;v<h.length&&y<m.length;){var b=h[v],x=m[y];b<x?v++:b>x?y++:b===x&&(g=_(g,w(f[v],p[y])),v++,y++)}return g}});function o(u,d){var m,p,h=c(u),f=c(d);if(1===h.length)m=h[0];else{if(2!==h.length||1!==h[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");m=h[0]}if(1===f.length)p=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");p=f[0]}if(m!==p)throw new RangeError("Vectors must have equal length ("+m+" != "+p+")");if(0===m)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function c(u){return Ht(u)?u.size():a(u)}}),a6="equalText",MEe=Y(a6,["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:i}=n;return e(a6,{"any, any":function(a,o){return i(t(a,o))}})}),FE="floor",SEe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],CEe=Y(FE,["typed","config","round"],n=>{var{typed:e,config:t,round:i}=n;return e(FE,{number:function(a){return ao(a,i(a),t.epsilon)?i(a):Math.floor(a)},"number, number":function(a,o){if(ao(a,i(a,o),t.epsilon))return i(a,o);var[s,l]="".concat(a,"e").split("e"),c=Math.floor(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(c,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),EEe=Y(FE,SEe,n=>{var{typed:e,config:t,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:s}=n,l=Kr({typed:e,equalScalar:a}),c=Nr({typed:e,DenseMatrix:s}),u=cs({typed:e}),d=CEe({typed:e,config:t,round:i});return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(f){return f.floor()},"Complex, number":function(f,m){return f.floor(m)},"Complex, BigNumber":function(f,m){return f.floor(m.toNumber())},BigNumber:function(f){return Rs(f,i(f),t.epsilon)?i(f):f.floor()},"BigNumber, BigNumber":function(f,m){return Rs(f,i(f,m),t.epsilon)?i(f,m):f.toDecimalPlaces(m.toNumber(),Ky.ROUND_FLOOR)},Fraction:function(f){return f.floor()},"Fraction, number":function(f,m){return f.floor(m)},"Fraction, BigNumber":function(f,m){return f.floor(m.toNumber())},"Array | Matrix":e.referToSelf(h=>f=>dn(f,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(f,m)=>dn(f,p=>h(p,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(f,m)=>l(f,m,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(f,m)=>u(f,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(f,m)=>u(r(m),f,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(f,m)=>a(f,0)?o(m.size(),m.storage()):"dense"===m.storage()?u(m,f,h,!0):c(m,f,h,!0))})}),o6="identity",AEe=Y(o6,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r,DenseMatrix:a,SparseMatrix:o}=n;return e(o6,{"":function(){return"Matrix"===t.matrix?i([]):[]},string:function(u){return i(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(u,d){return l(u,u,d)},"number | BigNumber, number | BigNumber":function(u,d){return l(u,d,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,d,h){return l(u,d,h)},Array:function(u){return s(u)},"Array, string":function(u,d){return s(u,d)},Matrix:function(u){return s(u.valueOf(),u.storage())},"Matrix, string":function(u,d){return s(u.valueOf(),d)}});function s(c,u){switch(c.length){case 0:return u?i(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,d){var h=Mn(c)||Mn(u)?r:null;if(Mn(c)&&(c=c.toNumber()),Mn(u)&&(u=u.toNumber()),!Et(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Et(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var f=h?new r(1):1,m=h?new h(0):0,p=[c,u];if(d){if("sparse"===d)return o.diagonal(p,f,0,m);if("dense"===d)return a.diagonal(p,f,0,m);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var g=nf([],p,m),_=c<u?c:u,w=0;w<_;w++)g[w][w]=f;return g}}),NEe=Y("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:i,xgcd:r,equal:a,smaller:o,mod:s,add:l,isInteger:c}=n;return e("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(d,h){if(!c(d)||!c(h))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,h),a(h,0))throw new Error("Divisor must be non zero");var f=r(d,h);f=f.valueOf();var[m,p]=f;return a(m,i(1))?(p=s(p,h),o(p,i(0))&&(p=l(p,h)),p):NaN}}),fb="larger",FEe=Y(fb,["typed","config","matrix","DenseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r}=n,a=Ta({typed:e}),o=Os({typed:e,DenseMatrix:r}),s=Nr({typed:e,DenseMatrix:r}),l=yi({typed:e,matrix:i}),c=df({typed:e});return e(fb,kEe({typed:e,config:t}),{"boolean, boolean":(u,d)=>u>d,"BigNumber, BigNumber":function(d,h){return d.gt(h)&&!Rs(d,h,t.epsilon)},"Fraction, Fraction":(u,d)=>1===u.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:o,DS:a,Ss:s}))}),kEe=Y(fb,["typed","config"],n=>{var{typed:e,config:t}=n;return e(fb,{"number, number":function(r,a){return r>a&&!ao(r,a,t.epsilon)}})}),OEe=Y("log",["config","typed","divideScalar","Complex"],n=>{var{typed:e,config:t,divideScalar:i,Complex:r}=n;return e("log",{number:function(o){return o>=0||t.predictable?function $be(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(o):new r(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new r(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,s)=>i(a(o),a(s)))})}),c6="lsolveAll",LEe=Y(c6,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtract:a,equalScalar:o,DenseMatrix:s}=n,l=ig({DenseMatrix:s});return e(c6,{"SparseMatrix, Array | Matrix":function(h,f){return function u(d,h){for(var f=[l(d,h,!0)._data.map(q=>q[0])],m=d._size[0],p=d._size[1],g=d._values,_=d._index,w=d._ptr,v=0;v<p;v++)for(var y=f.length,b=0;b<y;b++){for(var x=f[b],C=[],M=[],S=w[v+1],T=0,N=w[v];N<S;N++){var k=_[N];k===v?T=g[N]:k>v&&(C.push(g[N]),M.push(k))}if(o(T,0))if(o(x[v],0)){if(0===b){var A=[...x];A[v]=1;for(var O=0,I=M.length;O<I;O++){var L=M[O];A[L]=a(A[L],C[O])}f.push(A)}}else{if(0===b)return[];f.splice(b,1),b-=1,y-=1}else{x[v]=i(x[v],T);for(var R=0,B=M.length;R<B;R++){var D=M[R];x[D]=a(x[D],r(x[v],C[R]))}}}return f.map(q=>new s({data:q.map(G=>[G]),size:[m,1]}))}(h,f)},"DenseMatrix, Array | Matrix":function(h,f){return c(h,f)},"Array, Array | Matrix":function(h,f){return c(t(h),f).map(g=>g.valueOf())}});function c(d,h){for(var f=[l(d,h,!0)._data.map(M=>M[0])],m=d._data,p=d._size[0],g=d._size[1],_=0;_<g;_++)for(var w=f.length,v=0;v<w;v++){var y=f[v];if(o(m[_][_],0))if(o(y[_],0)){if(0===v){var x=[...y];x[_]=1;for(var C=_+1;C<g;C++)x[C]=a(x[C],m[C][_]);f.push(x)}}else{if(0===v)return[];f.splice(v,1),v-=1,w-=1}else{y[_]=i(y[_],m[_][_]);for(var b=_+1;b<g;b++)y[b]=a(y[b],r(y[_],m[b][_]))}}return f.map(M=>new s({data:M.map(E=>[E]),size:[p,1]}))}}),u6="matrixFromRows",zEe=Y(u6,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:i,size:r}=n;return e(u6,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(c=>c.toArray())))}});function a(s){if(0===s.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),c=[];for(var u of s){var d=o(u);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));c.push(i(u))}return c}function o(s){var l=r(s);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),d6="multiply",VEe=Y(d6,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:r,equalScalar:a,dot:o}=n,s=Kr({typed:e,equalScalar:a}),l=cs({typed:e});function c(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function p(b,x){var R,C=b._data,M=b._size,E=b._datatype,S=x._data,T=x._datatype,N=M[0],k=M[1],B=i,D=r;E&&T&&E===T&&"string"==typeof E&&(B=e.find(i,[R=E,R]),D=e.find(r,[R,R]));for(var A=[],O=0;O<N;O++){for(var I=C[O],L=D(I[0],S[0]),q=1;q<k;q++)L=B(L,D(I[q],S[q]));A[O]=L}return b.createDenseMatrix({data:A,size:[N],datatype:R})},"SparseMatrix, any":function w(b,x){var C=b._values,M=b._index,E=b._ptr,S=b._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,T=x._data,N=x._datatype,k=b._size[0],R=x._size[0],B=[],D=[],A=[],I=i,L=r,q=a,G=0;S&&N&&S===N&&"string"==typeof S&&(I=e.find(i,[O=S,O]),L=e.find(r,[O,O]),q=e.find(a,[O,O]),G=e.convert(0,O));var z=[],$=[];A[0]=0;for(var ae=0;ae<R;ae++){var K=T[ae];if(!q(K,G))for(var ye=E[ae+1],ge=E[ae];ge<ye;ge++){var re=M[ge];$[re]?z[re]=I(z[re],L(K,C[ge])):($[re]=!0,D.push(re),z[re]=L(K,C[ge]))}}for(var Ie=D.length,be=0;be<Ie;be++)B[be]=z[D[be]];return A[1]=D.length,b.createSparseMatrix({values:B,index:D,ptr:A,size:[k,1],datatype:O})}}),m=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function g(b,x){var D,C=b._data,M=b._size,E=b._datatype,S=x._data,N=x._datatype,k=M[0],R=M[1],B=x._size[1],A=i,O=r;E&&N&&E===N&&"string"==typeof E&&(A=e.find(i,[D=E,D]),O=e.find(r,[D,D]));for(var I=[],L=0;L<k;L++){var q=C[L];I[L]=[];for(var G=0;G<B;G++){for(var z=O(q[0],S[0][G]),$=1;$<R;$++)z=A(z,O(q[$],S[$][G]));I[L][G]=z}}return b.createDenseMatrix({data:I,size:[k,B],datatype:D})},"DenseMatrix, SparseMatrix":function _(b,x){var C=b._data,M=b._size,E=b._datatype,S=x._values,T=x._index,N=x._ptr,k=x._size,R=x._datatype;if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var A,B=M[0],D=k[1],O=i,I=r,L=a,q=0;E&&R&&E===R&&"string"==typeof E&&(O=e.find(i,[A=E,A]),I=e.find(r,[A,A]),L=e.find(a,[A,A]),q=e.convert(0,A));for(var G=[],z=[],$=[],ae=x.createSparseMatrix({values:G,index:z,ptr:$,size:[B,D],datatype:A}),K=0;K<D;K++){$[K]=z.length;var me=N[K],ye=N[K+1];if(ye>me)for(var ge=0,re=0;re<B;re++){for(var Ie=re+1,be=void 0,fe=me;fe<ye;fe++){var Se=T[fe];ge!==Ie?(be=I(C[re][Se],S[fe]),ge=Ie):be=O(be,I(C[re][Se],S[fe]))}ge===Ie&&!L(be,q)&&(z.push(re),G.push(be))}}return $[D]=z.length,ae},"SparseMatrix, DenseMatrix":function v(b,x){var C=b._values,M=b._index,E=b._ptr,S=b._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var D,T=x._data,N=x._datatype,k=b._size[0],R=x._size[0],B=x._size[1],A=i,O=r,I=a,L=0;S&&N&&S===N&&"string"==typeof S&&(A=e.find(i,[D=S,D]),O=e.find(r,[D,D]),I=e.find(a,[D,D]),L=e.convert(0,D));for(var q=[],G=[],z=[],$=b.createSparseMatrix({values:q,index:G,ptr:z,size:[k,B],datatype:D}),ae=[],K=[],me=0;me<B;me++){z[me]=G.length;for(var ye=me+1,ge=0;ge<R;ge++){var re=T[ge][me];if(!I(re,L))for(var be=E[ge+1],fe=E[ge];fe<be;fe++){var Se=M[fe];K[Se]!==ye?(K[Se]=ye,G.push(Se),ae[Se]=O(re,C[fe])):ae[Se]=A(ae[Se],O(re,C[fe]))}}for(var Z=G.length,pe=z[me];pe<Z;pe++)q[pe]=ae[G[pe]]}return z[B]=G.length,$},"SparseMatrix, SparseMatrix":function y(b,x){var O,C=b._values,M=b._index,E=b._ptr,S=b._datatype,T=x._values,N=x._index,k=x._ptr,R=x._datatype,B=b._size[0],D=x._size[1],A=C&&T,I=i,L=r;S&&R&&S===R&&"string"==typeof S&&(I=e.find(i,[O=S,O]),L=e.find(r,[O,O]));for(var me,ge,re,be,fe,Se,q=A?[]:void 0,G=[],z=[],$=b.createSparseMatrix({values:q,index:G,ptr:z,size:[B,D],datatype:O}),ae=A?[]:void 0,K=[],W=0;W<D;W++){z[W]=G.length;var Z=W+1;for(be=k[W+1],re=k[W];re<be;re++)if(Se=N[re],A)for(ge=E[Se+1],me=E[Se];me<ge;me++)K[fe=M[me]]!==Z?(K[fe]=Z,G.push(fe),ae[fe]=L(T[re],C[me])):ae[fe]=I(ae[fe],L(T[re],C[me]));else for(ge=E[Se+1],me=E[Se];me<ge;me++)K[fe=M[me]]!==Z&&(K[fe]=Z,G.push(fe));if(A)for(var X=G.length,J=z[W];J<X;J++)q[J]=ae[G[J]]}return z[D]=G.length,$}});return e(d6,r,{"Array, Array":e.referTo("Matrix, Matrix",b=>(x,C)=>{c(_n(x),_n(C));var M=b(t(x),t(C));return Ht(M)?M.valueOf():M}),"Matrix, Matrix":function(x,C){var M=x.size(),E=C.size();return c(M,E),1===M.length?1===E.length?function u(b,x,C){if(0===C)throw new Error("Cannot multiply two empty vectors");return o(b,x)}(x,C,M[0]):function d(b,x){if("dense"!==x.storage())throw new Error("Support for SparseMatrix not implemented");return function h(b,x){var B,C=b._data,E=b._datatype,S=x._data,N=x._datatype,k=b._size[0],R=x._size[1],D=i,A=r;E&&N&&E===N&&"string"==typeof E&&(D=e.find(i,[B=E,B]),A=e.find(r,[B,B]));for(var O=[],I=0;I<R;I++){for(var L=A(C[0],S[0][I]),q=1;q<k;q++)L=D(L,A(C[q],S[q][I]));O[I]=L}return b.createDenseMatrix({data:O,size:[R],datatype:B})}(b,x)}(x,C):1===E.length?f(x,C):m(x,C)},"Matrix, Array":e.referTo("Matrix,Matrix",b=>(x,C)=>b(x,t(C))),"Array, Matrix":e.referToSelf(b=>(x,C)=>b(t(x,C.storage()),C)),"SparseMatrix, any":function(x,C){return s(x,C,r,!1)},"DenseMatrix, any":function(x,C){return l(x,C,r,!1)},"any, SparseMatrix":function(x,C){return s(C,x,r,!0)},"any, DenseMatrix":function(x,C){return l(C,x,r,!0)},"Array, any":function(x,C){return l(t(x),C,r,!1).valueOf()},"any, Array":function(x,C){return l(t(C),x,r,!0).valueOf()},"any, any":r,"any, any, ...any":e.referToSelf(b=>(x,C,M)=>{for(var E=b(x,C),S=0;S<M.length;S++)E=b(E,M[S]);return E})})}),GEe=Y("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],n=>{var{typed:e,matrix:t,zeros:i,identity:r,isZero:a,equal:o,sign:s,sqrt:l,conj:c,unaryMinus:u,addScalar:d,divideScalar:h,multiplyScalar:f,subtract:m,complex:p}=n;return Xr(e("qr",{DenseMatrix:function(y){return _(y)},SparseMatrix:function(y){return function w(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(y){var x=_(t(y));return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:g});function g(v){var S,T,N,y=v._size[0],b=v._size[1],x=r([y],"dense"),C=x._data,M=v.clone(),E=M._data,k=i([y],"");for(N=0;N<Math.min(b,y);++N){var R=E[N][N],B=u(o(R,0)?1:s(R)),D=c(B),A=0;for(S=N;S<y;S++)A=d(A,f(E[S][N],c(E[S][N])));var O=f(B,l(A));if(!a(O)){var I=m(R,O);for(k[N]=1,S=N+1;S<y;S++)k[S]=h(E[S][N],I);var L=u(c(h(I,O))),q=void 0;for(T=N;T<b;T++){for(q=0,S=N;S<y;S++)q=d(q,f(c(k[S]),E[S][T]));for(q=f(q,L),S=N;S<y;S++)E[S][T]=f(m(E[S][T],f(k[S],q)),D)}for(S=0;S<y;S++){for(q=0,T=N;T<y;T++)q=d(q,f(C[S][T],k[T]));for(q=f(q,L),T=N;T<y;++T)C[S][T]=h(m(C[S][T],f(q,c(k[T]))),D)}}}return{Q:x,R:M,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function _(v){var y=g(v),b=y.R._data;if(v._data.length>0)for(var x="Complex"===b[0][0].type?p(0):0,C=0;C<b.length;++C)for(var M=0;M<C&&M<(b[0]||[]).length;++M)b[C][M]=x;return y}}),f6="rightLogShift",WEe=Y(f6,["typed","matrix","equalScalar","zeros","DenseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:a}=n,o=Mc({typed:e}),s=ls({typed:e,equalScalar:i}),l=NE({typed:e,equalScalar:i}),c=zu({typed:e,DenseMatrix:a}),u=Kr({typed:e,equalScalar:i}),d=cs({typed:e}),h=yi({typed:e,matrix:t}),f=IE({typed:e,matrix:t});return e(f6,{"number, number":W5,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():u(p,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,g)=>i(g,0)?p.clone():d(p,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):c(g,p,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(p,g)=>i(p,0)?r(g.size(),g.storage()):d(g,p,m,!0))},f,h({SS:l,DS:o,SD:s}))}),m6="setSize",jEe=Y(m6,["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e(m6,{"Array | Matrix":function(r){return Array.isArray(r)?Un(r).length:Un(r.toArray()).length},"Array | Matrix, boolean":function(r,a){if(!1===a||0===r.length)return Array.isArray(r)?Un(r).length:Un(r.toArray()).length;for(var o=Un(Array.isArray(r)?r:r.toArray()).sort(t),s=1,l=1;l<o.length;l++)0!==t(o[l],o[l-1])&&s++;return s}})});function p6(n,e,t,i,r,a,o){var s=0;for(t[o]=n;s>=0;){var l=t[o+s],c=t[i+l];-1===c?(s--,a[e++]=l):(t[i+l]=t[r+c],t[o+ ++s]=c)}return e}function Sc(n){return-n-2}var eDe=Y("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:i}=n;return function(u,d){if(!d||u<=0||u>3)return null;var h=d._size,f=h[0],m=h[1],p=0,g=Math.max(16,10*Math.sqrt(m)),_=function r(c,u,d,h,f){var m=i(u);if(1===c&&h===d)return e(u,m);if(2===c){for(var p=m._index,g=m._ptr,_=0,w=0;w<d;w++){var v=g[w];if(g[w]=_,!(g[w+1]-v>f))for(var y=g[w+1];v<y;v++)p[_++]=p[v]}return g[d]=_,u=i(m),t(m,u)}return t(m,u)}(u,d,f,m,g=Math.min(m-2,g));!function KEe(n,e,t){for(var i=n._values,r=n._index,a=n._ptr,s=n._size[1],l=0,c=0;c<s;c++){var u=a[c];for(a[c]=l;u<a[c+1];u++)e(r[u],c,i?i[u]:1,t)&&(r[l]=r[u],i&&(i[l]=i[u]),l++)}a[s]=l,r.splice(l,r.length-l),i&&i.splice(l,i.length-l)}(_,l,null);for(var I,L,q,G,z,$,ae,K,me,ye,ge,re,Ie,be,fe,Se,w=_._index,v=_._ptr,y=v[m],b=[],x=[],M=m+1,E=2*(m+1),S=3*(m+1),T=4*(m+1),N=5*(m+1),k=6*(m+1),R=7*(m+1),B=b,D=function a(c,u,d,h,f,m,p,g,_,w,v,y){for(var b=0;b<c;b++)d[h+b]=u[b+1]-u[b];d[h+c]=0;for(var x=0;x<=c;x++)d[f+x]=-1,m[x]=-1,d[p+x]=-1,d[g+x]=-1,d[_+x]=1,d[w+x]=1,d[v+x]=0,d[y+x]=d[h+x];var C=s(0,0,d,w,c);return d[v+c]=-2,u[c]=-1,d[w+c]=0,C}(m,v,x,0,S,B,E,R,M,k,T,N),A=function o(c,u,d,h,f,m,p,g,_,w,v){for(var y=0,b=0;b<c;b++){var x=d[h+b];if(0===x)d[f+b]=-2,y++,u[b]=-1,d[m+b]=0;else if(x>p)d[g+b]=0,d[f+b]=-1,y++,u[b]=Sc(c),d[g+c]++;else{var C=d[_+x];-1!==C&&(w[C]=b),d[v+b]=d[_+x],d[_+x]=b}}return y}(m,v,x,N,T,k,g,M,S,B,E),O=0;A<m;){for(q=-1;O<m&&-1===(q=x[S+O]);O++);-1!==x[E+q]&&(B[x[E+q]]=-1),x[S+O]=x[E+q];var W=x[T+q],Z=x[M+q];A+=Z;var pe=0;x[M+q]=-Z;var X=v[q],J=0===W?X:y,he=J;for(G=1;G<=W+1;G++){for(G>W?($=q,ae=X,K=x[0+q]-W):(ae=v[$=w[X++]],K=x[0+$]),z=1;z<=K;z++)!((me=x[M+(I=w[ae++])])<=0)&&(pe+=me,x[M+I]=-me,w[he++]=I,-1!==x[E+I]&&(B[x[E+I]]=B[I]),-1!==B[I]?x[E+B[I]]=x[E+I]:x[S+x[N+I]]=x[E+I]);$!==q&&(v[$]=Sc(q),x[k+$]=0)}for(0!==W&&(y=he),x[N+q]=pe,v[q]=J,x[0+q]=he-J,x[T+q]=-2,D=s(D,p,x,k,m),ye=J;ye<he;ye++)if(!((ge=x[T+(I=w[ye])])<=0)){var De=D-(me=-x[M+I]);for(X=v[I],re=v[I]+ge-1;X<=re;X++)x[k+($=w[X])]>=D?x[k+$]-=me:0!==x[k+$]&&(x[k+$]=x[N+$]+De)}for(ye=J;ye<he;ye++){for(Ie=(re=v[I=w[ye]])+x[T+I]-1,be=re,fe=0,Se=0,X=re;X<=Ie;X++)if(0!==x[k+($=w[X])]){var V=x[k+$]-D;V>0?(Se+=V,w[be++]=$,fe+=$):(v[$]=Sc(q),x[k+$]=0)}x[T+I]=be-re+1;var U=be,oe=re+x[0+I];for(X=Ie+1;X<oe;X++){var Te=x[M+(L=w[X])];Te<=0||(Se+=Te,w[be++]=L,fe+=L)}0===Se?(v[I]=Sc(q),pe-=me=-x[M+I],Z+=me,A+=me,x[M+I]=0,x[T+I]=-1):(x[N+I]=Math.min(x[N+I],Se),w[be]=w[U],w[U]=w[re],w[re]=q,x[0+I]=be-re+1,x[E+I]=x[R+(fe=(fe<0?-fe:fe)%m)],x[R+fe]=I,B[I]=fe)}for(x[N+q]=pe,D=s(D+(p=Math.max(p,pe)),p,x,k,m),ye=J;ye<he;ye++)if(!(x[M+(I=w[ye])]>=0))for(I=x[R+(fe=B[I])],x[R+fe]=-1;-1!==I&&-1!==x[E+I];I=x[E+I],D++){for(K=x[0+I],ge=x[T+I],X=v[I]+1;X<=v[I]+K-1;X++)x[k+w[X]]=D;var Fe=I;for(L=x[E+I];-1!==L;){var He=x[0+L]===K&&x[T+L]===ge;for(X=v[L]+1;He&&X<=v[L]+K-1;X++)x[k+w[X]]!==D&&(He=0);He?(v[L]=Sc(I),x[M+I]+=x[M+L],x[M+L]=0,x[T+L]=-1,x[E+Fe]=L=x[E+L]):(Fe=L,L=x[E+L])}}for(X=J,ye=J;ye<he;ye++)!((me=-x[M+(I=w[ye])])<=0)&&(x[M+I]=me,Se=x[N+I]+pe-me,-1!==x[S+(Se=Math.min(Se,m-A-me))]&&(B[x[S+Se]]=I),x[E+I]=x[S+Se],B[I]=-1,x[S+Se]=I,O=Math.min(O,Se),x[N+I]=Se,w[X++]=I);x[M+q]=Z,0==(x[0+q]=X-J)&&(v[q]=-1,x[k+q]=0),0!==W&&(y=X)}for(I=0;I<m;I++)v[I]=Sc(v[I]);for(L=0;L<=m;L++)x[S+L]=-1;for(L=m;L>=0;L--)x[M+L]>0||(x[E+L]=x[S+v[L]],x[S+v[L]]=L);for($=m;$>=0;$--)x[M+$]<=0||-1!==v[$]&&(x[E+$]=x[S+v[$]],x[S+v[$]]=$);for(q=0,I=0;I<=m;I++)-1===v[I]&&(q=p6(I,q,x,S,E,b,k));return b.splice(b.length-1,1),b};function s(c,u,d,h,f){if(c<2||c+u<0){for(var m=0;m<f;m++)0!==d[h+m]&&(d[h+m]=1);c=2}return c}function l(c,u){return c!==u}});function tDe(n,e,t,i,r,a,o){var s,l,u,c=0;if(n<=e||t[i+e]<=t[r+n])return-1;t[r+n]=t[i+e];var d=t[a+n];if(t[a+n]=e,-1===d)c=1,u=n;else{for(c=2,u=d;u!==t[o+u];u=t[o+u]);for(s=d;s!==u;s=l)l=t[o+s],t[o+s]=u}return{jleaf:c,q:u}}var rDe=Y("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,i,r,a){if(!t||!i||!r)return null;var c,u,d,h,f,p,o=t._size,s=o[0],l=o[1],g=4*l+(a?l+s+1:0),_=[],v=l,y=2*l,b=3*l,x=4*l,C=5*l+1;for(d=0;d<g;d++)_[d]=-1;var M=[],E=e(t),S=E._index,T=E._ptr;for(d=0;d<l;d++)for(M[u=r[d]]=-1===_[b+u]?1:0;-1!==u&&-1===_[b+u];u=i[u])_[b+u]=d;if(a){for(d=0;d<l;d++)_[r[d]]=d;for(c=0;c<s;c++){for(d=l,p=T[c+1],f=T[c];f<p;f++)d=Math.min(d,_[S[f]]);_[C+c]=_[x+d],_[x+d]=c}}for(c=0;c<l;c++)_[0+c]=c;for(d=0;d<l;d++){for(-1!==i[u=r[d]]&&M[i[u]]--,h=a?_[x+d]:u;-1!==h;h=a?_[C+h]:-1)for(f=T[h];f<T[h+1];f++){var N=tDe(c=S[f],u,_,b,v,y,0);N.jleaf>=1&&M[u]++,2===N.jleaf&&M[N.q]--}-1!==i[u]&&(_[0+u]=i[u])}for(u=0;u<l;u++)-1!==i[u]&&(M[i[u]]+=M[u]);return M}}),sDe=Y("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:i}=n,r=eDe({add:e,multiply:t,transpose:i}),a=rDe({transpose:i});return function(l,c,u){var m,d=c._ptr,f=c._size[1],p={};if(p.q=r(l,c),l&&!p.q)return null;if(u){var g=l?function XEe(n,e,t,i){for(var r=n._values,a=n._index,o=n._ptr,s=n._size,l=n._datatype,c=s[0],u=s[1],d=i&&n._values?[]:null,h=[],f=[],m=0,p=0;p<u;p++){f[p]=m;for(var g=t?t[p]:p,w=o[g+1],v=o[g];v<w;v++)h[m]=e?e[a[v]]:a[v],d&&(d[m]=r[v]),m++}return f[u]=m,n.createSparseMatrix({values:d,index:h,ptr:f,size:[c,u],datatype:l})}(c,null,p.q,0):c;p.parent=function ZEe(n,e){if(!n)return null;var d,h,t=n._index,i=n._ptr,r=n._size,a=r[0],o=r[1],s=[],l=[],u=o;if(e)for(d=0;d<a;d++)l[u+d]=-1;for(var f=0;f<o;f++){s[f]=-1,l[0+f]=-1;for(var p=i[f+1],g=i[f];g<p;g++){var _=t[g];for(d=e?l[u+_]:_;-1!==d&&d<f;d=h)h=l[0+d],l[0+d]=f,-1===h&&(s[d]=f);e&&(l[u+_]=f)}}return s}(g,1);var _=function YEe(n,e){if(!n)return null;var i,t=0,r=[],a=[],s=e,l=2*e;for(i=0;i<e;i++)a[0+i]=-1;for(i=e-1;i>=0;i--)-1!==n[i]&&(a[s+i]=a[0+n[i]],a[0+n[i]]=i);for(i=0;i<e;i++)-1===n[i]&&(t=p6(i,t,a,0,s,r,l));return r}(p.parent,f);if(p.cp=a(g,p.parent,_,1),g&&p.parent&&p.cp&&function o(s,l){var c=s._ptr,u=s._index,d=s._size,h=d[0],f=d[1];l.pinv=[],l.leftmost=[];var x,C,M,S,m=l.parent,p=l.pinv,g=l.leftmost,_=[],v=h,y=h+f,b=h+2*f;for(C=0;C<f;C++)_[v+C]=-1,_[y+C]=-1,_[b+C]=0;for(x=0;x<h;x++)g[x]=-1;for(C=f-1;C>=0;C--)for(S=c[C+1],M=c[C];M<S;M++)g[u[M]]=C;for(x=h-1;x>=0;x--)p[x]=-1,-1!==(C=g[x])&&(0==_[b+C]++&&(_[y+C]=x),_[0+x]=_[v+C],_[v+C]=x);for(l.lnz=0,l.m2=h,C=0;C<f;C++)if(x=_[v+C],l.lnz++,x<0&&(x=l.m2++),p[x]=C,!(--b[C]<=0)){l.lnz+=_[b+C];var T=m[C];-1!==T&&(0===_[b+T]&&(_[y+T]=_[y+C]),_[0+_[y+C]]=_[v+T],_[v+T]=_[0+x],_[b+T]+=_[b+C])}for(x=0;x<h;x++)p[x]<0&&(p[x]=C++);return!0}(g,p))for(p.unz=0,m=0;m<f;m++)p.unz+=p.cp[m]}else p.unz=4*d[f]+f,p.lnz=p.unz;return p}});function kE(n,e){return n[e]<0}function g6(n,e){n[e]=Sc(n[e])}function v6(n){return n<0?Sc(n):n}function lDe(n,e,t,i,r){var c,u,d,a=e._index,o=e._ptr,l=e._size[1],h=0;for(i[0]=n;h>=0;){n=i[h];var f=r?r[n]:n;kE(o,n)||(g6(o,n),i[l+h]=f<0?0:v6(o[f]));var m=1;for(u=i[l+h],d=f<0?0:v6(o[f+1]);u<d;u++)if(!kE(o,c=a[u])){i[l+h]=u,i[++h]=c,m=0;break}m&&(h--,i[--t]=n)}return t}var hDe=Y("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:i}=n;return function(a,o,s,l,c,u,d){var y,b,x,C,h=a._values,f=a._index,m=a._ptr,g=a._size[1],_=o._values,w=o._index,v=o._ptr,M=function cDe(n,e,t,i,r){var u,h,a=n._ptr,s=e._index,l=e._ptr,c=n._size[1],f=c;for(h=l[t+1],u=l[t];u<h;u++){var m=s[u];kE(a,m)||(f=lDe(m,n,f,i,r))}for(u=f;u<c;u++)g6(a,i[u]);return f}(a,o,s,l,u);for(y=M;y<g;y++)c[l[y]]=0;for(x=v[s+1],y=b=v[s];y<x;y++)c[w[y]]=_[y];for(var E=M;E<g;E++){var S=l[E],T=u?u[S]:S;if(!(T<0))for(b=m[T],x=m[T+1],c[S]=e(c[S],h[d?b:x-1]),y=d?b+1:b,C=d?x:x-1;y<C;y++){var N=f[y];c[N]=i(c[N],t(h[y],c[S]))}}return M}}),pDe=Y("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:i,subtract:r,larger:a,largerEq:o,SparseMatrix:s}=n,l=hDe({divideScalar:t,multiply:i,subtract:r});return function(u,d,h){if(!u)return null;var p,m=u._size[1],g=100,_=100;d&&(p=d.q,g=d.lnz||g,_=d.unz||_);var T,N,w=[],v=[],y=[],b=new s({values:w,index:v,ptr:y,size:[m,m]}),x=[],C=[],M=[],E=new s({values:x,index:C,ptr:M,size:[m,m]}),S=[],k=[],R=[];for(T=0;T<m;T++)k[T]=0,S[T]=-1,y[T+1]=0;g=0,_=0;for(var B=0;B<m;B++){y[B]=g,M[B]=_;var D=p?p[B]:B,A=l(b,u,D,R,k,S,1),O=-1,I=-1;for(N=A;N<m;N++)if(S[T=R[N]]<0){var L=e(k[T]);a(L,I)&&(I=L,O=T)}else C[_]=S[T],x[_++]=k[T];if(-1===O||I<=0)return null;S[D]<0&&o(e(k[D]),i(I,h))&&(O=D);var q=k[O];for(C[_]=B,x[_++]=q,S[O]=B,v[g]=O,w[g++]=1,N=A;N<m;N++)S[T=R[N]]<0&&(v[g]=T,w[g++]=t(k[T],q)),k[T]=0}for(y[m]=g,M[m]=_,N=0;N<g;N++)v[N]=S[v[N]];return w.splice(g,w.length-g),v.splice(g,v.length-g),x.splice(_,x.length-_),C.splice(_,C.length-_),{L:b,U:E,pinv:S}}}),vDe=Y("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:i,multiply:r,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:c,SparseMatrix:u}=n,d=sDe({add:i,multiply:r,transpose:a}),h=pDe({abs:t,divideScalar:o,multiply:r,subtract:s,larger:l,largerEq:c,SparseMatrix:u});return e("slu",{"SparseMatrix, number, number":function(m,p,g){if(!Et(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var _=d(p,m,!1),w=h(m,_,g);return{L:w.L,U:w.U,p:w.pinv,q:_.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),bDe=Y("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:i}=n;return e("trace",{Array:function(s){return r(t(s))},SparseMatrix:function a(o){var s=o._values,l=o._index,c=o._ptr,u=o._size,h=u[1];if(u[0]===h){var f=0;if(s.length>0)for(var m=0;m<h;m++)for(var g=c[m+1],_=c[m];_<g;_++){var w=l[_];if(w===m){f=i(f,s[_]);break}if(w>m)break}return f}throw new RangeError("Matrix must be square (size: "+nn(u)+")")},DenseMatrix:r,any:Lt});function r(o){var s=o._size,l=o._data;switch(s.length){case 1:if(1===s[0])return Lt(l[0]);throw new RangeError("Matrix must be square (size: "+nn(s)+")");case 2:var c=s[0];if(c===s[1]){for(var d=0,h=0;h<c;h++)d=i(d,l[h][h]);return d}throw new RangeError("Matrix must be square (size: "+nn(s)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+nn(s)+")")}}}),y6="usolveAll",wDe=Y(y6,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtract:a,equalScalar:o,DenseMatrix:s}=n,l=ig({DenseMatrix:s});return e(y6,{"SparseMatrix, Array | Matrix":function(h,f){return function u(d,h){for(var f=[l(d,h,!0)._data.map(q=>q[0])],m=d._size[0],g=d._values,_=d._index,w=d._ptr,v=d._size[1]-1;v>=0;v--)for(var y=f.length,b=0;b<y;b++){for(var x=f[b],C=[],M=[],E=w[v],T=0,N=w[v+1]-1;N>=E;N--){var k=_[N];k===v?T=g[N]:k<v&&(C.push(g[N]),M.push(k))}if(o(T,0))if(o(x[v],0)){if(0===b){var A=[...x];A[v]=1;for(var O=0,I=M.length;O<I;O++){var L=M[O];A[L]=a(A[L],C[O])}f.push(A)}}else{if(0===b)return[];f.splice(b,1),b-=1,y-=1}else{x[v]=i(x[v],T);for(var R=0,B=M.length;R<B;R++){var D=M[R];x[D]=a(x[D],r(x[v],C[R]))}}}return f.map(q=>new s({data:q.map(G=>[G]),size:[m,1]}))}(h,f)},"DenseMatrix, Array | Matrix":function(h,f){return c(h,f)},"Array, Array | Matrix":function(h,f){return c(t(h),f).map(g=>g.valueOf())}});function c(d,h){for(var f=[l(d,h,!0)._data.map(M=>M[0])],m=d._data,p=d._size[0],_=d._size[1]-1;_>=0;_--)for(var w=f.length,v=0;v<w;v++){var y=f[v];if(o(m[_][_],0))if(o(y[_],0)){if(0===v){var x=[...y];x[_]=1;for(var C=_-1;C>=0;C--)x[C]=a(x[C],m[C][_]);f.push(x)}}else{if(0===v)return[];f.splice(v,1),v-=1,w-=1}else{y[_]=i(y[_],m[_][_]);for(var b=_-1;b>=0;b--)y[b]=a(y[b],r(y[_],m[b][_]))}}return f.map(M=>new s({data:M.map(E=>[E]),size:[p,1]}))}}),SDe=Y("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("asin",{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new i(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),RE="ceil",CDe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],EDe=Y(RE,["typed","config","round"],n=>{var{typed:e,config:t,round:i}=n;return e(RE,{number:function(a){return ao(a,i(a),t.epsilon)?i(a):Math.ceil(a)},"number, number":function(a,o){if(ao(a,i(a,o),t.epsilon))return i(a,o);var[s,l]="".concat(a,"e").split("e"),c=Math.ceil(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(c,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),DDe=Y(RE,CDe,n=>{var{typed:e,config:t,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:s}=n,l=Kr({typed:e,equalScalar:a}),c=Nr({typed:e,DenseMatrix:s}),u=cs({typed:e}),d=EDe({typed:e,config:t,round:i});return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(f){return f.ceil()},"Complex, number":function(f,m){return f.ceil(m)},"Complex, BigNumber":function(f,m){return f.ceil(m.toNumber())},BigNumber:function(f){return Rs(f,i(f),t.epsilon)?i(f):f.ceil()},"BigNumber, BigNumber":function(f,m){return Rs(f,i(f,m),t.epsilon)?i(f,m):f.toDecimalPlaces(m.toNumber(),Ky.ROUND_CEIL)},Fraction:function(f){return f.ceil()},"Fraction, number":function(f,m){return f.ceil(m)},"Fraction, BigNumber":function(f,m){return f.ceil(m.toNumber())},"Array | Matrix":e.referToSelf(h=>f=>dn(f,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(f,m)=>dn(f,p=>h(p,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(f,m)=>l(f,m,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(f,m)=>u(f,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(f,m)=>u(r(m),f,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(f,m)=>a(f,0)?o(m.size(),m.storage()):"dense"===m.storage()?u(m,f,h,!0):c(m,f,h,!0))})}),x6="composition",TDe=Y(x6,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:i,isPositive:r,isInteger:o,larger:s}=n;return e(x6,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&r(c)&&o(u)&&r(u)))throw new TypeError("Positive integer value expected in function composition");if(s(u,c))throw new TypeError("k must be less than or equal to n in function composition");return i(t(c,-1),t(u,-1))}})}),IDe=Y("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:i,multiply:r}=n;return e("cross",{"Matrix, Matrix":function(s,l){return t(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return t(a(s.toArray(),l))},"Array, Matrix":function(s,l){return t(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(_n(o).length,_n(s).length);o=xy(o),s=xy(s);var c=_n(o),u=_n(s);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var d=[i(r(o[1],s[2]),r(o[2],s[1])),i(r(o[2],s[0]),r(o[0],s[2])),i(r(o[0],s[1]),r(o[1],s[0]))];return l>1?[d]:d}}),kDe=Y("det",["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtract:i,multiply:r,divideScalar:a,isZero:o,unaryMinus:s}=n;return e("det",{any:function(u){return Lt(u)},"Array | Matrix":function(u){var d;switch((d=Ht(u)?u.size():Array.isArray(u)?(u=t(u)).size():[]).length){case 0:return Lt(u);case 1:if(1===d[0])return Lt(u.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+nn(d)+")");case 2:var h=d[0];if(h===d[1])return function l(c,u,d){if(1===u)return Lt(c[0][0]);if(2===u)return i(r(c[0][0],c[1][1]),r(c[1][0],c[0][1]));for(var h=!1,f=new Array(u).fill(0).map((C,M)=>M),m=0;m<u;m++){var p=f[m];if(o(c[p][m])){var g=void 0;for(g=m+1;g<u;g++)if(!o(c[f[g]][m])){p=f[g],f[g]=f[m],f[m]=p,h=!h;break}if(g===u)return c[p][m]}for(var _=c[p][m],w=0===m?1:c[f[m-1]][m-1],v=m+1;v<u;v++)for(var y=f[v],b=m+1;b<u;b++)c[y][b]=a(i(r(c[y][b],_),r(c[y][m],c[p][b])),w)}var x=c[f[u-1]][u-1];return h?s(x):x}(u.clone().valueOf(),h);throw new RangeError("Matrix must be square (size: "+nn(d)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+nn(d)+")")}}})}),S6="distance",ODe=Y(S6,["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtract:i,multiplyScalar:r,divideScalar:a,unaryMinus:o,sqrt:s,abs:l}=n;return e(S6,{"Array, Array, Array":function(b,x,C){if(2===b.length&&2===x.length&&2===C.length){if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var M=a(i(C[1],C[0]),i(x[1],x[0])),E=r(r(M,M),x[0]),S=o(r(M,x[0]));return g(b[0],b[1],E,S,b[1])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(b,x,C){if(2===Object.keys(b).length&&2===Object.keys(x).length&&2===Object.keys(C).length){if(!u(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var M=a(i(C.lineTwoPtY,C.lineTwoPtX),i(x.lineOnePtY,x.lineOnePtX)),E=r(r(M,M),x.lineOnePtX),S=o(r(M,x.lineOnePtX));return g(b.pointX,b.pointY,E,S,b.pointX)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(b,x){if(2===b.length&&3===x.length){if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(b[0],b[1],x[0],x[1],x[2])}if(3===b.length&&6===x.length){if(!d(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _(b[0],b[1],b[2],x[0],x[1],x[2],x[3],x[4],x[5])}if(b.length===x.length&&b.length>0){if(!h(b))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return w(b,x)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(b,x){if(2===Object.keys(b).length&&3===Object.keys(x).length){if(!u(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return g(b.pointX,b.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(b).length&&6===Object.keys(x).length){if(!d(b))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return _(b.pointX,b.pointY,b.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}if(2===Object.keys(b).length&&2===Object.keys(x).length){if(!u(b))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointTwoX"in x&&"pointTwoY"in x)return w([b.pointOneX,b.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(b).length&&3===Object.keys(x).length){if(!d(b))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointOneZ"in b&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return w([b.pointOneX,b.pointOneY,b.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(b){if(!function p(y){if(2===y[0].length&&c(y[0][0])&&c(y[0][1])){if(y.some(b=>2!==b.length||!c(b[0])||!c(b[1])))return!1}else{if(!(3===y[0].length&&c(y[0][0])&&c(y[0][1])&&c(y[0][2])))return!1;if(y.some(b=>3!==b.length||!c(b[0])||!c(b[1])||!c(b[2])))return!1}return!0}(b))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(y){for(var b=[],x=[],C=[],M=0;M<y.length-1;M++)for(var E=M+1;E<y.length;E++)2===y[0].length?(x=[y[M][0],y[M][1]],C=[y[E][0],y[E][1]]):3===y[0].length&&(x=[y[M][0],y[M][1],y[M][2]],C=[y[E][0],y[E][1],y[E][2]]),b.push(w(x,C));return b}(b)}});function c(y){return"number"==typeof y||Mn(y)}function u(y){return y.constructor!==Array&&(y=m(y)),c(y[0])&&c(y[1])}function d(y){return y.constructor!==Array&&(y=m(y)),c(y[0])&&c(y[1])&&c(y[2])}function h(y){return Array.isArray(y)||(y=m(y)),y.every(c)}function f(y){return y.constructor!==Array&&(y=m(y)),c(y[0])&&c(y[1])&&c(y[2])&&c(y[3])&&c(y[4])&&c(y[5])}function m(y){for(var b=Object.keys(y),x=[],C=0;C<b.length;C++)x.push(y[b[C]]);return x}function g(y,b,x,C,M){var E=l(t(t(r(x,y),r(C,b)),M)),S=s(t(r(x,x),r(C,C)));return a(E,S)}function _(y,b,x,C,M,E,S,T,N){var k=[i(r(i(M,b),N),r(i(E,x),T)),i(r(i(E,x),S),r(i(C,y),N)),i(r(i(C,y),T),r(i(M,b),S))];k=s(t(t(r(k[0],k[0]),r(k[1],k[1])),r(k[2],k[2])));var R=s(t(t(r(S,S),r(T,T)),r(N,N)));return a(k,R)}function w(y,b){for(var x=y.length,C=0,M=0,E=0;E<x;E++)M=i(y[E],b[E]),C=t(r(M,M),C);return s(C)}}),C6="dotMultiply",LDe=Y(C6,["typed","matrix","equalScalar","multiplyScalar"],n=>{var{typed:e,matrix:t,equalScalar:i,multiplyScalar:r}=n,a=ls({typed:e,equalScalar:i}),o=Qz({typed:e,equalScalar:i}),s=Kr({typed:e,equalScalar:i}),l=yi({typed:e,matrix:t});return e(C6,l({elop:r,SS:o,DS:a,Ss:s}))}),UDe=Y("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,i=1/Math.log((1+Math.sqrt(5))/2);function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,d,h){d.left.right=d.right,d.right.left=d.left,h.degree--,h.child===d&&(h.child=d.right),0===h.degree&&(h.child=null),d.left=u,d.right=u.right,u.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(u,d){var h=d.parent;!h||(d.mark?(o(u,d,h),s(h)):d.mark=!0)}r.prototype.type="FibonacciHeap",r.prototype.isFibonacciHeap=!0,r.prototype.insert=function(u,d){var h={key:u,value:d,degree:0};if(this._minimum){var f=this._minimum;h.left=f,h.right=f.right,f.right=h,h.right.left=h,e(u,f.key)&&(this._minimum=h)}else h.left=h,h.right=h,this._minimum=h;return this._size++,h},r.prototype.size=function(){return this._size},r.prototype.clear=function(){this._minimum=null,this._size=0},r.prototype.isEmpty=function(){return 0===this._size},r.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var d=this._minimum,h=u.degree,f=u.child;h>0;){var m=f.right;f.left.right=f.right,f.right.left=f.left,f.left=d,f.right=d.right,d.right=f,f.right.left=f,f.parent=null,f=m,h--}return u.left.right=u.right,u.right.left=u.left,d=u===u.right?null:function c(u,d){var g,h=Math.floor(Math.log(d)*i)+1,f=new Array(h),m=0,p=u;if(p)for(m++,p=p.right;p!==u;)m++,p=p.right;for(;m>0;){for(var _=p.degree,w=p.right;g=f[_];){if(t(p.key,g.key)){var v=g;g=p,p=v}l(g,p),f[_]=null,_++}f[_]=p,p=w,m--}u=null;for(var y=0;y<h;y++)(g=f[y])&&(u?(g.left.right=g.right,g.right.left=g.left,g.left=u,g.right=u.right,u.right=g,g.right.left=g,e(g.key,u.key)&&(u=g)):u=g);return u}(d=u.right,this._size),this._size--,this._minimum=d,u},r.prototype.remove=function(u){this._minimum=function a(u,d,h){d.key=h;var f=d.parent;return f&&e(d.key,f.key)&&(o(u,d,f),s(u,f)),e(d.key,u.key)&&(u=d),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(d,h){d.left.right=d.right,d.right.left=d.left,d.parent=h,h.child?(d.left=h.child,d.right=h.child.right,h.child.right=d,d.right.left=d):(h.child=d,d.right=d,d.left=d),h.degree++,d.mark=!1};return r},{isClass:!0}),VDe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],HDe=Y("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:i}=n;return e("fix",{number:function(a){return a>0?i(a):t(a)},"number, number":function(a,o){return a>0?i(a,o):t(a,o)}})}),GDe=Y("fix",VDe,n=>{var{typed:e,Complex:t,matrix:i,ceil:r,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=n,c=Nr({typed:e,DenseMatrix:l}),u=cs({typed:e}),d=HDe({typed:e,ceil:r,floor:a});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(f){return new t(f.re>0?Math.floor(f.re):Math.ceil(f.re),f.im>0?Math.floor(f.im):Math.ceil(f.im))},"Complex, number":function(f,m){return new t(f.re>0?a(f.re,m):r(f.re,m),f.im>0?a(f.im,m):r(f.im,m))},"Complex, BigNumber":function(f,m){var p=m.toNumber();return new t(f.re>0?a(f.re,p):r(f.re,p),f.im>0?a(f.im,p):r(f.im,p))},BigNumber:function(f){return f.isNegative()?r(f):a(f)},"BigNumber, number | BigNumber":function(f,m){return f.isNegative()?r(f,m):a(f,m)},Fraction:function(f){return f.s<0?f.ceil():f.floor()},"Fraction, number | BigNumber":function(f,m){return f.s<0?r(f,m):a(f,m)},"Array | Matrix":e.referToSelf(h=>f=>dn(f,h,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(h=>(f,m)=>dn(f,p=>h(p,m),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(f,m)=>u(i(m),f,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(f,m)=>o(f,0)?s(m.size(),m.storage()):"dense"===m.storage()?u(m,f,h,!0):c(m,f,h,!0))})}),$De=Y("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function i(r,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Ea(a))throw new Error("Invalid datatype: "+a);if(Ht(r)||ui(r)){var o=new t(r,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(r&&ui(r.data)&&ui(r.size))this._data=r.data,this._size=r.size,this._datatype=r.datatype,this._min=typeof r.min<"u"?r.min:null,this._max=typeof r.max<"u"?r.max:null;else{if(r)throw new TypeError("Unsupported type of data ("+Ti(r)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return(i.prototype=new t).type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(r){switch(arguments.length){case 1:var a=t.prototype.subset.call(this,r);return Ht(a)?new i({data:a._data,size:a._size,datatype:a._datatype}):a;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Lt(this._data),size:Lt(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(r){return new i(r)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var r=null;this.forEach(function(a){(null===r||e(a,r))&&(r=a)}),this._min=null!==r?r:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var r=null;this.forEach(function(a){(null===r||e(r,a))&&(r=a)}),this._max=null!==r?r:void 0}return this._max},i},{isClass:!0}),YDe=Y("Index",["ImmutableDenseMatrix"],n=>{var{ImmutableDenseMatrix:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(YC(s))this._dimensions.push(s),this._isScalar=!1;else if(Array.isArray(s)||Ht(s)){var l=i(s.valueOf());this._dimensions.push(l);var c=l.size();(1!==c.length||1!==c[0])&&(this._isScalar=!1)}else if("number"==typeof s)this._dimensions.push(i([s]));else{if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(s)}}}function i(r){for(var a=0,o=r.length;a<o;a++)if("number"!=typeof r[a]||!Et(r[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(r)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var r=new t;return r._dimensions=Lt(this._dimensions),r._isScalar=this._isScalar,r},t.create=function(r){var a=new t;return t.apply(a,r),a},t.prototype.size=function(){for(var r=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];r[a]="string"==typeof s?1:s.size()[0]}return r},t.prototype.max=function(){for(var r=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];r[a]="string"==typeof s?s:s.max()}return r},t.prototype.min=function(){for(var r=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];r[a]="string"==typeof s?s:s.min()}return r},t.prototype.forEach=function(r){for(var a=0,o=this._dimensions.length;a<o;a++)r(this._dimensions[a],a,this)},t.prototype.dimension=function(r){return this._dimensions[r]||null},t.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.valueOf=t.prototype.toArray=function(){for(var r=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];r.push("string"==typeof s?s:s.toArray())}return r},t.prototype.toString=function(){for(var r=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];r.push("string"==typeof s?JSON.stringify(s):s.toString())}return"["+r.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(r){return t.create(r.dimensions)},t},{isClass:!0}),QDe=Y("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:i,add:r,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:c,subtract:u,smaller:d,equalScalar:h,flatten:f,isZero:m,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":_,"Matrix, Matrix, Matrix":function(T,N,k){var R=g(T.valueOf(),N.valueOf(),k.valueOf());return null===R?null:o(R)},"Matrix, Matrix, Matrix, Matrix":function(T,N,k,R){var B=_(T.valueOf(),N.valueOf(),k.valueOf(),R.valueOf());return null===B?null:o(B)}});function g(S,T,N){if(S=w(S),T=w(T),N=w(N),!y(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function b(S){return 4===S.length&&p(S[0])&&p(S[1])&&p(S[2])&&p(S[3])}(N))throw new TypeError("Array with 4 numbers expected as third argument");return function E(S,T,N,k,R,B,D,A,O,I){var L=l(S,D),q=l(k,D),G=l(T,A),z=l(R,A),$=l(N,O),ae=l(B,O),K=u(u(u(I,L),G),$),me=u(u(u(a(a(q,z),ae),L),G),$),ye=c(K,me);return[a(S,l(ye,u(k,S))),a(T,l(ye,u(R,T))),a(N,l(ye,u(B,N)))]}(S[0],S[1],S[2],T[0],T[1],T[2],N[0],N[1],N[2],N[3])}function _(S,T,N,k){if(S=w(S),T=w(T),N=w(N),k=w(k),2===S.length){if(!v(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function x(S,T,N,k){var R=S,B=N,D=u(R,T),A=u(B,k),O=u(l(D[0],A[1]),l(A[0],D[1]));if(m(O)||d(i(O),t.epsilon))return null;var I=l(A[0],R[1]),L=l(A[1],R[0]),q=l(A[0],B[1]),G=l(A[1],B[0]),z=c(a(u(u(I,L),q),G),O);return r(s(D,z),R)}(S,T,N,k)}if(3===S.length){if(!y(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!y(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!y(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!y(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function M(S,T,N,k,R,B,D,A,O,I,L,q){var G=C(S,D,I,D,T,A,L,A,N,O,q,O),z=C(I,D,k,S,L,A,R,T,q,O,B,N),$=C(S,D,k,S,T,A,R,T,N,O,B,N),ae=C(I,D,I,D,L,A,L,A,q,O,q,O),K=C(k,S,k,S,R,T,R,T,B,N,B,N),me=u(l(G,z),l($,ae)),ye=u(l(K,ae),l(z,z));if(m(ye))return null;var ge=c(me,ye),re=c(a(G,l(ge,z)),ae),Ie=a(S,l(ge,u(k,S))),be=a(T,l(ge,u(R,T))),fe=a(N,l(ge,u(B,N))),Se=a(D,l(re,u(I,D))),W=a(A,l(re,u(L,A))),Z=a(O,l(re,u(q,O)));return h(Ie,Se)&&h(be,W)&&h(fe,Z)?[Ie,be,fe]:null}(S[0],S[1],S[2],T[0],T[1],T[2],N[0],N[1],N[2],k[0],k[1],k[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function w(S){return 1===S.length?S[0]:S.length>1&&Array.isArray(S[0])&&S.every(T=>Array.isArray(T)&&1===T.length)?f(S):S}function v(S){return 2===S.length&&p(S[0])&&p(S[1])}function y(S){return 3===S.length&&p(S[0])&&p(S[1])&&p(S[2])}function C(S,T,N,k,R,B,D,A,O,I,L,q){var G=l(u(S,T),u(N,k)),z=l(u(R,B),u(D,A)),$=l(u(O,I),u(L,q));return a(a(G,z),$)}}),eAe=Y("lcm",["typed","matrix","equalScalar"],n=>{var{typed:e,matrix:t,equalScalar:i}=n,r=ls({typed:e,equalScalar:i}),a=ob({typed:e,equalScalar:i}),o=Kr({typed:e,equalScalar:i}),s=yi({typed:e,matrix:t}),l="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(l,", ").concat(l,", ...").concat(l)]=e.referToSelf(d=>(h,f,m)=>{for(var p=d(h,f),g=0;g<m.length;g++)p=d(p,m[g]);return p}),e("lcm",{"number, number":a5,"BigNumber, BigNumber":function u(d,h){if(!d.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(h.isZero())return h;for(var f=d.times(h);!h.isZero();){var m=h;h=d.mod(m),d=m}return f.div(d).abs()},"Fraction, Fraction":(d,h)=>d.lcm(h)},s({SS:a,DS:r,Ss:o}),c)}),nAe=Y("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:i,log:r,Complex:a}=n;return e("log1p",{number:function(l){return l>=-1||t.predictable?fB(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||t.predictable?c.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>dn(l,s)),"any, any":e.referToSelf(s=>(l,c)=>i(s(l),r(c)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),aAe=Y("quantileSeq",["typed","add","multiply","partitionSelect","compare"],n=>{var{typed:e,add:t,multiply:i,partitionSelect:r,compare:a}=n;function s(c,u,d){var h=Un(c),f=h.length;if(0===f)throw new Error("Cannot calculate quantile of an empty sequence");if(Rn(u)){var m=u*(f-1),p=m%1;if(0===p){var g=d?h[m]:r(h,m);return l(g),g}var w,v,_=Math.floor(m);if(d)w=h[_],v=h[_+1];else{v=r(h,_+1),w=h[_];for(var y=0;y<_;++y)a(h[y],w)>0&&(w=h[y])}return l(w),l(v),t(i(w,1-p),i(v,p))}var b=u.times(f-1);if(b.isInteger()){b=b.toNumber();var x=d?h[b]:r(h,b);return l(x),x}var S,T,C=b.floor(),M=b.minus(C),E=C.toNumber();if(d)S=h[E],T=h[E+1];else{T=r(h,E+1),S=h[E];for(var N=0;N<E;++N)a(h[N],S)>0&&(S=h[N])}l(S),l(T);var k=new M.constructor(1);return t(i(S,k.minus(M)),i(T,M))}var l=e({"number | BigNumber | Unit":function(u){return u}});return function o(c,u,d){var h,f,m;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Dl(c)){if("boolean"==typeof(d=d||!1)){if(f=c.valueOf(),Rn(u)){if(u<0)throw new Error("N/prob must be non-negative");if(u<=1)return s(f,u,d);if(u>1){if(!Et(u))throw new Error("N must be a positive integer");var p=u+1;h=new Array(u);for(var g=0;g<u;)h[g]=s(f,++g/p,d);return h}}if(Mn(u)){var _=u.constructor;if(u.isNegative())throw new Error("N/prob must be non-negative");if(m=new _(1),u.lte(m))return new _(s(f,u,d));if(u.gt(m)){if(!u.isInteger())throw new Error("N must be a positive integer");var w=u.toNumber();if(w>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var v=new _(w+1);h=new Array(w);for(var y=0;y<w;)h[y]=new _(s(f,new _(++y).div(v),d));return h}}if(Array.isArray(u)){h=new Array(u.length);for(var b=0;b<h.length;++b){var x=u[b];if(Rn(x)){if(x<0||x>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!Mn(x))throw new TypeError("Unexpected type of argument in function quantileSeq");if(m=new x.constructor(1),x.isNegative()||x.gt(m))throw new Error("Probability must be between 0 and 1, inclusive")}h[b]=s(f,x,d)}return h}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}),A6="setCartesian",sAe=Y(A6,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a,DenseMatrix:o}=n;return e(A6,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==i(t(l),new a(0))&&0!==i(t(c),new a(0))){var d=Un(Array.isArray(l)?l:l.toArray()).sort(r),h=Un(Array.isArray(c)?c:c.toArray()).sort(r);u=[];for(var f=0;f<d.length;f++)for(var m=0;m<h.length;m++)u.push([d[f],h[m]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),T6="setDistinct",cAe=Y(T6,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a,DenseMatrix:o}=n;return e(T6,{"Array | Matrix":function(l){var c;if(0===i(t(l),new a(0)))c=[];else{var u=Un(Array.isArray(l)?l:l.toArray()).sort(r);(c=[]).push(u[0]);for(var d=1;d<u.length;d++)0!==r(u[d],u[d-1])&&c.push(u[d])}return Array.isArray(l)?c:new o(c)}})}),N6="setIsSubset",dAe=Y(N6,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a}=n;return e(N6,{"Array | Matrix, Array | Matrix":function(s,l){if(0===i(t(s),new a(0)))return!0;if(0===i(t(l),new a(0)))return!1;for(var d,c=rf(Un(Array.isArray(s)?s:s.toArray()).sort(r)),u=rf(Un(Array.isArray(l)?l:l.toArray()).sort(r)),h=0;h<c.length;h++){d=!1;for(var f=0;f<u.length;f++)if(0===r(c[h].value,u[f].value)&&c[h].identifier===u[f].identifier){d=!0;break}if(!1===d)return!1}return!0}})}),I6="setPowerset",fAe=Y(I6,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a}=n;return e(I6,{"Array | Matrix":function(c){if(0===i(t(c),new a(0)))return[];for(var u=Un(Array.isArray(c)?c:c.toArray()).sort(r),d=[],h=0;h.toString(2).length<=u.length;)d.push(o(u,h.toString(2).split("").reverse())),h++;return function s(l){for(var c=[],u=l.length-1;u>0;u--)for(var d=0;d<u;d++)l[d].length>l[d+1].length&&(c=l[d],l[d]=l[d+1],l[d+1]=c);return l}(d)}});function o(l,c){for(var u=[],d=0;d<c.length;d++)"1"===c[d]&&u.push(l[d]);return u}}),pAe=Y("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:i,compareNatural:r}=n,a=i,o=(u,d)=>-i(u,d);return e("sort",{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return c(d),t(d.toArray().sort(a),d.storage())},"Array, function":function(d,h){return l(d),d.sort(h)},"Matrix, function":function(d,h){return c(d),t(d.toArray().sort(h),d.storage())},"Array, string":function(d,h){return l(d),d.sort(s(h))},"Matrix, string":function(d,h){return c(d),t(d.toArray().sort(s(h)),d.storage())}});function s(u){if("asc"===u)return a;if("desc"===u)return o;if("natural"===u)return r;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==_n(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),vAe=Y("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(r){var a=r.map(function(s){return Mn(s)?s.toNumber():Array.isArray(s)||Ht(s)?s.map(function(l){return Mn(l)?l.toNumber():l}):s}),o=new t;return t.apply(o,a),o}})}),yAe=Y("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:i,addScalar:r,multiply:a,unaryMinus:o,det:s,identity:l,abs:c}=n;return e("inv",{"Array | Matrix":function(h){var f=Ht(h)?h.size():_n(h);switch(f.length){case 1:if(1===f[0])return Ht(h)?t([i(1,h.valueOf()[0])]):[i(1,h[0])];throw new RangeError("Matrix must be square (size: "+nn(f)+")");case 2:var m=f[0],p=f[1];if(m===p)return Ht(h)?t(u(h.valueOf(),m,p),h.storage()):u(h,m,p);throw new RangeError("Matrix must be square (size: "+nn(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+nn(f)+")")}},any:function(h){return i(1,h)}});function u(d,h,f){var m,p,g,_,w;if(1===h){if(0===(_=d[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,_)]]}if(2===h){var v=s(d);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[i(d[1][1],v),i(o(d[0][1]),v)],[i(o(d[1][0]),v),i(d[0][0],v)]]}var y=d.concat();for(m=0;m<h;m++)y[m]=y[m].concat();for(var b=l(h).valueOf(),x=0;x<f;x++){var C=c(y[x][x]),M=x;for(m=x+1;m<h;)c(y[m][x])>C&&(C=c(y[m][x]),M=m),m++;if(0===C)throw Error("Cannot calculate inverse, determinant is zero");(m=M)!==x&&(w=y[x],y[x]=y[m],y[m]=w,w=b[x],b[x]=b[m],b[m]=w);var E=y[x],S=b[x];for(m=0;m<h;m++){var T=y[m],N=b[m];if(m!==x){if(0!==T[x]){for(g=i(o(T[x]),E[x]),p=x;p<f;p++)T[p]=r(T[p],a(g,E[p]));for(p=0;p<f;p++)N[p]=r(N[p],a(g,S[p]))}}else{for(g=E[x],p=x;p<f;p++)T[p]=i(T[p],g);for(p=0;p<f;p++)N[p]=i(N[p],g)}}}return b}}),xAe=Y("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:i,deepEqual:r,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:c,multiply:u,add:d,Complex:h}=n;return e("pinv",{"Array | Matrix":function(v){var y=Ht(v)?v.size():_n(v);switch(y.length){case 1:return _(v)?l(v):1===y[0]?i(v):o(l(v),s(v,v));case 2:if(_(v))return l(v);var b=y[0],x=y[1];if(b===x)try{return i(v)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return Ht(v)?t(f(v.valueOf(),b,x),v.storage()):f(v,b,x);default:throw new RangeError("Matrix must be two dimensional (size: "+nn(y)+")")}},any:function(v){return a(v,0)?Lt(v):c(1,v)}});function f(w,v,y){var{C:b,F:x}=function p(w,v,y){var b=function m(w,v,y){for(var b=Lt(w),x=0,C=0;C<v;C++){if(y<=x)return b;for(var M=C;g(b[M][x]);)if(v===++M&&(M=C,y===++x))return b;[b[M],b[C]]=[b[C],b[M]];for(var E=b[C][x],S=0;S<y;S++)b[C][S]=o(b[C][S],E);for(var T=0;T<v;T++)if(T!==C){E=b[T][x];for(var N=0;N<y;N++)b[T][N]=d(b[T][N],u(-1,u(E,b[C][N])))}x++}return b}(w,v,y),x=w.map((M,E)=>M.filter((S,T)=>T<v&&!g(s(b[T],b[T]))));return{C:x,F:b.filter((M,E)=>!g(s(b[E],b[E])))}}(w,v,y),C=u(i(u(l(b),b)),l(b)),M=u(l(x),i(u(x,l(x))));return u(M,C)}function g(w){return a(d(w,h(1,1)),d(0,h(1,1)))}function _(w){return r(d(w,h(1,1)),d(u(w,0),h(1,1)))}}),MAe=Y("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:i,multiply:r,matrix:a,inv:o,number:s,fraction:l,Complex:c}=n;return e("pow",{"number, number":u,"Complex, Complex":function(m,p){return m.pow(p)},"BigNumber, BigNumber":function(m,p){return p.isInteger()||m>=0||t.predictable?m.pow(p):new c(m.toNumber(),0).pow(p.toNumber(),0)},"Fraction, Fraction":function(m,p){var g=m.pow(p);if(null!=g)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(m.valueOf(),p.valueOf())},"Array, number":d,"Array, BigNumber":function(m,p){return d(m,p.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(m,p){return h(m,p.toNumber())},"Unit, number | BigNumber":function(m,p){return m.pow(p)}});function u(f,m){if(t.predictable&&!Et(m)&&f<0)try{var p=l(m),g=s(p);if((m===g||Math.abs((m-g)/m)<1e-14)&&p.d%2==1)return(p.n%2==0?1:-1)*Math.pow(-f,m)}catch{}return t.predictable&&(f<-1&&m===1/0||f>-1&&f<0&&m===-1/0)?NaN:Et(m)||f>=0||t.predictable?h5(f,m):f*f<1&&m===1/0||f*f>1&&m===-1/0?0:new c(f,0).pow(m,0)}function d(f,m){if(!Et(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var p=_n(f);if(2!==p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(m<0)try{return d(o(f),-m)}catch(w){throw"Cannot calculate inverse, determinant is zero"===w.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):w}for(var g=i(p[0]).valueOf(),_=f;m>=1;)1==(1&m)&&(g=r(_,g)),m>>=1,_=r(_,_);return g}function h(f,m){return a(d(f.valueOf(),m))}}),L6="setDifference",CAe=Y(L6,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a,DenseMatrix:o}=n;return e(L6,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===i(t(l),new a(0)))u=[];else{if(0===i(t(c),new a(0)))return Un(l.toArray());var d=rf(Un(Array.isArray(l)?l:l.toArray()).sort(r)),h=rf(Un(Array.isArray(c)?c:c.toArray()).sort(r));u=[];for(var f,m=0;m<d.length;m++){f=!1;for(var p=0;p<h.length;p++)if(0===r(d[m].value,h[p].value)&&d[m].identifier===h[p].identifier){f=!0;break}f||u.push(d[m])}}return Array.isArray(l)&&Array.isArray(c)?Sy(u):new o(Sy(u))}})}),B6="setMultiplicity",DAe=Y(B6,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a}=n;return e(B6,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(0===i(t(l),new a(0)))return 0;for(var c=Un(Array.isArray(l)?l:l.toArray()),u=0,d=0;d<c.length;d++)0===r(c[d],s)&&u++;return u}})}),NAe=Y("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},r.prototype.get=function(a){var o=this._values[a];return o?o.value:0},r.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=e(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},r.prototype.forEach=function(a,o,s){var l=this._heap,c=this._values,u=[],d=l.extractMinimum();for(d&&u.push(d);d&&d.key<=o;)d.key>=a&&(t(d.value,0)||s(d.key,d.value,this)),(d=l.extractMinimum())&&u.push(d);for(var h=0;h<u.length;h++){var f=u[h];c[(d=l.insert(f.key,f.value)).key]=d}},r.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var c=s.value;s.value=l.value,l.value=c}},r},{isClass:!0}),FAe=Y("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:i,multiply:r,map:a,sqrt:o,subtract:s,inv:l,size:c,max:u,identity:d}=n,f=1e-6;return e("sqrtm",{"Array | Matrix":function(g){var _=Ht(g)?g.size():_n(g);switch(_.length){case 1:if(1===_[0])return a(g,o);throw new RangeError("Matrix must be square (size: "+nn(_)+")");case 2:if(_[0]===_[1])return function m(p){var g,_=0,w=p,v=d(c(p));do{var y=w;if(w=r(.5,i(y,l(v))),v=r(.5,i(v,l(y))),(g=u(t(s(w,y))))>f&&++_>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>f);return w}(g);throw new RangeError("Matrix must be square (size: "+nn(_)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+nn(_)+")")}}})});function U6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function PE(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?U6(Object(t),!0).forEach(function(i){Or(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var OAe=Y("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var y,b,x,{on:e,config:t,addScalar:i,subtract:r,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:c,round:u,equal:d,isNumeric:h,format:f,number:m,Complex:p,BigNumber:g,Fraction:_}=n,w=m;function v(W,Z){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=W&&!h(W)&&!Cl(W))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===Z)this.units=[],this.dimensions=O.map(X=>0);else if("string"==typeof Z){var pe=v.parse(Z);this.units=pe.units,this.dimensions=pe.dimensions}else{if(!El(Z)||null!==Z.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=Z.fixPrefix,this.skipAutomaticSimplification=Z.skipAutomaticSimplification,this.dimensions=Z.dimensions.slice(0),this.units=Z.units.map(X=>Xr({},X))}this.value=this._normalize(W)}function C(){for(;" "===x||"\t"===x;)S()}function E(W){return W>="0"&&W<="9"}function S(){b++,x=y.charAt(b)}function T(W){x=y.charAt(b=W)}function N(){var W="",Z=b;if("+"===x?S():"-"===x&&(W+=x,S()),!function M(W){return W>="0"&&W<="9"||"."===W}(x))return T(Z),null;if("."===x){if(W+=x,S(),!E(x))return T(Z),null}else{for(;E(x);)W+=x,S();"."===x&&(W+=x,S())}for(;E(x);)W+=x,S();if("E"===x||"e"===x){var pe="",X=b;if(pe+=x,S(),("+"===x||"-"===x)&&(pe+=x,S()),!E(x))return T(X),W;for(W+=pe;E(x);)W+=x,S()}return W}function k(){for(var W="";E(x)||v.isValidAlpha(x);)W+=x,S();var Z=W.charAt(0);return v.isValidAlpha(Z)?W:null}function R(W){return x===W?(S(),W):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(W,Z){if(Z=Z||{},b=-1,x="","string"!=typeof(y=W))throw new TypeError("Invalid argument in Unit.parse, string expected");var pe=new v;pe.units=[];var X=1,J=!1;S(),C();var he=N(),De=null;if(he){if("BigNumber"===t.number)De=new g(he);else if("Fraction"===t.number)try{De=new _(he)}catch{De=parseFloat(he)}else De=parseFloat(he);C(),R("*")?(X=1,J=!0):R("/")&&(X=-1,J=!0)}for(var V=[],U=1;;){for(C();"("===x;)V.push(X),U*=X,X=1,S(),C();var oe;if(!x)break;var Te=x;if(null===(oe=k()))throw new SyntaxError('Unexpected "'+Te+'" in "'+y+'" at index '+b.toString());var Fe=B(oe);if(null===Fe)throw new SyntaxError('Unit "'+oe+'" not found.');var He=X*U;if(C(),R("^")){C();var dt=N();if(null===dt)throw new SyntaxError('In "'+W+'", "^" must be followed by a floating-point number');He*=dt}pe.units.push({unit:Fe.unit,prefix:Fe.prefix,power:He});for(var ne=0;ne<O.length;ne++)pe.dimensions[ne]+=(Fe.unit.dimensions[ne]||0)*He;for(C();")"===x;){if(0===V.length)throw new SyntaxError('Unmatched ")" in "'+y+'" at index '+b.toString());U/=V.pop(),S(),C()}J=!1,R("*")?(X=1,J=!0):R("/")?(X=-1,J=!0):X=1,Fe.unit.base&&(K.auto[Fe.unit.base.key]={unit:Fe.unit,prefix:Fe.prefix})}if(C(),x)throw new SyntaxError('Could not parse: "'+W+'"');if(J)throw new SyntaxError('Trailing characters: "'+W+'"');if(0!==V.length)throw new SyntaxError('Unmatched "(" in "'+y+'"');if(0===pe.units.length&&!Z.allowNoUnits)throw new SyntaxError('"'+W+'" contains no units');return pe.value=void 0!==De?pe._normalize(De):null,pe},v.prototype.clone=function(){var W=new v;W.fixPrefix=this.fixPrefix,W.skipAutomaticSimplification=this.skipAutomaticSimplification,W.value=Lt(this.value),W.dimensions=this.dimensions.slice(0),W.units=[];for(var Z=0;Z<this.units.length;Z++)for(var pe in W.units[Z]={},this.units[Z])xt(this.units[Z],pe)&&(W.units[Z][pe]=this.units[Z][pe]);return W},v.prototype.valueType=function(){return Ti(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(W){if(null==W||0===this.units.length)return W;for(var Z=W,pe=v._getNumberConverter(Ti(W)),X=0;X<this.units.length;X++){var J=pe(this.units[X].unit.value),he=pe(this.units[X].prefix.value),De=pe(this.units[X].power);Z=a(Z,s(a(J,he),De))}return Z},v.prototype._denormalize=function(W,Z){if(null==W||0===this.units.length)return W;for(var pe=W,X=v._getNumberConverter(Ti(W)),J=0;J<this.units.length;J++){var he=X(this.units[J].unit.value),De=X(this.units[J].prefix.value),V=X(this.units[J].power);pe=o(pe,s(a(he,De),V))}return pe};var B=Kp(W=>{if(xt(z,W)){var Z=z[W];return{unit:Z,prefix:Z.prefixes[""]}}for(var X in z)if(xt(z,X)&&Wde(W,X)){var J=z[X],De=W.substring(0,W.length-X.length),V=xt(J.prefixes,De)?J.prefixes[De]:void 0;if(void 0!==V)return{unit:J,prefix:V}}return null},{hasher:W=>W[0],limit:100});function D(W){return W.equalBase(I.NONE)&&null!==W.value&&!t.predictable?W.value:W}v.isValuelessUnit=function(W){return null!==B(W)},v.prototype.hasBase=function(W){if("string"==typeof W&&(W=I[W]),!W)return!1;for(var Z=0;Z<O.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(W.dimensions[Z]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(W){for(var Z=0;Z<O.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(W.dimensions[Z]||0))>1e-12)return!1;return!0},v.prototype.equals=function(W){return this.equalBase(W)&&d(this.value,W.value)},v.prototype.multiply=function(W){for(var Z=this.clone(),pe=El(W)?W:new v(W),X=0;X<O.length;X++)Z.dimensions[X]=(this.dimensions[X]||0)+(pe.dimensions[X]||0);for(var J=0;J<pe.units.length;J++){var he=PE({},pe.units[J]);Z.units.push(he)}if(null!==this.value||null!==pe.value){var De=null===this.value?this._normalize(1):this.value,V=null===pe.value?pe._normalize(1):pe.value;Z.value=a(De,V)}else Z.value=null;return El(W)&&(Z.skipAutomaticSimplification=!1),D(Z)},v.prototype.divideInto=function(W){return new v(W).divide(this)},v.prototype.divide=function(W){for(var Z=this.clone(),pe=El(W)?W:new v(W),X=0;X<O.length;X++)Z.dimensions[X]=(this.dimensions[X]||0)-(pe.dimensions[X]||0);for(var J=0;J<pe.units.length;J++){var he=PE(PE({},pe.units[J]),{},{power:-pe.units[J].power});Z.units.push(he)}if(null!==this.value||null!==pe.value){var De=null===this.value?this._normalize(1):this.value,V=null===pe.value?pe._normalize(1):pe.value;Z.value=o(De,V)}else Z.value=null;return El(W)&&(Z.skipAutomaticSimplification=!1),D(Z)},v.prototype.pow=function(W){for(var Z=this.clone(),pe=0;pe<O.length;pe++)Z.dimensions[pe]=(this.dimensions[pe]||0)*W;for(var X=0;X<Z.units.length;X++)Z.units[X].power*=W;return Z.value=null!==Z.value?s(Z.value,W):null,Z.skipAutomaticSimplification=!1,D(Z)},v.prototype.abs=function(){var W=this.clone();if(null!==W.value)if(W._isDerived()||0===W.units[0].unit.offset)W.value=l(W.value);else{var Z=W._numberConverter(),pe=Z(W.units[0].unit.value),X=Z(W.units[0].unit.offset),J=a(pe,X);W.value=r(l(i(W.value,J)),J)}for(var he in W.units)("VA"===W.units[he].unit.name||"VAR"===W.units[he].unit.name)&&(W.units[he].unit=z.W);return W},v.prototype.to=function(W){var pe,Z=null===this.value?this._normalize(1):this.value;if("string"==typeof W)pe=v.parse(W);else{if(!El(W))throw new Error("String or Unit expected as parameter");pe=W.clone()}if(!this.equalBase(pe))throw new Error("Units do not match ('".concat(pe.toString(),"' != '").concat(this.toString(),"')"));if(null!==pe.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===pe.units[0].unit.offset)pe.value=Lt(Z);else{var X=v._getNumberConverter(Ti(Z)),J=X(this.units[0].unit.value),he=X(this.units[0].unit.offset),De=a(J,he),V=X(pe.units[0].unit.value),U=X(pe.units[0].unit.offset),oe=a(V,U);pe.value=r(i(Z,De),oe)}return pe.fixPrefix=!0,pe.skipAutomaticSimplification=!0,pe},v.prototype.toNumber=function(W){return w(this.toNumeric(W))},v.prototype.toNumeric=function(W){var Z;return(Z=W?this.to(W):this.clone())._isDerived()||0===Z.units.length?Z._denormalize(Z.value):Z._denormalize(Z.value,Z.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},v.fromJSON=function(W){var Z=new v(W.value,W.unit);return Z.fixPrefix=W.fixPrefix||!1,Z},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var pe,J,W=this.clone(),Z=[];for(var X in me)if(xt(me,X)&&W.hasBase(I[X])){pe=X;break}if("NONE"===pe)W.units=[];else if(pe&&xt(me,pe)&&(J=me[pe]),J)W.units=[{unit:J.unit,prefix:J.prefix,power:1}];else{for(var he=!1,De=0;De<O.length;De++){var V=O[De];Math.abs(W.dimensions[De]||0)>1e-12&&(xt(me,V)?Z.push({unit:me[V].unit,prefix:me[V].prefix,power:W.dimensions[De]||0}):he=!0)}Z.length<W.units.length&&!he&&(W.units=Z)}return W},v.prototype.toSI=function(){for(var W=this.clone(),Z=[],pe=0;pe<O.length;pe++){var X=O[pe];if(Math.abs(W.dimensions[pe]||0)>1e-12){if(!xt(K.si,X))throw new Error("Cannot express custom unit "+X+" in SI units");Z.push({unit:K.si[X].unit,prefix:K.si[X].prefix,power:W.dimensions[pe]||0})}}return W.units=Z,W.fixPrefix=!0,W.skipAutomaticSimplification=!0,W},v.prototype.formatUnits=function(){for(var W="",Z="",pe=0,X=0,J=0;J<this.units.length;J++)this.units[J].power>0?(pe++,W+=" "+this.units[J].prefix.name+this.units[J].unit.name,Math.abs(this.units[J].power-1)>1e-15&&(W+="^"+this.units[J].power)):this.units[J].power<0&&X++;if(X>0)for(var he=0;he<this.units.length;he++)this.units[he].power<0&&(pe>0?(Z+=" "+this.units[he].prefix.name+this.units[he].unit.name,Math.abs(this.units[he].power+1)>1e-15&&(Z+="^"+-this.units[he].power)):(Z+=" "+this.units[he].prefix.name+this.units[he].unit.name,Z+="^"+this.units[he].power));W=W.substr(1),Z=Z.substr(1),pe>1&&X>0&&(W="("+W+")"),X>1&&pe>0&&(Z="("+Z+")");var De=W;return pe>0&&X>0&&(De+=" / "),De+Z},v.prototype.format=function(W){var Z=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),pe=!1;for(var X in typeof Z.value<"u"&&null!==Z.value&&Cl(Z.value)&&(pe=Math.abs(Z.value.re)<1e-14),Z.units)xt(Z.units,X)&&Z.units[X].unit&&("VA"===Z.units[X].unit.name&&pe?Z.units[X].unit=z.VAR:"VAR"===Z.units[X].unit.name&&!pe&&(Z.units[X].unit=z.VA));1===Z.units.length&&!Z.fixPrefix&&Math.abs(Z.units[0].power-Math.round(Z.units[0].power))<1e-14&&(Z.units[0].prefix=Z._bestPrefix());var J=Z._denormalize(Z.value),he=null!==Z.value?f(J,W||{}):"",De=Z.formatUnits();return Z.value&&Cl(Z.value)&&(he="("+he+")"),De.length>0&&he.length>0&&(he+=" "),he+De},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var W=null!==this.value?l(this.value):0,Z=l(this.units[0].unit.value),pe=this.units[0].prefix;if(0===W)return pe;var X=this.units[0].power,J=Math.log(W/Math.pow(pe.value*Z,X))/Math.LN10-1.2;if(J>-2.200001&&J<1.800001)return pe;J=Math.abs(J);var he=this.units[0].unit.prefixes;for(var De in he)if(xt(he,De)){var V=he[De];if(V.scientific){var U=Math.abs(Math.log(W/Math.pow(V.value*Z,X))/Math.LN10-1.2);(U<J||U===J&&V.name.length<pe.name.length)&&(pe=V,J=U)}}return pe},v.prototype.splitUnit=function(W){for(var Z=this.clone(),pe=[],X=0;X<W.length&&(Z=Z.to(W[X]),X!==W.length-1);X++){var J=Z.toNumeric(),he=u(J),U=new v(d(he,J)?he:c(Z.toNumeric()),W[X].toString());pe.push(U),Z=r(Z,U)}for(var oe=0,Te=0;Te<pe.length;Te++)oe=i(oe,pe[Te].value);return d(oe,this.value)&&(Z.value=0),pe.push(Z),pe};var A={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};A.SHORTLONG=Xr({},A.SHORT,A.LONG),A.BINARY_SHORT=Xr({},A.BINARY_SHORT_SI,A.BINARY_SHORT_IEC),A.BINARY_LONG=Xr({},A.BINARY_LONG_SI,A.BINARY_LONG_IEC);var O=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var L in I)xt(I,L)&&(I[L].key=L);var G={name:"",base:{},value:1,offset:0,dimensions:O.map(W=>0)},z={meter:{name:"meter",base:I.LENGTH,prefixes:A.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:A.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:A.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:A.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:A.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:A.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:A.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:A.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:A.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:A.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:A.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:A.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:A.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:A.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:A.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:A.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:A.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:A.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:A.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:A.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:A.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:A.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:A.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:A.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:A.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:A.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:A.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:A.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:A.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:A.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:A.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:A.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:A.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:A.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:A.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:A.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:A.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:A.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:A.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:A.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:A.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:A.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:A.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:A.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:A.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:A.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:A.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:A.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:A.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:A.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:A.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:A.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:A.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:A.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:A.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:A.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:A.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:A.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:A.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:A.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:A.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:A.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:A.SHORT,value:907.18474,offset:0},t:{name:"t",base:I.MASS,prefixes:A.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:A.LONG,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:A.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:A.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:A.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:A.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:A.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:A.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:A.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:A.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:A.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:A.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:A.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:A.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:A.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:A.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:A.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:A.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:A.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:A.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:A.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:A.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:A.NONE,value:604800,offset:0},month:{name:"month",base:I.TIME,prefixes:A.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:A.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:A.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:A.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:A.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:A.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:A.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:A.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:A.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:A.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:A.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:A.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:A.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:A.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:A.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:A.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:A.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:A.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:A.SHORT,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:A.SHORT,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:A.SHORT,value:1/1.8,offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:A.SHORT,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:A.LONG,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:A.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:A.LONG,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:A.LONG,value:1/1.8,offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:A.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:A.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:A.SHORT,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:A.LONG,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:A.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:A.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:A.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:A.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:A.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:A.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:A.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:I.FORCE,prefixes:A.NONE,value:9.80665,offset:0},J:{name:"J",base:I.ENERGY,prefixes:A.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:A.SHORT,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:A.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:A.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:A.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:A.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:A.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:I.POWER,prefixes:A.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:A.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:A.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:A.SHORT,value:p.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:A.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:A.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:A.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:A.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:A.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:A.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:A.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:A.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:A.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:A.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:A.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:A.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:A.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:A.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:A.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:A.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:A.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:A.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:A.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:A.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:A.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:A.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:A.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:A.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:A.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:A.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:A.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:A.BINARY_LONG,value:8,offset:0}},$={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ae(W){if("BigNumber"===W.number){var Z=wE(g);z.rad.value=new g(1),z.deg.value=Z.div(180),z.grad.value=Z.div(200),z.cycle.value=Z.times(2),z.arcsec.value=Z.div(648e3),z.arcmin.value=Z.div(10800)}else z.rad.value=1,z.deg.value=Math.PI/180,z.grad.value=Math.PI/200,z.cycle.value=2*Math.PI,z.arcsec.value=Math.PI/648e3,z.arcmin.value=Math.PI/10800;z.radian.value=z.rad.value,z.degree.value=z.deg.value,z.gradian.value=z.grad.value}ae(t),e&&e("config",function(W,Z){W.number!==Z.number&&ae(W)});var K={si:{NONE:{unit:G,prefix:A.NONE[""]},LENGTH:{unit:z.m,prefix:A.SHORT[""]},MASS:{unit:z.g,prefix:A.SHORT.k},TIME:{unit:z.s,prefix:A.SHORT[""]},CURRENT:{unit:z.A,prefix:A.SHORT[""]},TEMPERATURE:{unit:z.K,prefix:A.SHORT[""]},LUMINOUS_INTENSITY:{unit:z.cd,prefix:A.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:z.mol,prefix:A.SHORT[""]},ANGLE:{unit:z.rad,prefix:A.SHORT[""]},BIT:{unit:z.bits,prefix:A.SHORT[""]},FORCE:{unit:z.N,prefix:A.SHORT[""]},ENERGY:{unit:z.J,prefix:A.SHORT[""]},POWER:{unit:z.W,prefix:A.SHORT[""]},PRESSURE:{unit:z.Pa,prefix:A.SHORT[""]},ELECTRIC_CHARGE:{unit:z.C,prefix:A.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:z.F,prefix:A.SHORT[""]},ELECTRIC_POTENTIAL:{unit:z.V,prefix:A.SHORT[""]},ELECTRIC_RESISTANCE:{unit:z.ohm,prefix:A.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:z.H,prefix:A.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:z.S,prefix:A.SHORT[""]},MAGNETIC_FLUX:{unit:z.Wb,prefix:A.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:z.T,prefix:A.SHORT[""]},FREQUENCY:{unit:z.Hz,prefix:A.SHORT[""]}}};K.cgs=JSON.parse(JSON.stringify(K.si)),K.cgs.LENGTH={unit:z.m,prefix:A.SHORT.c},K.cgs.MASS={unit:z.g,prefix:A.SHORT[""]},K.cgs.FORCE={unit:z.dyn,prefix:A.SHORT[""]},K.cgs.ENERGY={unit:z.erg,prefix:A.NONE[""]},K.us=JSON.parse(JSON.stringify(K.si)),K.us.LENGTH={unit:z.ft,prefix:A.NONE[""]},K.us.MASS={unit:z.lbm,prefix:A.NONE[""]},K.us.TEMPERATURE={unit:z.degF,prefix:A.NONE[""]},K.us.FORCE={unit:z.lbf,prefix:A.NONE[""]},K.us.ENERGY={unit:z.BTU,prefix:A.BTU[""]},K.us.POWER={unit:z.hp,prefix:A.NONE[""]},K.us.PRESSURE={unit:z.psi,prefix:A.NONE[""]},K.auto=JSON.parse(JSON.stringify(K.si));var me=K.auto;for(var ye in v.setUnitSystem=function(W){if(!xt(K,W))throw new Error("Unit system "+W+" does not exist. Choices are: "+Object.keys(K).join(", "));me=K[W]},v.getUnitSystem=function(){for(var W in K)if(xt(K,W)&&K[W]===me)return W},v.typeConverters={BigNumber:function(Z){return new g(Z+"")},Fraction:function(Z){return new _(Z)},Complex:function(Z){return Z},number:function(Z){return Z}},v.prototype._numberConverter=function(){var W=v.typeConverters[this.valueType()];if(W)return W;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(W){if(!v.typeConverters[W])throw new TypeError('Unsupported type "'+W+'"');return v.typeConverters[W]},z)if(xt(z,ye)){var ge=z[ye];ge.dimensions=ge.base.dimensions}for(var re in $)if(xt($,re)){var Ie=z[$[re]],be={};for(var fe in Ie)xt(Ie,fe)&&(be[fe]=Ie[fe]);be.name=re,z[re]=be}return v.isValidAlpha=function(Z){return/^[a-zA-Z]$/.test(Z)},v.createUnit=function(W,Z){if("object"!=typeof W)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Z&&Z.override)for(var pe in W)if(xt(W,pe)&&v.deleteUnit(pe),W[pe].aliases)for(var X=0;X<W[pe].aliases.length;X++)v.deleteUnit(W[pe].aliases[X]);var J;for(var he in W)xt(W,he)&&(J=v.createUnitSingle(he,W[he]));return J},v.createUnitSingle=function(W,Z){if((typeof Z>"u"||null===Z)&&(Z={}),"string"!=typeof W)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(xt(z,W))throw new Error('Cannot create unit "'+W+'": a unit with that name already exists');!function Se(W){for(var Z=0;Z<W.length;Z++){if(x=W.charAt(Z),0===Z&&!v.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+W+'"');if(Z>0&&!v.isValidAlpha(x)&&!E(x))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+W+'"')}}(W);var he,De,V,pe=null,X=[],J=0;if(Z&&"Unit"===Z.type)pe=Z.clone();else if("string"==typeof Z)""!==Z&&(he=Z);else{if("object"!=typeof Z)throw new TypeError('Cannot create unit "'+W+'" from "'+Z.toString()+'": expecting "string" or "Unit" or "Object"');he=Z.definition,De=Z.prefixes,J=Z.offset,V=Z.baseName,Z.aliases&&(X=Z.aliases.valueOf())}if(X)for(var U=0;U<X.length;U++)if(xt(z,X[U]))throw new Error('Cannot create alias "'+X[U]+'": a unit with that name already exists');if(he&&"string"==typeof he&&!pe)try{pe=v.parse(he,{allowNoUnits:!0})}catch(Kt){throw Kt.message='Could not create unit "'+W+'" from "'+he+'": '+Kt.message,Kt}else he&&"Unit"===he.type&&(pe=he.clone());X=X||[],J=J||0,De=De&&De.toUpperCase&&A[De.toUpperCase()]||A.NONE;var oe={};if(pe){oe={name:W,value:pe.value,dimensions:pe.dimensions.slice(0),prefixes:De,offset:J};var dt=!1;for(var ne in I)if(xt(I,ne)){for(var we=!0,Je=0;Je<O.length;Je++)if(Math.abs((oe.dimensions[Je]||0)-(I[ne].dimensions[Je]||0))>1e-12){we=!1;break}if(we){dt=!0,oe.base=I[ne];break}}if(!dt){V=V||W+"_STUFF";var ct={dimensions:pe.dimensions.slice(0)};ct.key=V,I[V]=ct,me[V]={unit:oe,prefix:A.NONE[""]},oe.base=I[V]}}else{if(O.indexOf(V=V||W+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+W+'": a base unit with that name already exists (and cannot be overridden)');for(var Te in O.push(V),I)xt(I,Te)&&(I[Te].dimensions[O.length-1]=0);for(var Fe={dimensions:[]},He=0;He<O.length;He++)Fe.dimensions[He]=0;Fe.dimensions[O.length-1]=1,Fe.key=V,I[V]=Fe,oe={name:W,value:1,dimensions:I[V].dimensions.slice(0),prefixes:De,offset:J,base:I[V]},me[V]={unit:oe,prefix:A.NONE[""]}}v.UNITS[W]=oe;for(var ot=0;ot<X.length;ot++){var _t=X[ot],Xe={};for(var Dt in oe)xt(oe,Dt)&&(Xe[Dt]=oe[Dt]);Xe.name=_t,v.UNITS[_t]=Xe}return delete B.cache,new v(null,W)},v.deleteUnit=function(W){delete v.UNITS[W]},v.PREFIXES=A,v.BASE_DIMENSIONS=O,v.BASE_UNITS=I,v.UNIT_SYSTEMS=K,v.UNITS=z,v},{isClass:!0}),V6="createUnit",LAe=Y(V6,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(V6,{"Object, Object":function(r,a){return t.createUnit(r,a)},Object:function(r){return t.createUnit(r,{})},"string, Unit | string | Object, Object":function(r,a,o){var s={};return s[r]=a,t.createUnit(s,o)},"string, Unit | string | Object":function(r,a){var o={};return o[r]=a,t.createUnit(o,{})},string:function(r){var a={};return a[r]={},t.createUnit(a,{})}})}),zAe=Y("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:i,pow:r,DenseMatrix:a}=n,o=Ta({typed:e}),s=Os({typed:e,DenseMatrix:a}),l=Kr({typed:e,equalScalar:t}),c=Nr({typed:e,DenseMatrix:a}),u=yi({typed:e,matrix:i}),d={};for(var h in r.signatures)Object.prototype.hasOwnProperty.call(r.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(d[h]=r.signatures[h]);var f=e(d);return e("dotPow",u({elop:f,SS:s,DS:o,Ss:l,sS:c}))}),VAe=Y("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:i,identity:r,inv:a,multiply:o}=n;return e("expm",{Matrix:function(d){var h=d.size();if(2!==h.length||h[0]!==h[1])throw new RangeError("Matrix must be square (size: "+nn(h)+")");for(var f=h[0],p=function s(u){for(var d=u.size()[0],h=0,f=0;f<d;f++){for(var m=0,p=0;p<d;p++)m+=t(u.get([f,p]));h=Math.max(m,h)}return h}(d),g=function l(u,d){for(var f=0;f<30;f++)for(var m=0;m<=f;m++){var p=f-m;if(c(u,m,p)<d)return{q:m,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(p,1e-15),_=g.q,w=g.j,v=o(d,Math.pow(2,-w)),y=r(f),b=r(f),x=1,C=v,M=-1,E=1;E<=_;E++)E>1&&(C=o(C,v),M=-M),y=i(y,o(x=x*(_-E+1)/((2*_-E+1)*E),C)),b=i(b,o(x*M,C));for(var S=o(a(b),y),T=0;T<w;T++)S=o(S,S);return Ou(d)?d.createSparseMatrix(S):S}});function c(u,d,h){for(var f=1,m=2;m<=d;m++)f*=m;for(var p=f,g=d+1;g<=2*d;g++)p*=g;var _=p*(2*d+1);return 8*Math.pow(u/Math.pow(2,h),2*d)*f*f/(p*_)}}),GAe=Y("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:a,Complex:o}=n;return e("gamma",{number:ib,Complex:function s(c){if(0===c.im)return ib(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),d=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(d.sin()).div(s(u))}c=new o(c.re-1,c.im);for(var h=new o(ff[0],0),f=1;f<ff.length;++f){var m=new o(ff[f],0);h=h.add(m.div(c.add(f)))}var p=new o(c.re+y8+.5,c.im),g=Math.sqrt(2*Math.PI),_=p.pow(c.add(.5)),w=p.neg().exp();return h.mul(g).mul(_).mul(w)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new a(1/0):l(u.minus(1));if(!u.isFinite())return new a(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new a([1,1,2,6,24,120,720,5040][c]);var u=t.precision+(0|Math.log(c.toNumber())),d=a.clone({precision:u});if(c%2==1)return c.times(l(new a(c-1)));for(var h=c,f=new d(c),m=c.toNumber();h>2;)f=f.times(m+=h-=2);return new a(f.toPrecision(a.precision))}}),W6="setSymDifference",WAe=Y(W6,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:i,subset:r,setDifference:a,Index:o}=n;return e(W6,{"Array | Matrix, Array | Matrix":function(l,c){if(0===r(t(l),new o(0)))return Un(c);if(0===r(t(c),new o(0)))return Un(l);var u=Un(l),d=Un(c);return i(a(u,d),a(d,u))}})}),XAe=Y("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:i,equalScalar:r,divideScalar:a,inv:o}=n,s=Kr({typed:e,equalScalar:r}),l=cs({typed:e});return e("divide",oB({"Array | Matrix, Array | Matrix":function(u,d){return i(u,o(d))},"DenseMatrix, any":function(u,d){return l(u,d,a,!1)},"SparseMatrix, any":function(u,d){return s(u,d,a,!1)},"Array, any":function(u,d){return l(t(u),d,a,!1).valueOf()},"any, Array | Matrix":function(u,d){return i(u,o(d))}},a.signatures))}),$6="factorial",ZAe=Y($6,["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e($6,{number:function(r){if(r<0)throw new Error("Value must be non-negative");return t(r+1)},BigNumber:function(r){if(r.isNegative())throw new Error("Value must be non-negative");return t(r.plus(1))},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))})}),QAe=Y("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:i,addScalar:r,divideScalar:a,multiplyScalar:o,subtract:s,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:d,SparseMatrix:h,Spa:f}=n;return e("lup",{DenseMatrix:function(_){return m(_)},SparseMatrix:function(_){return function p(g){var B,D,A,_=g._size[0],w=g._size[1],v=Math.min(_,w),y=g._values,b=g._index,x=g._ptr,C=[],M=[],E=[],S=[_,v],T=[],N=[],k=[],R=[v,w],O=[],I=[];for(B=0;B<_;B++)O[B]=B,I[B]=B;var q=function(){var z=new f;D<_&&(E.push(C.length),C.push(1),M.push(D)),k.push(T.length);var ae=x[D+1];for(A=x[D];A<ae;A++)z.set(O[B=b[A]],y[A]);D>0&&z.forEach(0,D-1,function(ge,re){h._forEachRow(ge,C,M,E,function(Ie,be){Ie>ge&&z.accumulate(Ie,u(o(be,re)))})});var K=D,me=z.get(D),ye=i(me);z.forEach(D+1,_-1,function(ge,re){var Ie=i(re);l(Ie,ye)&&(K=ge,ye=Ie,me=re)}),D!==K&&(h._swapRows(D,K,S[1],C,M,E),h._swapRows(D,K,R[1],T,N,k),z.swap(D,K),function(z,$){var ae=I[z],K=I[$];O[ae]=$,O[K]=z,I[z]=K,I[$]=ae}(D,K)),z.forEach(0,_-1,function(ge,re){ge<=D?(T.push(re),N.push(ge)):(re=a(re,me),c(re,0)||(C.push(re),M.push(ge)))})};for(D=0;D<w;D++)q();return k.push(T.length),E.push(C.length),{L:new h({values:C,index:M,ptr:E,size:S}),U:new h({values:T,index:N,ptr:k,size:R}),p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(_)},Array:function(_){var v=m(t(_));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function m(g){var E,S,T,_=g._size[0],w=g._size[1],v=Math.min(_,w),y=Lt(g._data),b=[],x=[_,v],C=[],M=[v,w],N=[];for(E=0;E<_;E++)N[E]=E;for(S=0;S<w;S++){if(S>0)for(E=0;E<_;E++){var k=Math.min(E,S),R=0;for(T=0;T<k;T++)R=r(R,o(y[E][T],y[T][S]));y[E][S]=s(y[E][S],R)}var B=S,D=0,A=0;for(E=S;E<_;E++){var O=y[E][S],I=i(O);l(I,D)&&(B=E,D=I,A=O)}if(S!==B&&(N[S]=[N[B],N[B]=N[S]][0],d._swapRows(S,B,y)),S<_)for(E=S+1;E<_;E++)c(y[E][S],0)||(y[E][S]=a(y[E][S],A))}for(S=0;S<w;S++)for(E=0;E<_;E++)0===S&&(E<w&&(C[E]=[]),b[E]=[]),E<S?(E<w&&(C[E][S]=y[E][S]),S<_&&(b[E][S]=0)):E!==S?(E<w&&(C[E][S]=0),S<_&&(b[E][S]=y[E][S])):(E<w&&(C[E][S]=y[E][S]),S<_&&(b[E][S]=1));var q=new d({data:b,size:x}),G=new d({data:C,size:M}),z=[];for(E=0,v=N.length;E<v;E++)z[N[E]]=E;return{L:q,U:G,p:z,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),X6="multinomial",eTe=Y(X6,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:i,multiply:r,factorial:a,isInteger:o,isPositive:s}=n;return e(X6,{"Array | Matrix":function(c){var u=0,d=1;return Nl(c,function(h){if(!o(h)||!s(h))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,h),d=r(d,a(h))}),i(a(u),d)}})}),Y6="permutations",nTe=Y(Y6,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Y6,{"number | BigNumber":t,"number, number":function(r,a){if(!Et(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(!Et(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>r)throw new TypeError("second argument k must be less than or equal to first argument n");return Rl(r-a+1,r)},"BigNumber, BigNumber":function(r,a){var o,s;if(!Z6(r)||!Z6(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=r.mul(0).add(1),s=r.minus(a).plus(1);s.lte(r);s=s.plus(1))o=o.times(s);return o}})});function Z6(n){return n.isInteger()&&n.gte(0)}var K6="polynomialRoot",rTe=Y(K6,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:i,add:r,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:c,cbrt:u,typeOf:d,im:h,re:f}=n;return e(K6,{"number|Complex, ...number|Complex":(m,p)=>{for(var g=[m,...p];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(m,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[c(s(g[0],g[1]))];case 3:var[_,w,v]=g,y=o(2,v),b=o(w,w),x=o(4,v,_);if(i(b,x))return[s(c(w),y)];var C=l(a(b,x));return[s(a(C,w),y),s(a(c(C),w),y)];case 4:var[M,E,S,T]=g,N=c(o(3,T)),k=o(S,S),R=o(3,T,E),B=r(o(2,S,S,S),o(27,T,T,M)),D=o(9,T,S,E);if(i(k,R)&&i(B,D))return[s(S,N)];var q,A=a(k,R),O=a(B,D),I=r(o(18,T,S,E,M),o(S,S,E,E)),L=r(o(4,S,S,S,M),o(4,T,E,E,E),o(27,T,T,M,M));return i(I,L)?[s(a(o(4,T,S,E),r(o(9,T,T,M),o(S,S,S))),o(T,A)),s(a(o(9,T,M),o(S,E)),o(2,A))]:(q=i(k,R)?O:s(r(O,l(a(o(O,O),o(4,A,A,A)))),2),u(q,!0).toArray().map($=>s(r(S,$,s(A,$)),N)).map($=>"Complex"===d($)&&i(f($),f($)+h($))?f($):$));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})}),Q6="setIntersect",oTe=Y(Q6,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:a,DenseMatrix:o}=n;return e(Q6,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===i(t(l),new a(0))||0===i(t(c),new a(0)))u=[];else{var d=rf(Un(Array.isArray(l)?l:l.toArray()).sort(r)),h=rf(Un(Array.isArray(c)?c:c.toArray()).sort(r));u=[];for(var f=0;f<d.length;f++)for(var m=0;m<h.length;m++)if(0===r(d[f].value,h[m].value)&&d[f].identifier===h[m].identifier){u.push(d[f]);break}}return Array.isArray(l)&&Array.isArray(c)?Sy(u):new o(Sy(u))}})}),J6="stirlingS2",lTe=Y(J6,["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,isNegative:c,isInteger:u,number:d,bignumber:h,larger:f}=n,m=[],p=[];return e(J6,{"number | BigNumber, number | BigNumber":function(_,w){if(!u(_)||c(_)||!u(w)||c(w))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(w,_))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(Rn(_)&&Rn(w)),y=v?p:m,b=v?h:d,x=d(_),C=d(w);if(y[x]&&y[x].length>C)return y[x][C];for(var M=0;M<=x;++M)if(y[M]||(y[M]=[b(0===M?1:0)]),0!==M)for(var E=y[M],S=y[M-1],T=E.length;T<=M&&T<=C;++T)E[T]=T===M?1:t(r(b(T),S[T]),S[T-1]);return y[x][C]}})}),uTe=Y("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(r){return r.clone()},string:function(r){return t.isValuelessUnit(r)?new t(null,r):t.parse(r,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(r,a){return new t(r,a)},"number | BigNumber | Fraction":function(r){return new t(r)},"Array | Matrix":e.referToSelf(i=>r=>dn(r,i))})}),tU="bellNumbers",hTe=Y(tU,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:i,isInteger:r,stirlingS2:a}=n;return e(tU,{"number | BigNumber":function(s){if(!r(s)||i(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=s;c++)l=t(l,a(s,c));return l}})});var vTe=Y("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],n=>{var{config:e,typed:t,matrix:i,addScalar:r,subtract:a,equal:o,abs:s,atan:l,cos:c,sin:u,multiplyScalar:d,divideScalar:h,inv:f,bignumber:m,multiply:p,add:g,larger:_,column:w,flatten:v,number:y,complex:b,sqrt:x,diag:C,qr:M,usolve:E,usolveAll:S,im:T,re:N,smaller:k,matrixFromColumns:R,dot:B}=n,D=function mTe(n){var{config:e,addScalar:t,subtract:i,abs:r,atan:a,cos:o,sin:s,multiplyScalar:l,inv:c,bignumber:u,multiply:d,add:h}=n;function m(S,T){for(var R,N=S.length,k=Math.abs(T/N),B=new Array(N),D=0;D<N;D++)B[D]=E(N,0),B[D][D]=1;for(var A=x(S);Math.abs(A[1])>=Math.abs(k);){var O=A[0][0],I=A[0][1];S=b(S,R=g(S[O][O],S[I][I],S[O][I]),O,I),B=w(B,R,O,I),A=x(S)}for(var L=E(N,0),q=0;q<N;q++)L[q]=S[q][q];return M(Lt(L),Lt(B))}function p(S,T){for(var R,N=S.length,k=r(T/N),B=new Array(N),D=0;D<N;D++)B[D]=E(N,0),B[D][D]=1;for(var A=C(S);r(A[1])>=r(k);){var O=A[0][0],I=A[0][1];S=y(S,R=_(S[O][O],S[I][I],S[O][I]),O,I),B=v(B,R,O,I),A=C(S)}for(var L=E(N,0),q=0;q<N;q++)L[q]=S[q][q];return M(Lt(L),Lt(B))}function g(S,T,N){return Math.abs(T-S)<=e.epsilon?Math.PI/4:.5*Math.atan(2*N/(T-S))}function _(S,T,N){var k=i(T,S);return r(k)<=e.epsilon?u(-1).acos().div(4):l(.5,a(d(2,N,c(k))))}function w(S,T,N,k){for(var R=S.length,B=Math.cos(T),D=Math.sin(T),A=E(R,0),O=E(R,0),I=0;I<R;I++)A[I]=B*S[I][N]-D*S[I][k],O[I]=D*S[I][N]+B*S[I][k];for(var L=0;L<R;L++)S[L][N]=A[L],S[L][k]=O[L];return S}function v(S,T,N,k){for(var R=S.length,B=o(T),D=s(T),A=E(R,u(0)),O=E(R,u(0)),I=0;I<R;I++)A[I]=i(l(B,S[I][N]),l(D,S[I][k])),O[I]=t(l(D,S[I][N]),l(B,S[I][k]));for(var L=0;L<R;L++)S[L][N]=A[L],S[L][k]=O[L];return S}function y(S,T,N,k){for(var R=S.length,B=u(o(T)),D=u(s(T)),A=l(B,B),O=l(D,D),I=E(R,u(0)),L=E(R,u(0)),q=d(u(2),B,D,S[N][k]),G=t(i(l(A,S[N][N]),q),l(O,S[k][k])),z=h(l(O,S[N][N]),q,l(A,S[k][k])),$=0;$<R;$++)I[$]=i(l(B,S[N][$]),l(D,S[k][$])),L[$]=t(l(D,S[N][$]),l(B,S[k][$]));S[N][N]=G,S[k][k]=z,S[N][k]=u(0),S[k][N]=u(0);for(var ae=0;ae<R;ae++)ae!==N&&ae!==k&&(S[N][ae]=I[ae],S[ae][N]=I[ae],S[k][ae]=L[ae],S[ae][k]=L[ae]);return S}function b(S,T,N,k){for(var R=S.length,B=Math.cos(T),D=Math.sin(T),A=B*B,O=D*D,I=E(R,0),L=E(R,0),q=A*S[N][N]-2*B*D*S[N][k]+O*S[k][k],G=O*S[N][N]+2*B*D*S[N][k]+A*S[k][k],z=0;z<R;z++)I[z]=B*S[N][z]-D*S[k][z],L[z]=D*S[N][z]+B*S[k][z];S[N][N]=q,S[k][k]=G,S[N][k]=0,S[k][N]=0;for(var $=0;$<R;$++)$!==N&&$!==k&&(S[N][$]=I[$],S[$][N]=I[$],S[k][$]=L[$],S[$][k]=L[$]);return S}function x(S){for(var T=S.length,N=0,k=[0,1],R=0;R<T;R++)for(var B=R+1;B<T;B++)Math.abs(N)<Math.abs(S[R][B])&&(N=Math.abs(S[R][B]),k=[R,B]);return[k,N]}function C(S){for(var T=S.length,N=0,k=[0,1],R=0;R<T;R++)for(var B=R+1;B<T;B++)r(N)<r(S[R][B])&&(N=r(S[R][B]),k=[R,B]);return[k,N]}function M(S,T){for(var N=S.length,k=Array(N),R=Array(N),B=0;B<N;B++)R[B]=Array(N);for(var D=0;D<N;D++){for(var A=0,O=S[0],I=0;I<S.length;I++)r(S[I])<r(O)&&(O=S[A=I]);k[D]=S.splice(A,1)[0];for(var L=0;L<N;L++)R[L][D]=T[L][A],T[L].splice(A,1)}return{values:k,vectors:R}}function E(S,T){for(var N=new Array(S),k=0;k<S;k++)N[k]=T;return N}return function f(S,T){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.epsilon,k=arguments.length>3?arguments[3]:void 0;if("number"===k)return m(S,N);if("BigNumber"===k)return p(S,N);throw TypeError("Unsupported data type: "+k)}}({config:e,addScalar:r,subtract:a,column:w,flatten:v,equal:o,abs:s,atan:l,cos:c,sin:u,multiplyScalar:d,inv:f,bignumber:m,complex:b,multiply:p,add:g}),A=function fTe(n){var{addScalar:e,subtract:t,flatten:i,multiply:r,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:c,diag:u,inv:d,qr:h,usolve:f,usolveAll:m,equal:p,complex:g,larger:_,smaller:w,matrixFromColumns:v,dot:y}=n;function S(L,q,G,z){var $=e(L,z),ae=t(a(L,z),a(q,G)),K=a($,.5),me=a(s(t(a($,$),a(4,ae))),.5);return[e(K,me),t(K,me)]}function T(L,q,G,z,$,ae,K,me){var ye="BigNumber"===me,ge="Complex"===me,re=ye?c(0):ge?g(0):0,Ie=ye?c(1):ge?g(1):1;if(w(l(G),K))return[[Ie,re],[re,Ie]];if(_(l(t($,ae)),K))return[[t($,z),t(ae,z)],[G,G]];var be=t(L,$),fe=t(q,$),Se=t(G,$),W=t(z,$);return w(l(fe),K)?[[be,Ie],[Se,re]]:[[fe,re],[W,Ie]]}function N(L,q){for(var G=0;G<L.length;G++)L[G].push(...Array(q-L[G].length).fill(0));for(var z=L.length;z<q;z++)L.push(Array(q).fill(0)),L[z][z]=1;return L}function R(L,q,G){for(var z=0;z<L.length;z++)if(G(L[z],q))return z;return-1}function B(L,q,G,z,$){for(var K,ae="BigNumber"===$?c(1e3):1e3,me=0;K=D(q,G,$),K=f(L,K),!_(O(K),ae);)if(++me>=5)return null;for(me=0;;){var ye=f(L,K);if(w(O(A(K,[ye])),z))break;if(++me>=10)return null;K=I(ye)}return K}function D(L,q,G){var z="BigNumber"===G,$="Complex"===G,ae=Array(L).fill(0).map(K=>2*Math.random()-1);return z&&(ae=ae.map(K=>c(K))),$&&(ae=ae.map(K=>g(K))),I(ae=A(ae,q),G)}function A(L,q){for(var G of q)L=t(L,r(o(y(G,L),y(G,G)),G));return L}function O(L){return l(s(y(L,L)))}function I(L,q){var z="Complex"===q,$="BigNumber"===q?c(1):z?g(1):1;return r(o($,O(L)),L)}return function b(L,q,G,z,$){void 0===$&&($=!0);var ae=function x(L,q,G,z,$){var be,ae="BigNumber"===z,K="Complex"===z,me=ae?c(0):0,ye=ae?c(1):K?g(1):1,ge=ae?c(1):1,re=ae?c(10):2,Ie=a(re,re);$&&(be=Array(q).fill(ye));for(var fe=!1;!fe;){fe=!0;for(var Se=0;Se<q;Se++){for(var W=me,Z=me,pe=0;pe<q;pe++)if(Se!==pe){var X=l(L[Se][pe]);W=e(W,X),Z=e(Z,X)}if(!p(W,0)&&!p(Z,0)){for(var J=ge,he=W,De=o(Z,re),V=a(Z,re);w(he,De);)he=a(he,Ie),J=a(J,re);for(;_(he,V);)he=o(he,Ie),J=o(J,re);if(w(o(e(he,Z),J),a(e(W,Z),.95))){fe=!1;for(var oe=o(1,J),Te=0;Te<q;Te++)Se!==Te&&(L[Se][Te]=a(L[Se][Te],J),L[Te][Se]=a(L[Te][Se],oe));$&&(be[Se]=a(be[Se],J))}}}}return u(be)}(L,q,0,z,$);!function C(L,q,G,z,$,ae){var K="BigNumber"===z,me="Complex"===z,ye=K?c(0):me?g(0):0;K&&(G=c(G));for(var ge=0;ge<q-2;ge++){for(var re=0,Ie=ye,be=ge+1;be<q;be++){var fe=L[be][ge];w(l(Ie),l(fe))&&(Ie=fe,re=be)}if(!w(l(Ie),G)){if(re!==ge+1){var Se=L[re];L[re]=L[ge+1],L[ge+1]=Se;for(var W=0;W<q;W++){var Z=L[W][re];L[W][re]=L[W][ge+1],L[W][ge+1]=Z}if($){var pe=ae[re];ae[re]=ae[ge+1],ae[ge+1]=pe}}for(var X=ge+2;X<q;X++){var J=o(L[X][ge],Ie);if(0!==J){for(var he=0;he<q;he++)L[X][he]=t(L[X][he],a(J,L[ge+1][he]));for(var De=0;De<q;De++)L[De][ge+1]=e(L[De][ge+1],a(J,L[De][X]));if($)for(var V=0;V<q;V++)ae[X][V]=t(ae[X][V],a(J,ae[ge+1][V]))}}}}}(L,q,G,z,$,ae);var ye,{values:K,C:me}=function M(L,q,G,z,$){var ae="BigNumber"===z,K="Complex"===z,me=ae?c(1):K?g(1):1;ae&&(G=c(G));for(var ye=Lt(L),ge=[],re=q,Ie=[],be=$?u(Array(q).fill(me)):void 0,fe=$?u(Array(re).fill(me)):void 0,Se=0;Se<=100;){Se+=1;for(var Z=0;Z<re;Z++)ye[Z][Z]=t(ye[Z][Z],0);var{Q:pe,R:X}=h(ye);ye=r(X,pe);for(var J=0;J<re;J++)ye[J][J]=e(ye[J][J],0);if($&&(fe=r(fe,pe)),1===re||w(l(ye[re-1][re-2]),G)){Se=0,ge.push(ye[re-1][re-1]),$&&(Ie.unshift([[1]]),N(fe,q),be=r(be,fe),re>1&&(fe=u(Array(re-1).fill(me)))),re-=1,ye.pop();for(var he=0;he<re;he++)ye[he].pop()}else if(2===re||w(l(ye[re-2][re-3]),G)){Se=0;var De=S(ye[re-2][re-2],ye[re-2][re-1],ye[re-1][re-2],ye[re-1][re-1]);ge.push(...De),$&&(Ie.unshift(T(ye[re-2][re-2],ye[re-2][re-1],ye[re-1][re-2],ye[re-1][re-1],De[0],De[1],G,z)),N(fe,q),be=r(be,fe),re>2&&(fe=u(Array(re-2).fill(me)))),re-=2,ye.pop(),ye.pop();for(var V=0;V<re;V++)ye[V].pop(),ye[V].pop()}if(0===re)break}if(ge.sort((Te,Fe)=>+t(l(Te),l(Fe))),Se>100){var U=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ge.join(", "));throw U.values=ge,U.vectors=[],U}var oe=$?r(be,function k(L,q){for(var G=[],z=0;z<q;z++)G[z]=Array(q).fill(0);var $=0;for(var ae of L){for(var K=ae.length,me=0;me<K;me++)for(var ye=0;ye<K;ye++)G[$+me][$+ye]=ae[me][ye];$+=K}return G}(Ie,q)):void 0;return{values:ge,C:oe}}(L,q,G,z,$);return $&&(ye=function E(L,q,G,z,$,ae,K){var me=d(G),ye=r(me,L,G),ge="BigNumber"===K,re="Complex"===K,Ie=ge?c(0):re?g(0):0,be=ge?c(1):re?g(1):1,fe=[],Se=[];for(var W of $){var Z=R(fe,W,p);-1===Z?(fe.push(W),Se.push(1)):Se[Z]+=1}for(var pe=[],X=fe.length,J=Array(q).fill(Ie),he=u(Array(q).fill(be)),De=[],V=function(Fe){var He=fe[Fe],dt=t(ye,r(He,he)),ne=m(dt,J);for(ne.shift();ne.length<Se[Fe];){var we=B(dt,q,ne,ae,K);if(null==we){De.push(He);break}ne.push(we)}var Je=r(d(z),G);ne=ne.map(ct=>r(Je,ct)),pe.push(...ne.map(ct=>i(ct)))},U=0;U<X;U++)V(U);if(0!==De.length){var oe=new Error("Failed to find eigenvectors for the following eigenvalues: "+De.join(", "));throw oe.values=$,oe.vectors=pe,oe}return pe}(L,q,me,ae,K,G,z),ye=v(...ye)),{values:K,vectors:ye}}}({config:e,addScalar:r,subtract:a,multiply:p,multiplyScalar:d,flatten:v,divideScalar:h,sqrt:x,abs:s,bignumber:m,diag:C,qr:M,inv:f,usolve:E,usolveAll:S,equal:o,complex:b,larger:_,smaller:k,matrixFromColumns:R,dot:B});return t("eigs",{Array:function($){return O(i($))},"Array, number|BigNumber":function($,ae){return O(i($),ae)},Matrix:function($){var{values:ae,vectors:K}=O($);return{values:i(ae),vectors:i(K)}},"Matrix, number|BigNumber":function($,ae){var{values:K,vectors:me}=O($,ae);return{values:i(K),vectors:i(me)}}});function O(z,$){void 0===$&&($=e.epsilon);var ae=z.size();if(2!==ae.length||ae[0]!==ae[1])throw new RangeError("Matrix must be square (size: "+nn(ae)+")");var K=z.toArray(),me=ae[0];if(function L(z,$,ae){for(var K=0;K<$;K++)for(var me=0;me<$;me++)if(_(m(s(T(z[K][me]))),ae))return!1;return!0}(K,me,$)&&(function q(z,$){for(var ae=0;ae<$;ae++)for(var K=0;K<$;K++)z[ae][K]=N(z[ae][K])}(K,me),function I(z,$,ae){for(var K=0;K<$;K++)for(var me=K;me<$;me++)if(_(m(s(a(z[K][me],z[me][K]))),ae))return!1;return!0}(K,me,$))){var ye=G(z,K,me);return D(K,me,$,ye)}var ge=G(z,K,me);return A(K,me,$,ge)}function G(z,$,ae){var K=z.datatype();if("number"===K||"BigNumber"===K||"Complex"===K)return K;for(var me=!1,ye=!1,ge=!1,re=0;re<ae;re++)for(var Ie=0;Ie<ae;Ie++){var be=$[re][Ie];if(Rn(be)||qp(be))me=!0;else if(Mn(be))ye=!0;else{if(!Cl(be))throw TypeError("Unsupported type in Matrix: "+Ti(be));ge=!0}}if(ye&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var fe=0;fe<ae;fe++)for(var Se=0;Se<ae;Se++)$[fe][Se]=b($[fe][Se]);return"Complex"}if(ye){for(var W=0;W<ae;W++)for(var Z=0;Z<ae;Z++)$[W][Z]=m($[W][Z]);return"BigNumber"}if(me){for(var pe=0;pe<ae;pe++)for(var X=0;X<ae;X++)$[pe][X]=y($[pe][X]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),nU="setUnion",yTe=Y(nU,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:i,subset:r,setIntersect:a,setSymDifference:o,Index:s}=n;return e(nU,{"Array | Matrix, Array | Matrix":function(c,u){if(0===r(t(c),new s(0)))return Un(u);if(0===r(t(u),new s(0)))return Un(c);var d=Un(c),h=Un(u);return i(o(d,h),a(d,h))}})});function iU(n,e){var t,i=e.length,r=[];if(n)for(t=0;t<i;t++)r[n[t]]=e[t];else for(t=0;t<i;t++)r[t]=e[t];return r}var rU="lusolve",bTe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],xTe=Y(rU,bTe,n=>{var{typed:e,matrix:t,lup:i,slu:r,usolve:a,lsolve:o,DenseMatrix:s}=n,l=ig({DenseMatrix:s});return e(rU,{"Array, Array | Matrix":function(h,f){h=t(h);var m=i(h);return u(m.L,m.U,m.p,null,f).valueOf()},"DenseMatrix, Array | Matrix":function(h,f){var m=i(h);return u(m.L,m.U,m.p,null,f)},"SparseMatrix, Array | Matrix":function(h,f){var m=i(h);return u(m.L,m.U,m.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(h,f,m,p){var g=r(h,m,p);return u(g.L,g.U,g.p,g.q,f)},"Object, Array | Matrix":function(h,f){return u(h.L,h.U,h.p,h.q,f)}});function c(d){if(Ht(d))return d;if(ui(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function u(d,h,f,m,p){d=c(d),h=c(h),f&&((p=l(d,p,!0))._data=iU(f,p._data));var g=o(d,p),_=a(h,g);return m&&(_._data=iU(m,_._data)),_}}),wTe=["typed","add","divide","compare","partitionSelect"],MTe=Y("median",wTe,n=>{var{typed:e,add:t,divide:i,compare:r,partitionSelect:a}=n;function o(c){try{var u=(c=Un(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var d=u/2-1,h=a(c,d+1),f=c[d],m=0;m<d;++m)r(c[m],f)>0&&(f=c[m]);return l(f,h)}var p=a(c,(u-1)/2);return s(p)}catch(g){throw Aa(g,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,d){return i(t(u,d),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,d){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(af(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),oU="kldivergence",STe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],CTe=Y(oU,STe,n=>{var{typed:e,matrix:t,divide:i,sum:r,multiply:a,map:o,dotDivide:s,log:l,isNumeric:c}=n;return e(oU,{"Array, Array":function(h,f){return u(t(h),t(f))},"Matrix, Array":function(h,f){return u(h,t(f))},"Array, Matrix":function(h,f){return u(t(h),f)},"Matrix, Matrix":function(h,f){return u(h,f)}});function u(d,h){var f=h.size().length,m=d.size().length;if(f>1)throw new Error("first object must be one dimensional");if(m>1)throw new Error("second object must be one dimensional");if(f!==m)throw new Error("Length of two vectors must be equal");if(0===r(d))throw new Error("Sum of elements in first object must be non zero");if(0===r(h))throw new Error("Sum of elements in second object must be non zero");var _=i(d,r(d)),w=i(h,r(h)),v=r(a(_,o(s(_,w),y=>l(y))));return c(v)?v:Number.NaN}}),ETe=["typed","abs","map","median","subtract"],DTe=Y("mad",ETe,n=>{var{typed:e,abs:t,map:i,median:r,subtract:a}=n;return e("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(0===(s=Un(s.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=r(s);return r(i(s,function(c){return t(a(c,l))}))}catch(c){throw c instanceof TypeError&&-1!==c.message.indexOf("median")?new TypeError(c.message.replace("median","mad")):Aa(c,"mad")}}}),ATe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],TTe=Y("norm",ATe,n=>{var{typed:e,abs:t,add:i,pow:r,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:c,smaller:u,matrix:d,ctranspose:h,eigs:f}=n;return e("norm",{number:Math.abs,Complex:function(M){return M.abs()},BigNumber:function(M){return M.abs()},boolean:function(M){return Math.abs(M)},Array:function(M){return x(d(M),2)},Matrix:function(M){return x(M,2)},"Array, number | BigNumber | string":function(M,E){return x(d(M),E)},"Matrix, number | BigNumber | string":function(M,E){return x(M,E)}});function x(C,M){var E=C.size();if(1===E.length)return function g(C,M){if(M===Number.POSITIVE_INFINITY||"inf"===M)return function m(C){var M=0;return C.forEach(function(E){var S=t(E);c(S,M)&&(M=S)},!0),M}(C);if(M===Number.NEGATIVE_INFINITY||"-inf"===M)return function p(C){var M;return C.forEach(function(E){var S=t(E);(!M||u(S,M))&&(M=S)},!0),M||0}(C);if("fro"===M)return x(C,2);if("number"==typeof M&&!isNaN(M)){if(!l(M,0)){var E=0;return C.forEach(function(S){E=i(r(t(S),M),E)},!0),r(E,1/M)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(C,M);if(2===E.length){if(E[0]&&E[1])return function b(C,M){if(1===M)return function w(C){var M=[],E=0;return C.forEach(function(S,T){var N=T[1],k=i(M[N]||0,t(S));c(k,E)&&(E=k),M[N]=k},!0),E}(C);if(M===Number.POSITIVE_INFINITY||"inf"===M)return function y(C){var M=[],E=0;return C.forEach(function(S,T){var N=T[0],k=i(M[N]||0,t(S));c(k,E)&&(E=k),M[N]=k},!0),E}(C);if("fro"===M)return function _(C){var M=0;return C.forEach(function(E,S){M=i(M,s(E,a(E)))}),t(o(M))}(C);if(2===M)return function v(C){var M=C.size();if(M[0]!==M[1])throw new RangeError("Invalid matrix dimensions");var E=h(C),S=s(E,C),T=f(S).values.toArray();return t(o(T[T.length-1]))}(C);throw new Error("Unsupported parameter value "+M)}(C,M);throw new RangeError("Invalid matrix dimensions")}}}),cU="rotationMatrix",NTe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],ITe=Y(cU,NTe,n=>{var{typed:e,config:t,multiplyScalar:i,addScalar:r,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:d,sin:h}=n;return e(cU,{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return f(v,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,y){return f(v,y)},"number | BigNumber | Complex | Unit, Array":function(v,y){var b=l(y);return m(b),_(v,b,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,y){m(y);var b=y.storage()||("Matrix"===t.matrix?"dense":void 0);return _(v,y,b)},"number | BigNumber | Complex | Unit, Array, string":function(v,y,b){var x=l(y);return m(x),_(v,x,b)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,y,b){return m(y),_(v,y,b)}});function f(w,v){var b=Mn(w)?new s(-1):-1,x=d(w),C=h(w);return g([[x,i(b,C)],[C,x]],v)}function m(w){var v=w.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function p(w){return w.reduce((v,y)=>i(v,y))}function g(w,v){if(v){if("sparse"===v)return new u(w);if("dense"===v)return new c(w);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return w}function _(w,v,y){var b=o(v);if(0===b)throw new RangeError("Rotation around zero vector");var x=Mn(w)?s:null,C=x?new x(1):1,M=x?new x(-1):-1,E=x?new x(v.get([0])/b):v.get([0])/b,S=x?new x(v.get([1])/b):v.get([1])/b,T=x?new x(v.get([2])/b):v.get([2])/b,N=d(w),k=r(C,a(N)),R=h(w);return g([[r(N,p([E,E,k])),r(p([E,S,k]),p([M,T,R])),r(p([E,T,k]),p([S,R]))],[r(p([E,S,k]),p([T,R])),r(N,p([S,S,k])),r(p([S,T,k]),p([M,E,R]))],[r(p([E,T,k]),p([M,S,R])),r(p([S,T,k]),p([E,R])),r(N,p([T,T,k]))]],y)}}),FTe=["typed","matrix","identity","multiply","qr","norm","subtract"],kTe=Y("schur",FTe,n=>{var{typed:e,matrix:t,identity:i,multiply:r,qr:a,norm:o,subtract:s}=n;return e("schur",{Array:function(u){var d=l(t(u));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var m,u=c.size()[0],d=c,h=i(u),f=0;do{m=d;var p=a(d),g=p.Q;if(d=r(p.R,g),h=r(h,g),f++>100)break}while(o(s(d,m))>1e-4);return{U:h,T:d}}}),RTe=["typed","multiply","rotationMatrix"],OTe=Y("rotate",RTe,n=>{var{typed:e,multiply:t,rotationMatrix:i}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,s){return r(o,2),t(i(s),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return r(o,2),t(i(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return r(o,3),t(i(s,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return r(o,3),t(i(s,l),o)}});function r(a,o){var s=Array.isArray(a)?_n(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===s.length&&1!==s[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),hU="sylvester",PTe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],LTe=Y(hU,PTe,n=>{var{typed:e,schur:t,matrixFromColumns:i,matrix:r,multiply:a,range:o,concat:s,transpose:l,index:c,subset:u,add:d,subtract:h,identity:f,lusolve:m,abs:p}=n;return e(hU,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(w,v,y){return g(r(w),v,y)},"Array, Array, Matrix":function(w,v,y){return g(r(w),r(v),y)},"Array, Matrix, Array":function(w,v,y){return g(r(w),v,r(y))},"Matrix, Array, Matrix":function(w,v,y){return g(w,r(v),y)},"Matrix, Array, Array":function(w,v,y){return g(w,r(v),r(y))},"Matrix, Matrix, Array":function(w,v,y){return g(w,v,r(y))},"Array, Array, Array":function(w,v,y){return g(r(w),r(v),r(y)).toArray()}});function g(_,w,v){for(var y=w.size()[0],b=_.size()[0],x=t(_),C=x.T,M=x.U,E=t(a(-1,w)),S=E.T,T=E.U,N=a(a(l(M),v),T),k=o(0,b),R=[],B=(be,fe)=>s(be,fe,1),D=(be,fe)=>s(be,fe,0),A=0;A<y;A++)if(A<y-1&&p(u(S,c(A+1,A)))>1e-5){for(var O=D(u(N,c(k,A)),u(N,c(k,A+1))),I=0;I<A;I++)O=d(O,D(a(R[I],u(S,c(I,A))),a(R[I],u(S,c(I,A+1)))));var L=a(f(b),a(-1,u(S,c(A,A)))),q=a(f(b),a(-1,u(S,c(A+1,A)))),G=a(f(b),a(-1,u(S,c(A,A+1)))),z=a(f(b),a(-1,u(S,c(A+1,A+1)))),$=D(B(d(C,L),q),B(G,d(C,z))),ae=m($,O);R[A]=ae.subset(c(o(0,b),0)),R[A+1]=ae.subset(c(o(b,2*b),0)),A++}else{for(var K=u(N,c(k,A)),me=0;me<A;me++)K=d(K,a(R[me],u(S,c(me,A))));var ye=u(S,c(A,A)),ge=h(C,a(ye,f(b)));R[A]=m(ge,K)}var re=r(i(...R));return a(M,a(re,l(T)))}}),BTe=["typed","matrix","sylvester","multiply","transpose"],zTe=Y("lyap",BTe,n=>{var{typed:e,matrix:t,sylvester:i,multiply:r,transpose:a}=n;return e("lyap",{"Matrix, Matrix":function(s,l){return i(s,a(s),r(-1,l))},"Array, Matrix":function(s,l){return i(t(s),a(t(s)),r(-1,l))},"Matrix, Array":function(s,l){return i(s,a(t(s)),t(r(-1,l)))},"Array, Array":function(s,l){return i(t(s),a(t(s)),t(r(-1,l))).toArray()}})}),Ze=Q_e({config:Pe}),Ni=tye({}),mU=vye({BigNumber:Ze,config:Pe}),UTe=dye({}),VTe=$ye({BigNumber:Ze,config:Pe}),Uu=Cbe({}),pU=Cye({Complex:Ni}),HTe=fye({BigNumber:Ze,config:Pe}),GTe=bye({BigNumber:Ze,config:Pe}),qTe=wye({BigNumber:Ze,config:Pe}),mb=Abe({}),WTe=mye({BigNumber:Ze,config:Pe}),$Te=hye({}),jTe=_ye({BigNumber:Ze,config:Pe}),XTe=Ibe({}),gU=Rbe({}),YTe=Mye({BigNumber:Ze,config:Pe}),ZTe=dbe({BigNumber:Ze,config:Pe}),vU=gye({BigNumber:Ze,config:Pe}),KTe=uye({}),QTe=Eye({}),rn=Lbe({Matrix:mb}),JTe=tbe({BigNumber:Ze,config:Pe}),e2e=yye({BigNumber:Ze,config:Pe}),_U=pye({BigNumber:Ze,config:Pe}),t2e=Ube({}),n2e=Sye({BigNumber:Ze,config:Pe}),le=Hbe({BigNumber:Ze,Complex:Ni,DenseMatrix:rn,Fraction:Uu}),LE=Kbe({BigNumber:Ze,config:Pe,typed:le}),i2e=ebe({BigNumber:Ze,config:Pe}),Ga=Jbe({typed:le}),r2e=txe({Complex:Ni,config:Pe,typed:le}),a2e=fxe({BigNumber:Ze,typed:le}),o2e=pxe({BigNumber:Ze,Complex:Ni,config:Pe,typed:le}),vr=vxe({typed:le}),s2e=yxe({typed:le}),l2e=xxe({BigNumber:Ze,Complex:Ni,config:Pe,typed:le}),c2e=Sxe({typed:le}),yU=Dxe({typed:le}),u2e=Txe({Complex:Ni,config:Pe,typed:le}),Ps=Fxe({BigNumber:Ze,typed:le}),d2e=Uxe({typed:le}),h2e=Hxe({typed:le}),f2e=qxe({typed:le}),pb=$xe({typed:le}),gb=Yxe({Complex:Ni,typed:le}),_f=Kxe({typed:le}),m2e=Jxe({typed:le}),p2e=t1e({BigNumber:Ze,typed:le}),g2e=i1e({BigNumber:Ze,typed:le}),v2e=a1e({typed:le}),On=l1e({config:Pe,typed:le}),_2e=d1e({typed:le}),bU=g1e({typed:le}),y2e=_1e({Complex:Ni,typed:le}),b2e=x1e({typed:le}),x2e=M1e({typed:le}),rg=E1e({typed:le}),w2e=A1e({typed:le}),M2e=N1e({format:rg,typed:le}),BE=F1e({typed:le}),Oo=R1e({typed:le}),yf=L1e({typed:le}),vb=z1e({typed:le}),us=V1e({typed:le}),S2e=xye({BigNumber:Ze,config:Pe}),C2e=W1e({Complex:Ni,typed:le}),E2e=j1e({Complex:Ni,config:Pe,typed:le}),D2e=Y1e({Complex:Ni,config:Pe,typed:le}),bf=K1e({typed:le}),Ji=twe({typed:le}),xU=rwe({typed:le}),Cc=cwe({typed:le}),A2e=dwe({format:rg,typed:le}),T2e=mwe({config:Pe,typed:le}),N2e=gwe({typed:le}),I2e=_we({config:Pe,typed:le}),zE=bwe({typed:le}),F2e=wwe({BigNumber:Ze,typed:le}),wU=Swe({BigNumber:Ze,Fraction:Uu,complex:gb,typed:le}),UE=Ewe({typed:le}),Pl=Twe({Matrix:mb,equalScalar:On,typed:le}),k2e=Iwe({typed:le}),R2e=kwe({typed:le}),O2e=Owe({typed:le}),P2e=Lwe({typed:le}),MU=zwe({typed:le}),L2e=Vwe({Complex:Ni,config:Pe,typed:le}),B2e=Gwe({BigNumber:Ze,typed:le}),VE=t4({isInteger:Oo,typed:le}),z2e=Wwe({BigNumber:Ze,Complex:Ni,config:Pe,typed:le}),U2e=jwe({format:rg,typed:le}),V2e=Ywe({typed:le}),HE=Kwe({typed:le}),H2e=Jwe({BigNumber:Ze,typed:le}),ag=tMe({typed:le}),G2e=iMe({typed:le}),q2e=aMe({config:Pe,typed:le}),W2e=sMe({BigNumber:Ze,typed:le}),$2e=cMe({typed:le}),j2e=dMe({SparseMatrix:Pl,typed:le}),Ls=mMe({Complex:Ni,config:Pe,typed:le}),X2e=vMe({typed:le}),Bs=yMe({typed:le}),Y2e=xMe({BigNumber:Ze,Complex:Ni,config:Pe,typed:le}),Z2e=MMe({BigNumber:Ze,typed:le}),xf=EMe({Fraction:Uu,typed:le}),Vu=AMe({typed:le}),it=NMe({DenseMatrix:rn,Matrix:mb,SparseMatrix:Pl,typed:le}),K2e=FMe({isZero:us,matrix:it,typed:le}),SU=KMe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),Q2e=iSe({BigNumber:Ze,equalScalar:On,matrix:it,typed:le}),ds=oSe({bignumber:Ps,fraction:xf,number:Cc}),J2e=lSe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),CU=uSe({config:Pe,multiplyScalar:Ji,numeric:ds,typed:le}),eNe=hSe({isInteger:Oo,matrix:it,typed:le}),ua=mSe({matrix:it,config:Pe,typed:le}),Po=_Se({DenseMatrix:rn,config:Pe,matrix:it,typed:le}),tNe=xSe({matrix:it,typed:le}),so=o4({matrix:it,typed:le}),Ci=CSe({DenseMatrix:rn,addScalar:vr,equalScalar:On,matrix:it,typed:le,unaryMinus:Bs}),nNe=DSe({matrix:it,typed:le}),og=TSe({matrix:it,typed:le}),EU=ISe({BigNumber:Ze,config:Pe,matrix:it,typed:le}),zs=kSe({BigNumber:Ze,config:Pe,matrix:it,typed:le}),iNe=OSe({equalScalar:On,matrix:it,not:xU,typed:le,zeros:zs}),rNe=LSe({equalScalar:On,matrix:it,typed:le}),aNe=zSe({DenseMatrix:rn,matrix:it,typed:le}),DU=VSe({BigNumber:Ze,Complex:Ni,Fraction:Uu,config:Pe,isNegative:yf,matrix:it,typed:le,unaryMinus:Bs}),wf=GSe({BigNumber:Ze,DenseMatrix:rn,Fraction:Uu,config:Pe,equalScalar:On,matrix:it,typed:le}),AU=$Se({matrix:it,typed:le}),_b=c4({isInteger:Oo,matrix:it,typed:le}),oNe=XSe({prod:CU,size:ua,typed:le}),GE=ZSe({conj:_f,transpose:og,typed:le}),TU=QSe({DenseMatrix:rn,SparseMatrix:Pl,matrix:it,typed:le}),Ui=eCe({numeric:ds,typed:le}),yb=nCe({DenseMatrix:rn,divideScalar:Ui,equalScalar:On,matrix:it,typed:le}),hs=rCe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),NU=sCe({addScalar:vr,divideScalar:Ui,exp:bU,i:pU,matrix:it,multiplyScalar:Ji,tau:vU,typed:le}),sg=cCe({matrix:it,typed:le}),sNe=fCe({BigNumber:Ze,DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),lNe=pCe({isNumeric:Vu,typed:le}),cNe=vCe({abs:Ga,addScalar:vr,divideScalar:Ui,isPositive:vb,multiplyScalar:Ji,smaller:Po,sqrt:Ls,typed:le}),uNe=yCe({conj:_f,dotDivide:yb,fft:NU,typed:le}),dNe=xCe({matrix:it,multiplyScalar:Ji,typed:le}),bb=MCe({DenseMatrix:rn,config:Pe,matrix:it,typed:le}),hNe=ACe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le,zeros:zs}),IU=NCe({DenseMatrix:rn,divideScalar:Ui,equalScalar:On,matrix:it,multiplyScalar:Ji,subtract:Ci,typed:le}),qE=FCe({flatten:sg,matrix:it,size:ua,typed:le}),fNe=m4({config:Pe,numeric:ds,smaller:Po,typed:le}),mNe=RCe({isNaN:ag,isNumeric:Vu,typed:le}),pNe=PCe({Complex:Ni,config:Pe,divideScalar:Ui,typed:le}),gNe=zCe({BigNumber:Ze,config:Pe,matrix:it,typed:le}),WE=VCe({compare:wf,isNaN:ag,isNumeric:Vu,typed:le}),vNe=qCe({config:Pe,matrix:it}),_Ne=$Ce({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le,zeros:zs}),xb=XCe({BigNumber:Ze,DenseMatrix:rn,equalScalar:On,matrix:it,typed:le,zeros:zs}),$E=ZCe({DenseMatrix:rn,config:Pe,matrix:it,typed:le}),yNe=JCe({DenseMatrix:rn,config:Pe,equalScalar:On,matrix:it,typed:le}),jE=nEe({DenseMatrix:rn,divideScalar:Ui,equalScalar:On,matrix:it,multiplyScalar:Ji,subtract:Ci,typed:le}),bNe=rEe({DenseMatrix:rn,matrix:it,typed:le}),Ii=oEe({DenseMatrix:rn,SparseMatrix:Pl,addScalar:vr,equalScalar:On,matrix:it,typed:le}),xNe=uEe({BigNumber:Ze,DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),wNe=hEe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le}),MNe=mEe({addScalar:vr,combinations:pb,divideScalar:Ui,isInteger:Oo,isNegative:yf,multiplyScalar:Ji,typed:le}),Us=gEe({compare:wf,typed:le}),SNe=b4({add:Ii,typed:le,unaryPlus:LE}),FU=yEe({equal:hs,typed:le}),CNe=i4({matrix:it,number:Cc,subtract:Ci,typed:le}),wb=xEe({addScalar:vr,conj:_f,multiplyScalar:Ji,size:ua,typed:le}),ENe=MEe({compareText:AU,isZero:us,typed:le}),kU=EEe({DenseMatrix:rn,config:Pe,equalScalar:On,matrix:it,round:xb,typed:le,zeros:zs}),Ec=AEe({BigNumber:Ze,DenseMatrix:rn,SparseMatrix:Pl,config:Pe,matrix:it,typed:le}),DNe=NEe({BigNumber:Ze,add:Ii,config:Pe,equal:hs,isInteger:Oo,mod:SU,smaller:Po,typed:le,xgcd:EU}),Lo=FEe({DenseMatrix:rn,config:Pe,matrix:it,typed:le}),XE=OEe({Complex:Ni,config:Pe,divideScalar:Ui,typed:le}),ANe=LEe({DenseMatrix:rn,divideScalar:Ui,equalScalar:On,matrix:it,multiplyScalar:Ji,subtract:Ci,typed:le}),TNe=zEe({flatten:sg,matrix:it,size:ua,typed:le}),Fi=VEe({addScalar:vr,dot:wb,equalScalar:On,matrix:it,multiplyScalar:Ji,typed:le}),YE=GEe({addScalar:vr,complex:gb,conj:_f,divideScalar:Ui,equal:hs,identity:Ec,isZero:us,matrix:it,multiplyScalar:Ji,sign:wU,sqrt:Ls,subtract:Ci,typed:le,unaryMinus:Bs,zeros:zs}),Mf=g4({bignumber:Ps,matrix:it,config:Pe,larger:Lo,largerEq:bb,smaller:Po,smallerEq:$E,typed:le}),NNe=WEe({DenseMatrix:rn,equalScalar:On,matrix:it,typed:le,zeros:zs}),INe=jEe({compareNatural:Us,typed:le}),RU=vDe({SparseMatrix:Pl,abs:Ga,add:Ii,divideScalar:Ui,larger:Lo,largerEq:bb,multiply:Fi,subtract:Ci,transpose:og,typed:le}),OU=_4({add:Ii,config:Pe,numeric:ds,typed:le}),FNe=bDe({add:Ii,matrix:it,typed:le}),PU=wDe({DenseMatrix:rn,divideScalar:Ui,equalScalar:On,matrix:it,multiplyScalar:Ji,subtract:Ci,typed:le}),kNe=SDe({Complex:Ni,config:Pe,typed:le}),LU=DDe({DenseMatrix:rn,config:Pe,equalScalar:On,matrix:it,round:xb,typed:le,zeros:zs}),RNe=TDe({addScalar:vr,combinations:pb,isInteger:Oo,isNegative:yf,isPositive:vb,larger:Lo,typed:le}),ONe=IDe({matrix:it,multiply:Fi,subtract:Ci,typed:le}),BU=kDe({divideScalar:Ui,isZero:us,matrix:it,multiply:Fi,subtract:Ci,typed:le,unaryMinus:Bs}),PNe=ODe({abs:Ga,addScalar:vr,divideScalar:Ui,multiplyScalar:Ji,sqrt:Ls,subtract:Ci,typed:le,unaryMinus:Bs}),LNe=LDe({equalScalar:On,matrix:it,multiplyScalar:Ji,typed:le}),zU=UDe({larger:Lo,smaller:Po}),UU=GDe({Complex:Ni,DenseMatrix:rn,ceil:LU,equalScalar:On,floor:kU,matrix:it,typed:le,zeros:zs}),VU=$De({DenseMatrix:rn,smaller:Po}),da=YDe({ImmutableDenseMatrix:VU}),BNe=QDe({abs:Ga,add:Ii,addScalar:vr,config:Pe,divideScalar:Ui,equalScalar:On,flatten:sg,isNumeric:Vu,isZero:us,matrix:it,multiply:Fi,multiplyScalar:Ji,smaller:Po,subtract:Ci,typed:le}),zNe=eAe({equalScalar:On,matrix:it,typed:le}),UNe=nAe({Complex:Ni,config:Pe,divideScalar:Ui,log:XE,typed:le}),HU=h4({config:Pe,larger:Lo,numeric:ds,typed:le}),VNe=aAe({add:Ii,compare:wf,multiply:Fi,partitionSelect:WE,typed:le}),HNe=M4({Index:da,matrix:it,range:Mf,typed:le}),GNe=sAe({DenseMatrix:rn,Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),qNe=cAe({DenseMatrix:rn,Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),WNe=dAe({Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),$Ne=fAe({Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),jNe=pAe({compare:wf,compareNatural:Us,matrix:it,typed:le}),GU=C4({Index:da,matrix:it,range:Mf,typed:le}),qU=vAe({Index:da,typed:le}),Hu=yAe({abs:Ga,addScalar:vr,det:BU,divideScalar:Ui,identity:Ec,matrix:it,multiply:Fi,typed:le,unaryMinus:Bs}),XNe=xAe({Complex:Ni,add:Ii,ctranspose:GE,deepEqual:FU,divideScalar:Ui,dot:wb,dotDivide:yb,equal:hs,inv:Hu,matrix:it,multiply:Fi,typed:le}),Ll=MAe({Complex:Ni,config:Pe,fraction:xf,identity:Ec,inv:Hu,matrix:it,multiply:Fi,number:Cc,typed:le}),WU=CAe({DenseMatrix:rn,Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),YNe=DAe({Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),$U=NAe({FibonacciHeap:zU,addScalar:vr,equalScalar:On}),ZNe=FAe({abs:Ga,add:Ii,identity:Ec,inv:Hu,map:bf,max:HU,multiply:Fi,size:ua,sqrt:Ls,subtract:Ci,typed:le}),Gt=OAe({BigNumber:Ze,Complex:Ni,Fraction:Uu,abs:Ga,addScalar:vr,config:Pe,divideScalar:Ui,equal:hs,fix:UU,format:rg,isNumeric:Vu,multiplyScalar:Ji,number:Cc,pow:Ll,round:xb,subtract:Ci}),KNe=kye({BigNumber:Ze,Unit:Gt,config:Pe}),QNe=mbe({BigNumber:Ze,Unit:Gt,config:Pe}),JNe=nbe({BigNumber:Ze,Unit:Gt,config:Pe}),eIe=Pye({BigNumber:Ze,Unit:Gt,config:Pe}),tIe=rbe({BigNumber:Ze,Unit:Gt,config:Pe}),nIe=Lye({BigNumber:Ze,Unit:Gt,config:Pe}),iIe=LAe({Unit:Gt,typed:le}),rIe=Yye({BigNumber:Ze,Unit:Gt,config:Pe}),aIe=zAe({DenseMatrix:rn,equalScalar:On,matrix:it,pow:Ll,typed:le}),oIe=Fye({BigNumber:Ze,Unit:Gt,config:Pe}),sIe=Oye({BigNumber:Ze,Unit:Gt,config:Pe}),lIe=VAe({abs:Ga,add:Ii,identity:Ec,inv:Hu,multiply:Fi,typed:le}),cIe=abe({BigNumber:Ze,Unit:Gt,config:Pe}),uIe=obe({BigNumber:Ze,Unit:Gt,config:Pe}),jU=GAe({BigNumber:Ze,Complex:Ni,config:Pe,multiplyScalar:Ji,pow:Ll,typed:le}),dIe=Aye({BigNumber:Ze,Unit:Gt,config:Pe}),hIe=jye({BigNumber:Ze,Unit:Gt,config:Pe}),fIe=Vye({BigNumber:Ze,Unit:Gt,config:Pe}),mIe=sbe({BigNumber:Ze,Unit:Gt,config:Pe}),pIe=Iye({BigNumber:Ze,Unit:Gt,config:Pe}),gIe=pbe({BigNumber:Ze,Unit:Gt,config:Pe}),vIe=cbe({BigNumber:Ze,Unit:Gt,config:Pe}),_Ie=Zye({BigNumber:Ze,Unit:Gt,config:Pe}),yIe=Uye({BigNumber:Ze,Unit:Gt,config:Pe}),bIe=xbe({BigNumber:Ze,Unit:Gt,config:Pe}),xIe=_be({BigNumber:Ze,Unit:Gt,config:Pe}),wIe=wbe({BigNumber:Ze,Unit:Gt,config:Pe}),MIe=Xye({BigNumber:Ze,Unit:Gt,config:Pe}),SIe=Nye({BigNumber:Ze,Unit:Gt,config:Pe}),CIe=Qye({BigNumber:Ze,Unit:Gt,config:Pe}),EIe=hbe({BigNumber:Ze,Unit:Gt,config:Pe}),XU=WAe({Index:da,concat:_b,setDifference:WU,size:ua,subset:so,typed:le}),DIe=Dye({BigNumber:Ze,Unit:Gt,config:Pe}),AIe=fbe({BigNumber:Ze,Unit:Gt,config:Pe}),TIe=Jye({BigNumber:Ze,Unit:Gt,config:Pe}),NIe=ibe({BigNumber:Ze,Unit:Gt,config:Pe}),IIe=Hye({BigNumber:Ze,Unit:Gt,config:Pe}),FIe=Rye({BigNumber:Ze,Unit:Gt,config:Pe}),Bo=XAe({divideScalar:Ui,equalScalar:On,inv:Hu,matrix:it,multiply:Fi,typed:le}),kIe=qye({BigNumber:Ze,Unit:Gt,config:Pe}),Mb=ZAe({gamma:jU,typed:le}),RIe=vbe({BigNumber:Ze,Unit:Gt,config:Pe}),OIe=Bye({BigNumber:Ze,Unit:Gt,config:Pe}),YU=QAe({DenseMatrix:rn,Spa:$U,SparseMatrix:Pl,abs:Ga,addScalar:vr,divideScalar:Ui,equalScalar:On,larger:Lo,matrix:it,multiplyScalar:Ji,subtract:Ci,typed:le,unaryMinus:Bs}),PIe=zye({BigNumber:Ze,Unit:Gt,config:Pe}),LIe=gbe({BigNumber:Ze,Unit:Gt,config:Pe}),BIe=eTe({add:Ii,divide:Bo,factorial:Mb,isInteger:Oo,isPositive:vb,multiply:Fi,typed:le}),zIe=nTe({factorial:Mb,typed:le}),UIe=ybe({BigNumber:Ze,Unit:Gt,config:Pe}),VIe=rTe({add:Ii,cbrt:DU,divide:Bo,equalScalar:On,im:BE,isZero:us,multiply:Fi,re:zE,sqrt:Ls,subtract:Ci,typeOf:MU,typed:le,unaryMinus:Bs}),ZU=oTe({DenseMatrix:rn,Index:da,compareNatural:Us,size:ua,subset:so,typed:le}),KU=lTe({bignumber:Ps,addScalar:vr,combinations:pb,divideScalar:Ui,factorial:Mb,isInteger:Oo,isNegative:yf,larger:Lo,multiplyScalar:Ji,number:Cc,pow:Ll,subtract:Ci,typed:le}),HIe=uTe({Unit:Gt,typed:le}),GIe=hTe({addScalar:vr,isInteger:Oo,isNegative:yf,stirlingS2:KU,typed:le}),QU=vTe({abs:Ga,add:Ii,addScalar:vr,atan:yU,bignumber:Ps,column:GU,complex:gb,config:Pe,cos:HE,diag:TU,divideScalar:Ui,dot:wb,equal:hs,flatten:sg,im:BE,inv:Hu,larger:Lo,matrix:it,matrixFromColumns:qE,multiply:Fi,multiplyScalar:Ji,number:Cc,qr:YE,re:zE,sin:UE,smaller:Po,sqrt:Ls,subtract:Ci,typed:le,usolve:jE,usolveAll:PU}),qIe=Wye({BigNumber:Ze,Unit:Gt,config:Pe}),WIe=D4({add:Ii,divide:Bo,typed:le}),$Ie=ube({BigNumber:Ze,Unit:Gt,config:Pe}),jIe=Tye({BigNumber:Ze,Unit:Gt,config:Pe}),XIe=Kye({BigNumber:Ze,Unit:Gt,config:Pe}),YIe=yTe({Index:da,concat:_b,setIntersect:ZU,setSymDifference:XU,size:ua,subset:so,typed:le}),ZE=T4({add:Ii,apply:VE,divide:Bo,isNaN:ag,multiply:Fi,subtract:Ci,typed:le}),ZIe=Gye({BigNumber:Ze,Unit:Gt,config:Pe}),JU=xTe({DenseMatrix:rn,lsolve:IU,lup:YU,matrix:it,slu:RU,typed:le,usolve:jE}),eV=MTe({add:Ii,compare:wf,divide:Bo,partitionSelect:WE,typed:le}),KIe=CTe({divide:Bo,dotDivide:yb,isNumeric:Vu,log:XE,map:bf,matrix:it,multiply:Fi,sum:OU,typed:le}),QIe=DTe({abs:Ga,map:bf,median:eV,subtract:Ci,typed:le}),JIe=F4({map:bf,sqrt:Ls,typed:le,variance:ZE}),eFe=lbe({BigNumber:Ze,Unit:Gt,config:Pe}),KE=TTe({abs:Ga,add:Ii,conj:_f,ctranspose:GE,eigs:QU,equalScalar:On,larger:Lo,matrix:it,multiply:Fi,pow:Ll,smaller:Po,sqrt:Ls,typed:le}),tV=ITe({BigNumber:Ze,DenseMatrix:rn,SparseMatrix:Pl,addScalar:vr,config:Pe,cos:HE,matrix:it,multiplyScalar:Ji,norm:KE,sin:UE,typed:le,unaryMinus:Bs}),tFe=bbe({BigNumber:Ze,Unit:Gt,config:Pe}),nV=kTe({identity:Ec,matrix:it,multiply:Fi,norm:KE,qr:YE,subtract:Ci,typed:le}),nFe=OTe({multiply:Fi,rotationMatrix:tV,typed:le}),iV=LTe({abs:Ga,add:Ii,concat:_b,identity:Ec,index:qU,lusolve:JU,matrix:it,matrixFromColumns:qE,multiply:Fi,range:Mf,schur:nV,subset:so,subtract:Ci,transpose:og,typed:le}),iFe=zTe({matrix:it,multiply:Fi,sylvester:iV,transpose:og,typed:le}),Sf={},Cf={},rV={},ha=Ede({mathWithTransform:Cf}),Ef=Yde({Node:ha}),Bl=the({Node:ha}),Gu=ihe({Node:ha}),aV=ahe({Node:ha}),Df=she({Node:ha}),oV=che({Node:ha,ResultSet:gU}),sV=dhe({Node:ha}),Dc=fhe({Node:ha}),lV=phe({Node:ha}),rFe=_he({classes:rV}),QE=xhe({math:Sf,typed:le}),cV=Mhe({Node:ha,typed:le}),aFe=Che({Chain:QE,typed:le}),Af=Dhe({Node:ha,subset:so}),uV=Nhe({matrix:it,Node:ha,subset:so}),Tf=Fhe({Node:ha,size:ua}),Ac=Ohe({Unit:Gt,Node:ha,math:Sf}),Tc=Lhe({Node:ha,SymbolNode:Ac,math:Sf}),zo=zhe({AccessorNode:Af,ArrayNode:Df,AssignmentNode:uV,BlockNode:oV,ConditionalNode:sV,ConstantNode:Dc,FunctionAssignmentNode:cV,FunctionNode:Tc,IndexNode:Tf,ObjectNode:Ef,OperatorNode:Bl,ParenthesisNode:Gu,RangeNode:lV,RelationalNode:aV,SymbolNode:Ac,config:Pe,numeric:ds,typed:le}),dV=Hhe({ConstantNode:Dc,FunctionNode:Tc,OperatorNode:Bl,ParenthesisNode:Gu,parse:zo,typed:le}),JE=jhe({bignumber:Ps,fraction:xf,AccessorNode:Af,ArrayNode:Df,ConstantNode:Dc,FunctionNode:Tc,IndexNode:Tf,ObjectNode:Ef,OperatorNode:Bl,SymbolNode:Ac,config:Pe,mathWithTransform:Cf,matrix:it,parse:zo,typed:le}),oFe=Yhe({parse:zo,typed:le}),hV=Qhe({parse:zo}),sFe=efe({parse:zo,typed:le}),eD=nfe({AccessorNode:Af,ArrayNode:Df,ConstantNode:Dc,FunctionNode:Tc,IndexNode:Tf,ObjectNode:Ef,OperatorNode:Bl,ParenthesisNode:Gu,SymbolNode:Ac,add:Ii,divide:Bo,equal:hs,isZero:us,multiply:Fi,parse:zo,pow:Ll,subtract:Ci,typed:le}),tD=rfe({parse:zo,typed:le}),lFe=Dve({Help:hV,mathWithTransform:Cf,typed:le}),fV=Nve({evaluate:tD}),Sb=kve({bignumber:Ps,fraction:xf,AccessorNode:Af,ArrayNode:Df,ConstantNode:Dc,FunctionNode:Tc,IndexNode:Tf,ObjectNode:Ef,OperatorNode:Bl,ParenthesisNode:Gu,SymbolNode:Ac,add:Ii,config:Pe,divide:Bo,equal:hs,isZero:us,mathWithTransform:Cf,matrix:it,multiply:Fi,parse:zo,pow:Ll,resolve:dV,simplifyConstant:JE,simplifyCore:eD,subtract:Ci,typed:le}),cFe=Ove({OperatorNode:Bl,parse:zo,simplify:Sb,typed:le}),uFe=Lve({ConstantNode:Dc,FunctionNode:Tc,OperatorNode:Bl,ParenthesisNode:Gu,SymbolNode:Ac,config:Pe,equal:hs,isZero:us,numeric:ds,parse:zo,simplify:Sb,typed:le}),dFe=zve({Parser:fV,typed:le}),hFe=Vve({bignumber:Ps,fraction:xf,AccessorNode:Af,ArrayNode:Df,ConstantNode:Dc,FunctionNode:Tc,IndexNode:Tf,ObjectNode:Ef,OperatorNode:Bl,ParenthesisNode:Gu,SymbolNode:Ac,add:Ii,config:Pe,divide:Bo,equal:hs,isZero:us,mathWithTransform:Cf,matrix:it,multiply:Fi,parse:zo,pow:Ll,simplify:Sb,simplifyConstant:JE,simplifyCore:eD,subtract:Ci,typed:le});Xr(Sf,{e:mU,false:UTe,fineStructure:VTe,i:pU,Infinity:HTe,LN10:GTe,LOG10E:qTe,NaN:WTe,null:$Te,phi:jTe,SQRT1_2:YTe,sackurTetrode:ZTe,tau:vU,true:KTe,E:mU,version:QTe,efimovFactor:JTe,LN2:e2e,pi:_U,replacer:t2e,reviver:rFe,SQRT2:n2e,typed:le,unaryPlus:LE,PI:_U,weakMixingAngle:i2e,abs:Ga,acos:r2e,acot:a2e,acsc:o2e,addScalar:vr,arg:s2e,asech:l2e,asinh:c2e,atan:yU,atanh:u2e,bignumber:Ps,bitNot:d2e,boolean:h2e,clone:f2e,combinations:pb,complex:gb,conj:_f,cosh:m2e,coth:p2e,csc:g2e,cube:v2e,equalScalar:On,erf:_2e,exp:bU,expm1:y2e,filter:b2e,forEach:x2e,format:rg,getMatrixDataType:w2e,hex:M2e,im:BE,isInteger:Oo,isNegative:yf,isPositive:vb,isZero:us,LOG2E:S2e,lgamma:C2e,log10:E2e,log2:D2e,map:bf,multiplyScalar:Ji,not:xU,number:Cc,oct:A2e,pickRandom:T2e,print:N2e,random:I2e,re:zE,sec:F2e,sign:wU,sin:UE,splitUnit:k2e,square:R2e,string:O2e,tan:P2e,typeOf:MU,acosh:L2e,acsch:B2e,apply:VE,asec:z2e,bin:U2e,chain:aFe,combinationsWithRep:V2e,cos:HE,csch:H2e,isNaN:ag,isPrime:G2e,randomInt:q2e,sech:W2e,sinh:$2e,sparse:j2e,sqrt:Ls,tanh:X2e,unaryMinus:Bs,acoth:Y2e,cot:Z2e,fraction:xf,isNumeric:Vu,matrix:it,matrixFromFunction:K2e,mod:SU,nthRoot:Q2e,numeric:ds,or:J2e,prod:CU,reshape:eNe,size:ua,smaller:Po,squeeze:tNe,subset:so,subtract:Ci,to:nNe,transpose:og,xgcd:EU,zeros:zs,and:iNe,bitAnd:rNe,bitXor:aNe,cbrt:DU,compare:wf,compareText:AU,concat:_b,count:oNe,ctranspose:GE,diag:TU,divideScalar:Ui,dotDivide:yb,equal:hs,fft:NU,flatten:sg,gcd:sNe,hasNumericValue:lNe,hypot:cNe,ifft:uNe,kron:dNe,largerEq:bb,leftShift:hNe,lsolve:IU,matrixFromColumns:qE,min:fNe,mode:mNe,nthRoots:pNe,ones:gNe,partitionSelect:WE,resize:vNe,rightArithShift:_Ne,round:xb,smallerEq:$E,unequal:yNe,usolve:jE,xor:bNe,add:Ii,atan2:xNe,bitOr:wNe,catalan:MNe,compareNatural:Us,cumsum:SNe,deepEqual:FU,diff:CNe,dot:wb,equalText:ENe,floor:kU,identity:Ec,invmod:DNe,larger:Lo,log:XE,lsolveAll:ANe,matrixFromRows:TNe,multiply:Fi,qr:YE,range:Mf,rightLogShift:NNe,setSize:INe,slu:RU,sum:OU,trace:FNe,usolveAll:PU,asin:kNe,ceil:LU,composition:RNe,cross:ONe,det:BU,distance:PNe,dotMultiply:LNe,fix:UU,intersect:BNe,lcm:zNe,log1p:UNe,max:HU,quantileSeq:VNe,row:HNe,setCartesian:GNe,setDistinct:qNe,setIsSubset:WNe,setPowerset:$Ne,sort:jNe,column:GU,index:qU,inv:Hu,pinv:XNe,pow:Ll,setDifference:WU,setMultiplicity:YNe,sqrtm:ZNe,vacuumImpedance:KNe,wienDisplacement:QNe,atomicMass:JNe,bohrMagneton:eIe,boltzmann:tIe,conductanceQuantum:nIe,createUnit:iIe,deuteronMass:rIe,dotPow:aIe,electricConstant:oIe,elementaryCharge:sIe,expm:lIe,faraday:cIe,firstRadiation:uIe,gamma:jU,gravitationConstant:dIe,hartreeEnergy:hIe,klitzing:fIe,loschmidt:mIe,magneticConstant:pIe,molarMass:gIe,molarPlanckConstant:vIe,neutronMass:_Ie,nuclearMagneton:yIe,planckCharge:bIe,planckLength:xIe,planckTemperature:wIe,protonMass:MIe,reducedPlanckConstant:SIe,rydberg:CIe,secondRadiation:EIe,setSymDifference:XU,speedOfLight:DIe,stefanBoltzmann:AIe,thomsonCrossSection:TIe,avogadro:NIe,bohrRadius:IIe,coulomb:FIe,divide:Bo,electronMass:kIe,factorial:Mb,gravity:RIe,inverseConductanceQuantum:OIe,lup:YU,magneticFluxQuantum:PIe,molarMassC12:LIe,multinomial:BIe,parse:zo,permutations:zIe,planckMass:UIe,polynomialRoot:VIe,resolve:dV,setIntersect:ZU,simplifyConstant:JE,stirlingS2:KU,unit:HIe,bellNumbers:GIe,compile:oFe,eigs:QU,fermiCoupling:qIe,leafCount:sFe,mean:WIe,molarVolume:$Ie,planckConstant:jIe,quantumOfCirculation:XIe,setUnion:YIe,simplifyCore:eD,variance:ZE,classicalElectronRadius:ZIe,evaluate:tD,help:lFe,lusolve:JU,median:eV,simplify:Sb,symbolicEqual:cFe,derivative:uFe,kldivergence:KIe,mad:QIe,parser:dFe,rationalize:hFe,std:JIe,gasConstant:eFe,norm:KE,rotationMatrix:tV,planckTime:tFe,schur:nV,rotate:nFe,sylvester:iV,lyap:iFe,config:Pe}),Xr(Cf,Sf,{filter:Wve({typed:le}),forEach:Xve({typed:le}),map:Kve({typed:le}),apply:n0e({isInteger:Oo,typed:le}),diff:a0e({bignumber:Ps,matrix:it,number:Cc,subtract:Ci,typed:le}),subset:h0e({matrix:it,typed:le}),concat:g0e({isInteger:Oo,matrix:it,typed:le}),max:b0e({config:Pe,larger:Lo,numeric:ds,typed:le}),min:S0e({config:Pe,numeric:ds,smaller:Po,typed:le}),range:A0e({bignumber:Ps,matrix:it,config:Pe,larger:Lo,largerEq:bb,smaller:Po,smallerEq:$E,typed:le}),sum:I0e({add:Ii,config:Pe,numeric:ds,typed:le}),cumsum:R0e({add:Ii,typed:le,unaryPlus:LE}),row:B0e({Index:da,matrix:it,range:Mf,typed:le}),column:H0e({Index:da,matrix:it,range:Mf,typed:le}),index:W0e({Index:da}),mean:Y0e({add:Ii,divide:Bo,typed:le}),variance:Q0e({add:Ii,apply:VE,divide:Bo,isNaN:ag,multiply:Fi,subtract:Ci,typed:le}),std:n_e({map:bf,sqrt:Ls,typed:le,variance:ZE})}),Xr(rV,{BigNumber:Ze,Complex:Ni,Fraction:Uu,Matrix:mb,Node:ha,ObjectNode:Ef,OperatorNode:Bl,ParenthesisNode:Gu,Range:XTe,RelationalNode:aV,ResultSet:gU,ArrayNode:Df,BlockNode:oV,ConditionalNode:sV,ConstantNode:Dc,DenseMatrix:rn,RangeNode:lV,Chain:QE,FunctionAssignmentNode:cV,SparseMatrix:Pl,AccessorNode:Af,AssignmentNode:uV,IndexNode:Tf,FibonacciHeap:zU,ImmutableDenseMatrix:VU,Index:da,Spa:$U,Unit:Gt,SymbolNode:Ac,FunctionNode:Tc,Help:hV,Parser:fV}),QE.createProxy(Sf);class Cb{constructor(e,t,i){this.vector=e,this.value=tD(i,{noise:t(e.x,e.y,e.z),vectorx:e.x,vectory:e.y,vectorz:e.z,length:e.length()})}setValue(e){this.value=e}createCave(e){return this.setValue(this.vector.length()-50),this}createSphere(e,t=10){return this.setValue(t-10*e(this.vector.x,this.vector.y,this.vector.z)-this.vector.length()+e(this.vector.x,this.vector.y,this.vector.z)),this}createTerrain(e){return this.setValue(this.vector.y+e(this.vector.x,this.vector.y,this.vector.z)),this}}class Qn{static polygonise(e,t,i){let r=0,a=[];if(e[0].value>t&&(r|=1),e[1].value>t&&(r|=2),e[2].value>t&&(r|=4),e[3].value>t&&(r|=8),e[4].value>t&&(r|=16),e[5].value>t&&(r|=32),e[6].value>t&&(r|=64),e[7].value>t&&(r|=128),0!==Qn.edgeTable[r]){1&Qn.edgeTable[r]&&(a[0]=Qn.vertexInterp(e[0].vector,e[1].vector)),2&Qn.edgeTable[r]&&(a[1]=Qn.vertexInterp(e[1].vector,e[2].vector)),4&Qn.edgeTable[r]&&(a[2]=Qn.vertexInterp(e[2].vector,e[3].vector)),8&Qn.edgeTable[r]&&(a[3]=Qn.vertexInterp(e[3].vector,e[0].vector)),16&Qn.edgeTable[r]&&(a[4]=Qn.vertexInterp(e[4].vector,e[5].vector)),32&Qn.edgeTable[r]&&(a[5]=Qn.vertexInterp(e[5].vector,e[6].vector)),64&Qn.edgeTable[r]&&(a[6]=Qn.vertexInterp(e[6].vector,e[7].vector)),128&Qn.edgeTable[r]&&(a[7]=Qn.vertexInterp(e[7].vector,e[4].vector)),256&Qn.edgeTable[r]&&(a[8]=Qn.vertexInterp(e[0].vector,e[4].vector)),512&Qn.edgeTable[r]&&(a[9]=Qn.vertexInterp(e[1].vector,e[5].vector)),1024&Qn.edgeTable[r]&&(a[10]=Qn.vertexInterp(e[2].vector,e[6].vector)),2048&Qn.edgeTable[r]&&(a[11]=Qn.vertexInterp(e[3].vector,e[7].vector));for(let o=0;-1!==Qn.triTable[r][o];o+=3)i.push(a[Qn.triTable[r][o]].toArray()),i.push(a[Qn.triTable[r][o+1]].toArray()),i.push(a[Qn.triTable[r][o+2]].toArray())}}static vertexInterp(e,t){return e.clone().lerp(t,.5)}}Qn.edgeTable=[0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0],Qn.triTable=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1],[3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1],[9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1],[9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1],[2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1],[4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1],[3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1],[4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1],[4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1],[5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1],[9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1],[2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1],[10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1],[4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1],[5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1],[5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1],[10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1],[2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1],[2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1],[11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1],[11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1],[0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1],[5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1],[6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1],[3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1],[1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1],[10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1],[6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1],[1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1],[8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1],[3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1],[0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1],[8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1],[6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1],[10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1],[10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1],[1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1],[0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1],[3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1],[9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1],[3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1],[0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1],[10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1],[10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1],[11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1],[0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1],[7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1],[10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1],[2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1],[6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1],[0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1],[7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1],[6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1],[9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1],[6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1],[4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1],[10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1],[10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1],[5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1],[11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1],[9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1],[6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1],[7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1],[7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1],[3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1],[9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1],[7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1],[6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1],[6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1],[6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1],[10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1],[0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1],[5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1],[10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1],[11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1],[9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1],[2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1],[9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1],[5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1],[0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1],[2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1],[9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1],[5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1],[1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1],[4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1],[11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1],[2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1],[1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1],[0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1],[0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1],[9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1],[1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]];const mV={type:"change"},nD={type:"start"},pV={type:"end"};class fFe extends pu{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ee,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ne){ne.addEventListener("keydown",De),this._domElementKeyEvents=ne},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(mV),i.update(),a=r.NONE},this.update=function(){const ne=new ee,we=(new Ma).setFromUnitVectors(e.up,new ee(0,1,0)),Je=we.clone().invert(),ct=new ee,ot=new Ma,_t=2*Math.PI;return function(){const Dt=i.object.position;ne.copy(Dt).sub(i.target),ne.applyQuaternion(we),s.setFromVector3(ne),i.autoRotate&&a===r.NONE&&E(function C(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(s.theta+=l.theta*i.dampingFactor,s.phi+=l.phi*i.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let Kt=i.minAzimuthAngle,F=i.maxAzimuthAngle;return isFinite(Kt)&&isFinite(F)&&(Kt<-Math.PI?Kt+=_t:Kt>Math.PI&&(Kt-=_t),F<-Math.PI?F+=_t:F>Math.PI&&(F-=_t),s.theta=Kt<=F?Math.max(Kt,Math.min(F,s.theta)):s.theta>(Kt+F)/2?Math.max(Kt,s.theta):Math.min(F,s.theta)),s.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=c,s.radius=Math.max(i.minDistance,Math.min(i.maxDistance,s.radius)),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),ne.setFromSpherical(s),ne.applyQuaternion(Je),Dt.copy(i.target).add(ne),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||ct.distanceToSquared(i.object.position)>o||8*(1-ot.dot(i.object.quaternion))>o)&&(i.dispatchEvent(mV),ct.copy(i.object.position),ot.copy(i.object.quaternion),d=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",oe),i.domElement.removeEventListener("pointerdown",Se),i.domElement.removeEventListener("pointercancel",pe),i.domElement.removeEventListener("wheel",he),i.domElement.removeEventListener("pointermove",W),i.domElement.removeEventListener("pointerup",Z),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",De)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=r.NONE;const o=1e-6,s=new WL,l=new WL;let c=1;const u=new ee;let d=!1;const h=new Ue,f=new Ue,m=new Ue,p=new Ue,g=new Ue,_=new Ue,w=new Ue,v=new Ue,y=new Ue,b=[],x={};function M(){return Math.pow(.95,i.zoomSpeed)}function E(ne){l.theta-=ne}function S(ne){l.phi-=ne}const T=function(){const ne=new ee;return function(Je,ct){ne.setFromMatrixColumn(ct,0),ne.multiplyScalar(-Je),u.add(ne)}}(),N=function(){const ne=new ee;return function(Je,ct){!0===i.screenSpacePanning?ne.setFromMatrixColumn(ct,1):(ne.setFromMatrixColumn(ct,0),ne.crossVectors(i.object.up,ne)),ne.multiplyScalar(Je),u.add(ne)}}(),k=function(){const ne=new ee;return function(Je,ct){const ot=i.domElement;if(i.object.isPerspectiveCamera){ne.copy(i.object.position).sub(i.target);let Xe=ne.length();Xe*=Math.tan(i.object.fov/2*Math.PI/180),T(2*Je*Xe/ot.clientHeight,i.object.matrix),N(2*ct*Xe/ot.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(T(Je*(i.object.right-i.object.left)/i.object.zoom/ot.clientWidth,i.object.matrix),N(ct*(i.object.top-i.object.bottom)/i.object.zoom/ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function R(ne){i.object.isPerspectiveCamera?c/=ne:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*ne)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function B(ne){i.object.isPerspectiveCamera?c*=ne:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/ne)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(ne){h.set(ne.clientX,ne.clientY)}function O(ne){p.set(ne.clientX,ne.clientY)}function $(){1===b.length?h.set(b[0].pageX,b[0].pageY):h.set(.5*(b[0].pageX+b[1].pageX),.5*(b[0].pageY+b[1].pageY))}function ae(){1===b.length?p.set(b[0].pageX,b[0].pageY):p.set(.5*(b[0].pageX+b[1].pageX),.5*(b[0].pageY+b[1].pageY))}function K(){const ne=b[0].pageX-b[1].pageX,we=b[0].pageY-b[1].pageY,Je=Math.sqrt(ne*ne+we*we);w.set(0,Je)}function ge(ne){if(1==b.length)f.set(ne.pageX,ne.pageY);else{const Je=dt(ne);f.set(.5*(ne.pageX+Je.x),.5*(ne.pageY+Je.y))}m.subVectors(f,h).multiplyScalar(i.rotateSpeed);const we=i.domElement;E(2*Math.PI*m.x/we.clientHeight),S(2*Math.PI*m.y/we.clientHeight),h.copy(f)}function re(ne){if(1===b.length)g.set(ne.pageX,ne.pageY);else{const we=dt(ne);g.set(.5*(ne.pageX+we.x),.5*(ne.pageY+we.y))}_.subVectors(g,p).multiplyScalar(i.panSpeed),k(_.x,_.y),p.copy(g)}function Ie(ne){const we=dt(ne),Je=ne.pageX-we.x,ct=ne.pageY-we.y,ot=Math.sqrt(Je*Je+ct*ct);v.set(0,ot),y.set(0,Math.pow(v.y/w.y,i.zoomSpeed)),R(y.y),w.copy(v)}function Se(ne){!1!==i.enabled&&(0===b.length&&(i.domElement.setPointerCapture(ne.pointerId),i.domElement.addEventListener("pointermove",W),i.domElement.addEventListener("pointerup",Z)),function Te(ne){b.push(ne)}(ne),"touch"===ne.pointerType?function V(ne){switch(He(ne),b.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;$(),a=r.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;ae(),a=r.TOUCH_PAN;break;default:a=r.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function me(){i.enableZoom&&K(),i.enablePan&&ae()})(),a=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function ye(){i.enableZoom&&K(),i.enableRotate&&$()})(),a=r.TOUCH_DOLLY_ROTATE;break;default:a=r.NONE}break;default:a=r.NONE}a!==r.NONE&&i.dispatchEvent(nD)}(ne):function X(ne){let we;switch(ne.button){case 0:we=i.mouseButtons.LEFT;break;case 1:we=i.mouseButtons.MIDDLE;break;case 2:we=i.mouseButtons.RIGHT;break;default:we=-1}switch(we){case 1:if(!1===i.enableZoom)return;(function A(ne){w.set(ne.clientX,ne.clientY)})(ne),a=r.DOLLY;break;case 0:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(!1===i.enablePan)return;O(ne),a=r.PAN}else{if(!1===i.enableRotate)return;D(ne),a=r.ROTATE}break;case 2:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(!1===i.enableRotate)return;D(ne),a=r.ROTATE}else{if(!1===i.enablePan)return;O(ne),a=r.PAN}break;default:a=r.NONE}a!==r.NONE&&i.dispatchEvent(nD)}(ne))}function W(ne){!1!==i.enabled&&("touch"===ne.pointerType?function U(ne){switch(He(ne),a){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;ge(ne),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;re(ne),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function be(ne){i.enableZoom&&Ie(ne),i.enablePan&&re(ne)})(ne),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function fe(ne){i.enableZoom&&Ie(ne),i.enableRotate&&ge(ne)})(ne),i.update();break;default:a=r.NONE}}(ne):function J(ne){switch(a){case r.ROTATE:if(!1===i.enableRotate)return;!function I(ne){f.set(ne.clientX,ne.clientY),m.subVectors(f,h).multiplyScalar(i.rotateSpeed);const we=i.domElement;E(2*Math.PI*m.x/we.clientHeight),S(2*Math.PI*m.y/we.clientHeight),h.copy(f),i.update()}(ne);break;case r.DOLLY:if(!1===i.enableZoom)return;!function L(ne){v.set(ne.clientX,ne.clientY),y.subVectors(v,w),y.y>0?R(M()):y.y<0&&B(M()),w.copy(v),i.update()}(ne);break;case r.PAN:if(!1===i.enablePan)return;!function q(ne){g.set(ne.clientX,ne.clientY),_.subVectors(g,p).multiplyScalar(i.panSpeed),k(_.x,_.y),p.copy(g),i.update()}(ne)}}(ne))}function Z(ne){Fe(ne),0===b.length&&(i.domElement.releasePointerCapture(ne.pointerId),i.domElement.removeEventListener("pointermove",W),i.domElement.removeEventListener("pointerup",Z)),i.dispatchEvent(pV),a=r.NONE}function pe(ne){Fe(ne)}function he(ne){!1===i.enabled||!1===i.enableZoom||a!==r.NONE||(ne.preventDefault(),i.dispatchEvent(nD),function G(ne){ne.deltaY<0?B(M()):ne.deltaY>0&&R(M()),i.update()}(ne),i.dispatchEvent(pV))}function De(ne){!1===i.enabled||!1===i.enablePan||function z(ne){let we=!1;switch(ne.code){case i.keys.UP:ne.ctrlKey||ne.metaKey||ne.shiftKey?S(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):k(0,i.keyPanSpeed),we=!0;break;case i.keys.BOTTOM:ne.ctrlKey||ne.metaKey||ne.shiftKey?S(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):k(0,-i.keyPanSpeed),we=!0;break;case i.keys.LEFT:ne.ctrlKey||ne.metaKey||ne.shiftKey?E(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):k(i.keyPanSpeed,0),we=!0;break;case i.keys.RIGHT:ne.ctrlKey||ne.metaKey||ne.shiftKey?E(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):k(-i.keyPanSpeed,0),we=!0}we&&(ne.preventDefault(),i.update())}(ne)}function oe(ne){!1!==i.enabled&&ne.preventDefault()}function Fe(ne){delete x[ne.pointerId];for(let we=0;we<b.length;we++)if(b[we].pointerId==ne.pointerId)return void b.splice(we,1)}function He(ne){let we=x[ne.pointerId];void 0===we&&(we=new Ue,x[ne.pointerId]=we),we.set(ne.pageX,ne.pageY)}function dt(ne){return x[(ne.pointerId===b[0].pointerId?b[1]:b[0]).pointerId]}i.domElement.addEventListener("contextmenu",oe),i.domElement.addEventListener("pointerdown",Se),i.domElement.addEventListener("pointercancel",pe),i.domElement.addEventListener("wheel",he,{passive:!1}),this.update()}}class mFe{constructor(e,t,i){this.scene=new G3,this.renderer=new H3({canvas:i}),this.camera=new jr(90,e/t,.1,1e5),this.controls=new fFe(this.camera,this.renderer.domElement),this.renderer.setSize(e,t),this.startCoordinates={x:0,y:0,z:0},this.cleanUpList=[],this.objectName="example",this.gridName="grid",this.verticesName="verts",this.camera.position.z=50,this.spawnLight({x:1e3,y:1e3,z:1e3},8257791),this.animate()}resize(e,t){this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}spawnLight(e,t){const r=new kL(t,2);r.position.set(e.x,e.y,e.z),this.scene.add(r)}createStructure(e){const t=new vn;t.setAttribute("position",new Er(e,3)),t.computeVertexNormals();const i=new CL({side:2});i.color.setRGB(.5,1,.1);const r=new Ua(t,i);r.name=this.objectName,this.cleanUpList.push(this.objectName),this.scene.add(r)}createCube(e,t,i=null,r,a){let o=i;return i||(o=[]),o?.push(new Cb(new ee(e.x,e.y+t,e.z+t),r,a)),o?.push(new Cb(new ee(e.x+t,e.y+t,e.z+t),r,a)),o?.push(new Cb(new ee(e.x+t,e.y+t,e.z),r,a)),o?.push(new Cb(new ee(e.x,e.y+t,e.z),r,a)),o}createCubeGrid(e,t,i,r,a){let o=[],s=new ee(e.x-t/2,e.y-t/2,e.z-t/2);for(let l=s.x;l<s.x+t;l+=i)for(let c=s.z;c<s.z+t;c+=i)for(let u=s.y;u<s.y+t;u+=i)this.createCube(new ee(l,u,c),i,o,r,a);return o}cleanUp(){this.cleanUpList.forEach(e=>{let t=this.scene.getObjectByName(e);!t||(t.material.dispose(),t.geometry.dispose(),t.parent?.remove(t))})}generate(e,t,i,r,a,o){if(this.cleanUp(),i<0||r<0)return;let s=[],l=function Qne(n=Math.random){const e=cS(n),t=new Float64Array(e).map(a=>lS[a%12*3]),i=new Float64Array(e).map(a=>lS[a%12*3+1]),r=new Float64Array(e).map(a=>lS[a%12*3+2]);return function(o,s,l){let c,u,d,h;const f=.3333333333333333*(o+s+l),m=ml(o+f),p=ml(s+f),g=ml(l+f),_=(m+p+g)*As,b=o-(m-_),x=s-(p-_),C=l-(g-_);let M,E,S,T,N,k;b>=x?x>=C?(M=1,E=0,S=0,T=1,N=1,k=0):b>=C?(M=1,E=0,S=0,T=1,N=0,k=1):(M=0,E=0,S=1,T=1,N=0,k=1):x<C?(M=0,E=0,S=1,T=0,N=1,k=1):b<C?(M=0,E=1,S=0,T=0,N=1,k=1):(M=0,E=1,S=0,T=1,N=1,k=0);const R=b-M+As,B=x-E+As,D=C-S+As,A=b-T+2*As,O=x-N+2*As,I=C-k+2*As,L=b-1+.5,q=x-1+.5,G=C-1+.5,z=255&m,$=255&p,ae=255&g;let K=.6-b*b-x*x-C*C;if(K<0)c=0;else{const re=z+e[$+e[ae]];K*=K,c=K*K*(t[re]*b+i[re]*x+r[re]*C)}let me=.6-R*R-B*B-D*D;if(me<0)u=0;else{const re=z+M+e[$+E+e[ae+S]];me*=me,u=me*me*(t[re]*R+i[re]*B+r[re]*D)}let ye=.6-A*A-O*O-I*I;if(ye<0)d=0;else{const re=z+T+e[$+N+e[ae+k]];ye*=ye,d=ye*ye*(t[re]*A+i[re]*O+r[re]*I)}let ge=.6-L*L-q*q-G*G;if(ge<0)h=0;else{const re=z+1+e[$+1+e[ae+1]];ge*=ge,h=ge*ge*(t[re]*L+i[re]*q+r[re]*G)}return 32*(c+u+d+h)}}(),c=this.createCubeGrid(this.startCoordinates,i,r,l,e);a&&this.drawPoints(c,this.gridName);for(let d=0;d<c.length-4;d+=4)Qn.polygonise(c.slice(d,d+8),t,s);let u=new Float32Array(3*s.length);for(let d=0;d<s.length;d++)for(let h=0;h<3;h++)u[3*d+h]=s[d][h];o&&this.drawCoordinates(u,this.verticesName),this.createStructure(u)}animate(){this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this))}drawPoints(e,t){let i=new vn;const r=[];e.forEach(s=>{r.push(s.vector.x,s.vector.y,s.vector.z)}),i.setAttribute("position",new Tt(r,3));const a=new H_({size:.2,sizeAttenuation:!0,alphaTest:.5,transparent:!0,color:16777215}),o=new fC(i,a);o.name=t,this.cleanUpList.push(t),this.scene.add(o)}drawCoordinates(e,t){const i=new vn;i.setAttribute("position",new Tt(e,3));const r=new H_({color:16711935,size:.5}),a=new fC(i,r);a.name=t,this.cleanUpList.push(t),this.scene.add(a)}}class pFe{constructor(e,t,i,r,a,o){this.formula=e,this.isolevel=t,this.totalSize=i,this.individualSize=r,this.showGrid=a,this.showVertices=o}sanitize(){this.formula=this.formula?this.formula.toLowerCase():"noise * 70 - length + 100",this.isolevel=this.isolevel?this.isolevel:1,this.totalSize=this.totalSize?this.totalSize:200,this.individualSize=this.individualSize?this.individualSize:10,this.showGrid=!!this.showGrid&&this.showGrid,this.showVertices=!!this.showVertices&&this.showVertices}}const gFe=["mat-button",""],vFe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_Fe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],yFe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bFe=G0(iS(rS(class{constructor(n){this._elementRef=n}})));let xFe=(()=>{class n extends bFe{constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=mn(tS),this._isFab=!1;const o=t.nativeElement.classList;for(const s of yFe)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){dm()},n.\u0275dir=at({type:n,viewQuery:function(t,i){if(1&t&&Hr(np,5),2&t){let r;Jn(r=ei())&&(i.ripple=r.first)}},features:[qt]}),n})(),MFe=(()=>{class n extends xFe{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(qr),ve(Xt),ve(wo,8))},n.\u0275cmp=mi({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(xi("disabled",i.disabled||null),Wn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qt],attrs:gFe,ngContentSelectors:_Fe,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(_a(vFe),gn(0,"span",0),Nn(1),Qe(2,"span",1),Nn(3,1),rt(),Nn(4,2),gn(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(Wn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),Nt(6),Ct("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[np],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),CFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,ip,wi]}),n})(),gV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ve(tl),ve(Bn))},n.\u0275dir=at({type:n}),n})(),qu=(()=>{class n extends gV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=at({type:n,features:[qt]}),n})();const lo=new je("NgValueAccessor"),DFe={provide:lo,useExisting:Zn(()=>Eb),multi:!0},TFe=new je("CompositionEventMode");let Eb=(()=>{class n extends gV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AFe(){const n=Ss()?Ss().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ve(tl),ve(Bn),ve(TFe,8))},n.\u0275dir=at({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&qn("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[In([DFe]),qt]}),n})();function Nc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _V(n){return null!=n&&"number"==typeof n.length}const Pr=new je("NgValidators"),Ic=new je("NgAsyncValidators"),IFe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class FFe{static min(e){return yV(e)}static max(e){return function bV(n){return e=>{if(Nc(e.value)||Nc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function xV(n){return Nc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function wV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function MV(n){return Nc(n.value)||IFe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function SV(n){return e=>Nc(e.value)||!_V(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CV(n){return e=>_V(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function EV(n){if(!n)return Db;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Nc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return FV(e)}static composeAsync(e){return kV(e)}}function yV(n){return e=>{if(Nc(e.value)||Nc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Db(n){return null}function DV(n){return null!=n}function AV(n){return vm(n)?Xi(n):n}function TV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NV(n,e){return e.map(t=>t(n))}function IV(n){return n.map(e=>function kFe(n){return!n.validate}(e)?e:t=>e.validate(t))}function FV(n){if(!n)return null;const e=n.filter(DV);return 0==e.length?null:function(t){return TV(NV(t,e))}}function iD(n){return null!=n?FV(IV(n)):null}function kV(n){if(!n)return null;const e=n.filter(DV);return 0==e.length?null:function(t){return XO(NV(t,e).map(AV)).pipe(Ut(TV))}}function rD(n){return null!=n?kV(IV(n)):null}function RV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function OV(n){return n._rawValidators}function PV(n){return n._rawAsyncValidators}function aD(n){return n?Array.isArray(n)?n:[n]:[]}function Ab(n,e){return Array.isArray(n)?n.includes(e):n===e}function LV(n,e){const t=aD(e);return aD(n).forEach(r=>{Ab(t,r)||t.push(r)}),t}function BV(n,e){return aD(e).filter(t=>!Ab(n,t))}class zV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Na extends zV{get formDirective(){return null}get path(){return null}}class zl extends zV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let VV=(()=>{class n extends UV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ve(zl,2))},n.\u0275dir=at({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Wn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qt]}),n})(),HV=(()=>{class n extends UV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ve(Na,10))},n.\u0275dir=at({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Wn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qt]}),n})();const lg="VALID",Nb="INVALID",Nf="PENDING",cg="DISABLED";function cD(n){return(Ib(n)?n.validators:n)||null}function uD(n,e){return(Ib(e)?e.asyncValidators:n)||null}function Ib(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $V{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lg}get invalid(){return this.status===Nb}get pending(){return this.status==Nf}get disabled(){return this.status===cg}get enabled(){return this.status!==cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BV(e,this._rawAsyncValidators))}hasValidator(e){return Ab(this._rawValidators,e)}hasAsyncValidator(e){return Ab(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lg||this.status===Nf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cg:lg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nf,this._hasOwnPendingAsyncValidator=!0;const t=AV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fn,this.statusChanges=new Fn}_calculateStatus(){return this._allControlsDisabled()?cg:this.errors?Nb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nf)?Nf:this._anyControlsHaveStatus(Nb)?Nb:lg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ib(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function UFe(n){return Array.isArray(n)?iD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function VFe(n){return Array.isArray(n)?rD(n):n||null}(this._rawAsyncValidators)}}class dD extends $V{constructor(e,t,i){super(cD(t),uD(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function WV(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Re(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function qV(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Re(1e3,"");if(!i[t])throw new Re(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ug=new je("CallSetDisabledState",{providedIn:"root",factory:()=>hD}),hD="always";function dg(n,e,t=hD){fD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qFe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jV(n,e)})}(n,e),function $Fe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function WFe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function GFe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kb(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ob(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fD(n,e){const t=OV(n);null!==e.validator?n.setValidators(RV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=PV(n);null!==e.asyncValidator?n.setAsyncValidators(RV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Rb(e._rawValidators,r),Rb(e._rawAsyncValidators,r)}function Ob(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=OV(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(o=>o!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=PV(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(o=>o!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Rb(e._rawValidators,i),Rb(e._rawAsyncValidators,i),t}function jV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XV(n,e){fD(n,e)}function YV(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const KFe={provide:Na,useExisting:Zn(()=>fg)},hg=(()=>Promise.resolve())();let fg=(()=>{class n extends Na{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fn,this.form=new dD({},iD(t),rD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hg.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),dg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){hg.then(()=>{const i=this._findContainer(t.path),r=new dD({});XV(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){hg.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,YV(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(ve(Pr,10),ve(Ic,10),ve(ug,8))},n.\u0275dir=at({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&qn("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([KFe]),qt]}),n})();function ZV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function KV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const QV=class extends $V{constructor(e=null,t,i){super(cD(t),uD(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ib(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=KV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){KV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},eke={provide:zl,useExisting:Zn(()=>vD)},tH=(()=>Promise.resolve())();let vD=(()=>{class n extends zl{constructor(t,i,r,a,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this.control=new QV,this._registered=!1,this.update=new Fn,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function gD(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Eb?t=a:function YFe(n){return Object.getPrototypeOf(n.constructor)===qu}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function pD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tH.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Wd(i);tH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Fb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(ve(Na,9),ve(Pr,10),ve(Ic,10),ve(lo,10),ve(Mo,8),ve(ug,8))},n.\u0275dir=at({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[In([eke]),qt,na]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const tke={provide:lo,useExisting:Zn(()=>_D),multi:!0};let _D=(()=>{class n extends qu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=at({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&qn("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[In([tke]),qt]}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();const oke={provide:Na,useExisting:Zn(()=>Pb)};let Pb=(()=>{class n extends Na{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fn,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ob(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return dg(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){kb(t.control||null,t,!1),function ZFe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,YV(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(kb(i||null,t),(n=>n instanceof QV)(r)&&(dg(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);XV(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function jFe(n,e){return Ob(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fD(this.form,this),this._oldForm&&Ob(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(ve(Pr,10),ve(Ic,10),ve(ug,8))},n.\u0275dir=at({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&qn("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([oke]),qt,na]}),n})();let Wu=(()=>{class n{constructor(){this._validator=Db}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Db,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,features:[na]}),n})();const vke={provide:Pr,useExisting:Zn(()=>MD),multi:!0};let MD=(()=>{class n extends Wu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function fH(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>yV(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=at({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&xi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[In([vke]),qt]}),n})(),Ske=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[iH]}),n})(),Cke=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ug,useValue:t.callSetDisabledState??hD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[Ske]}),n})(),bH=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dke=0;const CD=new je("CdkAccordion");let Ake=(()=>{class n{constructor(){this._stateChanges=new fn,this._openCloseAllActions=new fn,this.id="cdk-accordion-"+Dke++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=pi(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[In([{provide:CD,useExisting:n}]),na]}),n})(),Tke=0,Nke=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ut.EMPTY,this.closed=new Fn,this.opened=new Fn,this.destroyed=new Fn,this.expandedChange=new Fn,this.id="cdk-accordion-child-"+Tke++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=pi(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=pi(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(ve(CD,12),ve(Mo),ve(bH))},n.\u0275dir=at({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[In([{provide:CD,useValue:void 0}])]}),n})(),Ike=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();class ED{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Fke extends ED{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class xH extends ED{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class kke extends ED{constructor(e){super(),this.element=e instanceof Bn?e.nativeElement:e}}class wH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Fke?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof kke?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Rke extends wH{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const s=o.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Pa.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Oke=(()=>{class n extends wH{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Fn,this.attachDomPortal=a=>{const o=a.element,s=this._document.createComment("dom-portal");a.setAttachedHost(this),o.parentNode.insertBefore(s,o),this._getRootNode().appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(o,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ve(Wc),ve(Ja),ve(En))},n.\u0275dir=at({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qt]}),n})(),MH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})();class SH{}class Pke{}const Ul="*";function mg(n,e){return{type:7,name:n,definitions:e,options:{}}}function If(n,e=null){return{type:4,styles:e,timings:n}}function CH(n,e=null){return{type:2,steps:n,options:e}}function co(n){return{type:6,styles:n,offset:null}}function $u(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ff(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function EH(n){Promise.resolve().then(n)}class pg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class DH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?EH(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==a&&this._onFinish()}),o.onDestroy(()=>{++i==a&&this._onDestroy()}),o.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Lke=["body"];function Bke(n,e){}const zke=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Uke=["mat-expansion-panel-header","*","mat-action-row"];function Vke(n,e){1&n&&gn(0,"span",2),2&n&&Ct("@indicatorRotate",aa()._getExpandedState())}const Hke=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Gke=["mat-panel-title","mat-panel-description","*"],AD=new je("MAT_ACCORDION"),AH="225ms cubic-bezier(0.4,0.0,0.2,1)",TH={indicatorRotate:mg("indicatorRotate",[$u("collapsed, void",co({transform:"rotate(0deg)"})),$u("expanded",co({transform:"rotate(180deg)"})),Ff("expanded <=> collapsed, void => collapsed",If(AH))]),bodyExpansion:mg("bodyExpansion",[$u("collapsed, void",co({height:"0px",visibility:"hidden"})),$u("expanded",co({height:"*",visibility:"visible"})),Ff("expanded <=> collapsed, void => collapsed",If(AH))])},NH=new je("MAT_EXPANSION_PANEL");let qke=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(ve(ws),ve(NH,8))},n.\u0275dir=at({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Wke=0;const IH=new je("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let FH=(()=>{class n extends Nke{constructor(t,i,r,a,o,s,l){super(t,i,r),this._viewContainerRef=a,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new Fn,this.afterCollapse=new Fn,this._inputChanges=new fn,this._headerId="mat-expansion-panel-header-"+Wke++,this._bodyAnimationDone=new fn,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(yO((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=pi(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Rm(null),sa(()=>this.expanded&&!this._portal),cl(1)).subscribe(()=>{this._portal=new xH(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(ve(AD,12),ve(Mo),ve(bH),ve(Ja),ve(En),ve(wo,8),ve(IH,8))},n.\u0275cmp=mi({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&oa(r,qke,5),2&t){let a;Jn(a=ei())&&(i._lazyContent=a.first)}},viewQuery:function(t,i){if(1&t&&Hr(Lke,5),2&t){let r;Jn(r=ei())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&Wn("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[In([{provide:AD,useValue:void 0},{provide:NH,useExisting:n}]),qt,na],ngContentSelectors:Uke,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(_a(zke),Nn(0),Qe(1,"div",0,1),qn("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),Qe(3,"div",2),Nn(4,1),oi(5,Bke,0,0,"ng-template",3),rt(),Nn(6,2),rt()),2&t&&(Nt(1),Ct("@bodyExpansion",i._getExpandedState())("id",i.id),xi("aria-labelledby",i._headerId),Nt(4),Ct("cdkPortalOutlet",i._portal))},dependencies:[Oke],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[TH.bodyExpansion]},changeDetection:0}),n})();class $ke{}const jke=aS($ke);let kH=(()=>{class n extends jke{constructor(t,i,r,a,o,s,l){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=s,this._parentChangeSubscription=ut.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(sa(u=>!(!u.hideToggle&&!u.togglePosition))):qa;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Oc(t.opened,t.closed,c,t._inputChanges.pipe(sa(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(sa(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:ZM(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(ve(FH,1),ve(Bn),ve(tS),ve(Mo),ve(IH,8),ve(wo,8),Yl("tabindex"))},n.\u0275cmp=mi({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&qn("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&t&&(xi("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),xo("height",i._getHeaderHeight()),Wn("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[qt],ngContentSelectors:Gke,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(_a(Hke),Qe(0,"span",0),Nn(1),Nn(2,1),Nn(3,2),rt(),oi(4,Vke,1,1,"span",1)),2&t&&(Wn("mat-content-hide-toggle",!i._showToggle()),Nt(4),Ct("ngIf",i._showToggle()))},dependencies:[u0],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[TH.indicatorRotate]},changeDetection:0}),n})(),Xke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),Yke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Zke=(()=>{class n extends Ake{constructor(){super(...arguments),this._ownHeaders=new Vd,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=pi(t)}ngAfterContentInit(){this._headers.changes.pipe(Rm(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new EO(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=at({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&oa(r,kH,5),2&t){let a;Jn(a=ei())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&Wn("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[In([{provide:AD,useExisting:n}]),qt]}),n})(),Kke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[Jc,wi,Ike,MH]}),n})();const Qke=["input"],Jke=["label"],eRe=["*"],tRe=new je("mat-checkbox-default-options",{providedIn:"root",factory:RH});function RH(){return{color:"accent",clickAction:"check-indeterminate"}}const nRe={provide:lo,useExisting:Zn(()=>PH),multi:!0};class iRe{}let rRe=0;const OH=RH(),aRe=aS(G0(rS(iS(class{constructor(n){this._elementRef=n}}))));let oRe=(()=>{class n extends aRe{constructor(t,i,r,a,o,s,l){super(i),this._changeDetectorRef=r,this._ngZone=a,this._animationMode=s,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Fn,this.indeterminateChange=new Fn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||OH,this.color=this.defaultColor=this._options.color||OH.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`${t}${++rRe}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=pi(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=pi(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=pi(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=pi(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){dm()},n.\u0275dir=at({type:n,viewQuery:function(t,i){if(1&t&&(Hr(Qke,5),Hr(Jke,5),Hr(np,5)),2&t){let r;Jn(r=ei())&&(i._inputElement=r.first),Jn(r=ei())&&(i._labelElement=r.first),Jn(r=ei())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[qt]}),n})(),PH=(()=>{class n extends oRe{constructor(t,i,r,a,o,s){super("mat-mdc-checkbox-",t,i,r,a,o,s),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new iRe;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Mo),ve(Xt),Yl("tabindex"),ve(wo,8),ve(tRe,8))},n.\u0275cmp=mi({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&(Ld("id",i.id),xi("tabindex",null)("aria-label",null)("aria-labelledby",null),Wn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[In([nRe]),qt],ngContentSelectors:eRe,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(t,i){if(1&t&&(_a(),Qe(0,"div",0),qn("click",function(a){return i._preventBubblingFromLabel(a)}),Qe(1,"div",1,2)(3,"div",3),qn("click",function(){return i._onInputClick()}),rt(),Qe(4,"input",4,5),qn("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(a){return i._onInteractionEvent(a)}),rt(),gn(6,"div",6),Qe(7,"div",7),function Jg(){Jt.lFrame.currentNamespace="svg"}(),Qe(8,"svg",8),gn(9,"path",9),rt(),function ev(){!function K7(){Jt.lFrame.currentNamespace=null}()}(),gn(10,"div",10),rt(),gn(11,"div",11),rt(),Qe(12,"label",12,13),Nn(14),rt()()),2&t){const r=al(2);Wn("mdc-form-field--align-end","before"==i.labelPosition),Nt(4),Wn("mdc-checkbox--selected",i.checked),Ct("checked",i.checked)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),xi("aria-checked",i._getAriaChecked())("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),Nt(7),Ct("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),Nt(1),Ct("for",i.inputId)}},dependencies:[np],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})(),cRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,ip,LH,wi,LH]}),n})();const BH=ah({passive:!0});let uRe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return qa;const i=fl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new fn,o="cdk-text-field-autofilled",s=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,BH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",s,BH)}}),a}stopMonitoring(t){const i=fl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(Oe(qr),Oe(Xt))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})(),zH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hRe=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=fl(t);return new Tn(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new fn,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(Oe(zH))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UH=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Fn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=pi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$M(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(eS(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ve(hRe),ve(Bn),ve(Xt))},n.\u0275dir=at({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({providers:[zH]}),n})();const fRe=["matFormFieldNotchedOutline",""],mRe=["*"],pRe=["textField"],gRe=["iconPrefixContainer"],vRe=["textPrefixContainer"];function _Re(n,e){1&n&&gn(0,"span",19)}function yRe(n,e){if(1&n){const t=function xN(){return We()}();Qe(0,"label",17),qn("cdkObserveContent",function(){return function qA(n){return Jt.lFrame.contextLView=n,n[8]}(t),function WA(n){return Jt.lFrame.contextLView=null,n}(aa(2)._refreshOutlineNotchWidth())}),Nn(1,1),oi(2,_Re,1,0,"span",18),rt()}if(2&n){const t=aa(2);Ct("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),xi("for",t._control.id)("aria-owns",t._control.id),Nt(2),Ct("ngIf",!t.hideRequiredMarker&&t._control.required)}}function bRe(n,e){1&n&&oi(0,yRe,3,6,"label",16),2&n&&Ct("ngIf",aa()._hasFloatingLabel())}function xRe(n,e){1&n&&gn(0,"div",20)}function wRe(n,e){}function MRe(n,e){1&n&&oi(0,wRe,0,0,"ng-template",22),2&n&&(aa(2),Ct("ngTemplateOutlet",al(1)))}function SRe(n,e){if(1&n&&(Qe(0,"div",21),oi(1,MRe,1,1,"ng-template",9),rt()),2&n){const t=aa();Ct("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),Nt(1),Ct("ngIf",!t._forceDisplayInfixLabel())}}function CRe(n,e){1&n&&(Qe(0,"div",23,24),Nn(2,2),rt())}function ERe(n,e){1&n&&(Qe(0,"div",25,26),Nn(2,3),rt())}function DRe(n,e){}function ARe(n,e){1&n&&oi(0,DRe,0,0,"ng-template",22),2&n&&(aa(),Ct("ngTemplateOutlet",al(1)))}function TRe(n,e){1&n&&(Qe(0,"div",27),Nn(1,4),rt())}function NRe(n,e){1&n&&(Qe(0,"div",28),Nn(1,5),rt())}function IRe(n,e){1&n&&gn(0,"div",29)}function FRe(n,e){1&n&&(Qe(0,"div",30),Nn(1,6),rt()),2&n&&Ct("@transitionMessages",aa()._subscriptAnimationState)}function kRe(n,e){if(1&n&&(Qe(0,"mat-hint",34),$n(1),rt()),2&n){const t=aa(2);Ct("id",t._hintLabelId),Nt(1),Kl(t.hintLabel)}}function RRe(n,e){if(1&n&&(Qe(0,"div",31),oi(1,kRe,2,2,"mat-hint",32),Nn(2,7),gn(3,"div",33),Nn(4,8),rt()),2&n){const t=aa();Ct("@transitionMessages",t._subscriptAnimationState),Nt(1),Ct("ngIf",t.hintLabel)}}const ORe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],PRe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let TD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-label"]]}),n})();const LRe=new je("MatError");let BRe=0,HH=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+BRe++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(Ld("id",i.id),xi("align",null),Wn("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const zRe=new je("MatPrefix"),URe=new je("MatSuffix");let GH=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function VRe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn))},n.\u0275dir=at({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&Wn("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const qH="mdc-line-ripple--active",Bb="mdc-line-ripple--deactivating";let WH=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,o=a.contains(Bb);"opacity"===r.propertyName&&o&&a.remove(qH,Bb)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Bb),t.add(qH)}deactivate(){this._elementRef.nativeElement.classList.add(Bb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Xt))},n.\u0275dir=at({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),$H=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Xt))},n.\u0275cmp=mi({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&Wn("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:fRe,ngContentSelectors:mRe,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(_a(),gn(0,"div",0),Qe(1,"div",1),Nn(2),rt(),gn(3,"div",2)),2&t&&(Nt(1),xo("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const HRe={transitionMessages:mg("transitionMessages",[$u("enter",co({opacity:1,transform:"translateY(0%)"})),Ff("void => enter",[co({opacity:0,transform:"translateY(-5px)"}),If("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n}),n})();const XH=new je("MatFormField"),GRe=new je("MAT_FORM_FIELD_DEFAULT_OPTIONS");let YH=0,$Re=(()=>{class n{constructor(t,i,r,a,o,s,l,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=o,this._defaults=s,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+YH++,this._hintLabelId="mat-mdc-hint-"+YH++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new fn,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=Boolean(s?.hideRequiredMarker),s.color&&(this.color=s.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ds(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Oc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ds(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ds(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Mo),ve(Xt),ve(Jm),ve(qr),ve(GRe,8),ve(wo,8),ve(En))},n.\u0275cmp=mi({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(oa(r,TD,5),oa(r,TD,7),oa(r,jH,5),oa(r,zRe,5),oa(r,URe,5),oa(r,LRe,5),oa(r,HH,5)),2&t){let a;Jn(a=ei())&&(i._labelChildNonStatic=a.first),Jn(a=ei())&&(i._labelChildStatic=a.first),Jn(a=ei())&&(i._formFieldControl=a.first),Jn(a=ei())&&(i._prefixChildren=a),Jn(a=ei())&&(i._suffixChildren=a),Jn(a=ei())&&(i._errorChildren=a),Jn(a=ei())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(Hr(pRe,5),Hr(gRe,5),Hr(vRe,5),Hr(GH,5),Hr($H,5),Hr(WH,5)),2&t){let r;Jn(r=ei())&&(i._textField=r.first),Jn(r=ei())&&(i._iconPrefixContainer=r.first),Jn(r=ei())&&(i._textPrefixContainer=r.first),Jn(r=ei())&&(i._floatingLabel=r.first),Jn(r=ei())&&(i._notchedOutline=r.first),Jn(r=ei())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&Wn("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[In([{provide:XH,useExisting:n}])],ngContentSelectors:PRe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(_a(ORe),oi(0,bRe,1,1,"ng-template",null,0,Gv),Qe(2,"div",1,2),qn("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),oi(4,xRe,1,0,"div",3),Qe(5,"div",4),oi(6,SRe,2,3,"div",5),oi(7,CRe,3,0,"div",6),oi(8,ERe,3,0,"div",7),Qe(9,"div",8),oi(10,ARe,1,1,"ng-template",9),Nn(11),rt(),oi(12,TRe,2,0,"div",10),oi(13,NRe,2,0,"div",11),rt(),oi(14,IRe,1,0,"div",12),rt(),Qe(15,"div",13),oi(16,FRe,2,1,"div",14),oi(17,RRe,5,2,"div",15),rt()),2&t&&(Nt(2),Wn("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Nt(2),Ct("ngIf",!i._hasOutline()&&!i._control.disabled),Nt(2),Ct("ngIf",i._hasOutline()),Nt(1),Ct("ngIf",i._hasIconPrefix),Nt(1),Ct("ngIf",i._hasTextPrefix),Nt(2),Ct("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),Nt(2),Ct("ngIf",i._hasTextSuffix),Nt(1),Ct("ngIf",i._hasIconSuffix),Nt(1),Ct("ngIf",!i._hasOutline()),Nt(1),Wn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Ct("ngSwitch",i._getDisplayedMessages()),Nt(1),Ct("ngSwitchCase","error"),Nt(1),Ct("ngSwitchCase","hint"))},dependencies:[u0,iM,d0,xk,UH,HH,GH,$H,WH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[HRe.transitionMessages]},changeDetection:0}),n})(),QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,Jc,VH,wi]}),n})();const jRe=new je("MAT_INPUT_VALUE_ACCESSOR"),XRe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let YRe=0;const ZRe=Mne(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new fn}});let KRe=(()=>{class n extends ZRe{constructor(t,i,r,a,o,s,l,c,u,d){super(s,a,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+YRe++,this.focused=!1,this.stateChanges=new fn,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>hO().has(m)),this._iOSKeyupListener=m=>{const p=m.target;!p.value&&0===p.selectionStart&&0===p.selectionEnd&&(p.setSelectionRange(1,1),p.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=pi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(FFe.required)??!1}set required(t){this._required=pi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&hO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){XRe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(qr),ve(zl,10),ve(fg,8),ve(Pb,8),ve(Cne),ve(jRe,10),ve(uRe),ve(Xt),ve(XH,8))},n.\u0275dir=at({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&qn("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Ld("id",i.id)("disabled",i.disabled)("required",i.required),xi("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Wn("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[In([{provide:jH,useExisting:n}]),qt,na]}),n})(),QRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[wi,QH,QH,dRe,wi]}),n})();class gg{}gg.\u0275fac=function(e){return new(e||gg)},gg.\u0275cmp=mi({type:gg,selectors:[["app-marching-cube-card"]],inputs:{name:"name",description:"description"},decls:6,vars:2,consts:[["className","card"]],template:function(e,t){1&e&&(Qe(0,"mat-card",0)(1,"mat-card-content")(2,"h3"),$n(3),rt(),Qe(4,"p"),$n(5),rt()()()),2&e&&(Nt(3),Kl(t.name),Nt(2),Kl(t.description))},dependencies:[q0,W0]});class vg{constructor(){this.inputs=new pFe("noise * 70 - length + 100",1,200,10,!1,!1)}onSubmit(e){e.preventDefault(),this.inputs.sanitize(),this.threeCanvas?.generate(this.inputs.formula,this.inputs.isolevel,this.inputs.totalSize,this.inputs.individualSize,this.inputs.showGrid,this.inputs.showVertices)}}vg.\u0275fac=function(e){return new(e||vg)},vg.\u0275cmp=mi({type:vg,selectors:[["app-marching-cube-options"]],inputs:{threeCanvas:"threeCanvas"},decls:44,vars:10,consts:[[1,"options-box"],["hideToggle",""],[3,"ngSubmit"],["name","showGrid",3,"ngModel","ngModelChange"],["name","showVertices",3,"ngModel","ngModelChange"],["matInput","","id","individualSize-input","name","individualSize","type","number","min","0",3,"ngModel","placeholder","ngModelChange"],["matInput","","id","totalSize-input","name","totalSize","type","number","min","0",3,"ngModel","placeholder","ngModelChange"],["matInput","","id","isolevel-input","name","isolevel","type","number",3,"ngModel","placeholder","ngModelChange"],["matInput","","id","formula-input","name","formula","type","text",3,"ngModel","placeholder","ngModelChange"],["mat-raised-button","","color","accent","type","submit"],["id","error-paragraph"],["name","Vector","description","Represents a point's placement in the world. X is vectorx, Y is vectory and Z is vectorz."],[1,"card-divider"],["name","Length","description","Represents the point's euclidian length. Try adding 'length'\n            into an expression!"],["name","Noise","description","Represents a noise-generated value associated to the point.\n            Typing 'noise' will add randomness to the equation!"]],template:function(e,t){1&e&&(Qe(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),$n(4," Options "),rt(),Qe(5,"mat-panel-description"),$n(6," Explore different options for rendering with marching cubes. "),rt()(),Qe(7,"div")(8,"form",2),qn("ngSubmit",function(r){return t.onSubmit(r)}),Qe(9,"mat-checkbox",3),qn("ngModelChange",function(r){return t.inputs.showGrid=r}),$n(10,"Show Cube Grid"),rt(),Qe(11,"mat-checkbox",4),qn("ngModelChange",function(r){return t.inputs.showVertices=r}),$n(12,"Show Generated Vertices"),rt(),Qe(13,"mat-form-field")(14,"mat-label"),$n(15,"Individual Size"),rt(),Qe(16,"input",5),qn("ngModelChange",function(r){return t.inputs.individualSize=r}),rt()(),Qe(17,"mat-form-field")(18,"mat-label"),$n(19,"Total Size"),rt(),Qe(20,"input",6),qn("ngModelChange",function(r){return t.inputs.totalSize=r}),rt()(),Qe(21,"mat-form-field")(22,"mat-label"),$n(23,"Isolevel"),rt(),Qe(24,"input",7),qn("ngModelChange",function(r){return t.inputs.isolevel=r}),rt()(),Qe(25,"mat-form-field")(26,"mat-label"),$n(27,"Formula"),rt(),Qe(28,"input",8),qn("ngModelChange",function(r){return t.inputs.formula=r}),rt()(),Qe(29,"button",9),$n(30,"Generate"),rt(),gn(31,"p",10),rt()()(),Qe(32,"mat-expansion-panel",1)(33,"mat-expansion-panel-header")(34,"mat-panel-title"),$n(35," Available Variables "),rt(),Qe(36,"mat-panel-description"),$n(37," Variables which you can use in the formula input "),rt()(),Qe(38,"div"),gn(39,"app-marching-cube-card",11)(40,"mat-divider",12)(41,"app-marching-cube-card",13)(42,"mat-divider",12)(43,"app-marching-cube-card",14),rt()()()),2&e&&(Nt(9),Ct("ngModel",t.inputs.showGrid),Nt(2),Ct("ngModel",t.inputs.showVertices),Nt(5),Ct("ngModel",t.inputs.individualSize)("placeholder","Cube Size: "+t.inputs.individualSize),Nt(4),Ct("ngModel",t.inputs.totalSize)("placeholder","Total Size:"+t.inputs.totalSize),Nt(4),Ct("ngModel",t.inputs.isolevel)("placeholder","Isolevel: "+t.inputs.isolevel),Nt(4),Ct("ngModel",t.inputs.formula)("placeholder","Formula: "+t.inputs.formula))},dependencies:[MFe,VO,nH,Eb,_D,VV,HV,MD,vD,fg,Zke,FH,kH,Yke,Xke,PH,KRe,$Re,TD,gg],styles:["form[_ngcontent-%COMP%] {\n        display: flex;\n        flex-flow: column nowrap;\n        gap: 16px;\n        justify-content: center;\n    }\n\n    .options-box[_ngcontent-%COMP%] {\n        display: inline-block;\n        max-width: 500px;\n    }\n\n    .card-divider[_ngcontent-%COMP%] {\n        margin: 16px 0;\n    }"]});const JRe=["canvas"];class _g{constructor(){this.threeCanvas=null}ngAfterViewInit(){this.canvas.nativeElement.width=document.body.clientWidth,this.canvas.nativeElement.height=document.body.clientHeight,this.threeCanvas=new mFe(this.canvas.nativeElement.width,this.canvas.nativeElement.height,this.canvas.nativeElement)}onResize(){this.canvas.nativeElement.width=document.body.clientWidth,this.canvas.nativeElement.height=document.body.clientHeight,this.threeCanvas?.resize(this.canvas.nativeElement.width,this.canvas.nativeElement.height)}}_g.\u0275fac=function(e){return new(e||_g)},_g.\u0275cmp=mi({type:_g,selectors:[["app-marching-three-canvas"]],viewQuery:function(e,t){if(1&e&&Hr(JRe,5),2&e){let i;Jn(i=ei())&&(t.canvas=i.first)}},decls:4,vars:1,consts:[["id","demo-section"],[1,"options-box",3,"threeCanvas"],["id","canvas-container",3,"resize"],["canvas",""]],template:function(e,t){1&e&&(Qe(0,"section",0),gn(1,"app-marching-cube-options",1),Qe(2,"canvas",2,3),qn("resize",function(){return t.onResize()},0,E2),rt()()),2&e&&(Nt(1),Ct("threeCanvas",t.threeCanvas))},dependencies:[vg],styles:["#demo-section[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:center;align-items:center;flex-flow:row nowrap;overflow:hidden}","section[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n        position: relative;\n    }\n\n    .options-box[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n    }"]});class yg{}yg.\u0275fac=function(e){return new(e||yg)},yg.\u0275cmp=mi({type:yg,selectors:[["app-marching-cube-page"]],decls:2,vars:0,template:function(e,t){1&e&&gn(0,"app-marching-cube-intro")(1,"app-marching-three-canvas")},dependencies:[fp,_g]});const eOe=[{path:"marching-cubes",component:yg,title:"A Quick Note: Marching Cubes"},{path:"",component:hp,title:"Hello, World!"}];class kf{}kf.\u0275fac=function(e){return new(e||kf)},kf.\u0275mod=Cn({type:kf}),kf.\u0275inj=bn({imports:[cO.forRoot(eOe,{scrollPositionRestoration:"enabled"}),cO]});class bg{constructor(){this.title="Hello, World!"}}function JH(n){return new Re(3e3,!1)}function OOe(){return typeof window<"u"&&typeof window.document<"u"}function ND(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fc(n){switch(n.length){case 0:return new pg;case 1:return n[0];default:return new DH(n)}}function e9(n,e,t,i,r=new Map,a=new Map){const o=[],s=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((m,p)=>{let g=p,_=m;if("offset"!==p)switch(g=e.normalizePropertyName(g,o),_){case"!":_=r.get(p);break;case Ul:_=a.get(p);break;default:_=e.normalizeStyleValue(p,g,_,o)}f.set(g,_)}),h||s.push(f),c=f,l=d}),o.length)throw function MOe(n){return new Re(3502,!1)}();return s}function ID(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&FD(t,"start",n)));break;case"done":n.onDone(()=>i(t&&FD(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&FD(t,"destroy",n)))}}function FD(n,e,t){const a=kD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(a._data=o),a}function kD(n,e,t,i,r="",a=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function uo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function t9(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}bg.\u0275fac=function(e){return new(e||bg)},bg.\u0275cmp=mi({type:bg,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(Qe(0,"main"),gn(1,"router-outlet"),rt())},dependencies:[kM],styles:["main[_ngcontent-%COMP%] {\n    max-width: 1500px;\n    margin: auto;\n  }"]});let RD=(n,e)=>!1,n9=(n,e,t)=>[],i9=null;function OD(n){const e=n.parentNode||n.host;return e===i9?null:e}(ND()||typeof Element<"u")&&(OOe()?(i9=(()=>document.documentElement)(),RD=(n,e)=>{for(;e;){if(e===n)return!0;e=OD(e)}return!1}):RD=(n,e)=>n.contains(e),n9=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ju=null,r9=!1;const a9=RD,o9=n9;let s9=(()=>{class n{validateStyleProperty(t){return function LOe(n){ju||(ju=function BOe(){return typeof document<"u"?document.body:null}()||{},r9=!!ju.style&&"WebkitAppearance"in ju.style);let e=!0;return ju.style&&!function POe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ju.style,!e&&r9&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ju.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return a9(t,i)}getParentElement(t){return OD(t)}query(t,i,r){return o9(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,o,s=[],l){return new pg(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),PD=(()=>{class n{}return n.NOOP=new s9,n})();const LD="ng-enter",zb="ng-leave",Ub="ng-trigger",Vb=".ng-trigger",c9="ng-animating",BD=".ng-animating";function Vl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zD(parseFloat(e[1]),e[2])}function zD(n,e){return"s"===e?1e3*n:n}function Hb(n,e,t){return n.hasOwnProperty("duration")?n:function VOe(n,e,t){let r,a=0,o="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push(JH()),{duration:0,delay:0,easing:""};r=zD(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(a=zD(parseFloat(l),s[4]));const c=s[5];c&&(o=c)}else r=n;if(!t){let s=!1,l=e.length;r<0&&(e.push(function tOe(){return new Re(3100,!1)}()),s=!0),a<0&&(e.push(function nOe(){return new Re(3101,!1)}()),s=!0),s&&e.splice(l,0,JH())}return{duration:r,delay:a,easing:o}}(n,e,t)}function xg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function u9(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function kc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function h9(n,e,t){return t?e+":"+t+";":""}function f9(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=h9(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=h9(0,WOe(t),n.style[t]));n.setAttribute("style",e)}function Vs(n,e,t){n.style&&(e.forEach((i,r)=>{const a=VD(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),ND()&&f9(n))}function Xu(n,e){n.style&&(e.forEach((t,i)=>{const r=VD(i);n.style[r]=""}),ND()&&f9(n))}function wg(n){return Array.isArray(n)?1==n.length?n[0]:CH(n):n}const UD=new RegExp("{{\\s*(.+?)\\s*}}","g");function m9(n){let e=[];if("string"==typeof n){let t;for(;t=UD.exec(n);)e.push(t[1]);UD.lastIndex=0}return e}function Mg(n,e,t){const i=n.toString(),r=i.replace(UD,(a,o)=>{let s=e[o];return null==s&&(t.push(function rOe(n){return new Re(3003,!1)}()),s=""),s.toString()});return r==i?n:r}function Gb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qOe=/-+([a-z0-9])/g;function VD(n){return n.replace(qOe,(...e)=>e[1].toUpperCase())}function WOe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function aOe(n){return new Re(3004,!1)}()}}function p9(n,e){return window.getComputedStyle(n)[e]}function KOe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function QOe(n,e,t){if(":"==n[0]){const l=function JOe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function yOe(n){return new Re(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function _Oe(n){return new Re(3015,!1)}()),e;const r=i[1],a=i[2],o=i[3];e.push(g9(r,o));"<"==a[0]&&!("*"==r&&"*"==o)&&e.push(g9(o,r))}(i,t,e)):t.push(n),t}const jb=new Set(["true","1"]),Xb=new Set(["false","0"]);function g9(n,e){const t=jb.has(n)||Xb.has(n),i=jb.has(e)||Xb.has(e);return(r,a)=>{let o="*"==n||n==r,s="*"==e||e==a;return!o&&t&&"boolean"==typeof r&&(o=r?jb.has(n):Xb.has(n)),!s&&i&&"boolean"==typeof a&&(s=a?jb.has(e):Xb.has(e)),o&&s}}const ePe=new RegExp("s*:selfs*,?","g");function HD(n,e,t,i){return new tPe(n).build(e,t,i)}class tPe{constructor(e){this._driver=e}build(e,t,i){const r=new rPe(t);return this._resetContextStyleTimingState(r),ho(this,wg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function sOe(){return new Re(3006,!1)}()),e.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,a.push(this.visitState(l,t))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function lOe(){return new Re(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,o=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{m9(l).forEach(c=>{o.hasOwnProperty(c)||a.add(c)})})}),a.size&&(Gb(a.values()),t.errors.push(function cOe(n,e){return new Re(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ho(this,wg(e.animation),t);return{type:1,matchers:KOe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Yu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ho(this,i,t)),options:Yu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(o=>{t.currentTime=i;const s=ho(this,o,t);return r=Math.max(r,t.currentTime),s});return t.currentTime=r,{type:3,steps:a,options:Yu(e.options)}}visitAnimate(e,t){const i=function oPe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GD(Hb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=GD(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Hb(t,e);return GD(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:co({});if(5==a.type)r=this.visitKeyframes(a,t);else{let o=e.styles,s=!1;if(!o){s=!0;const c={};i.easing&&(c.easing=i.easing),o=co(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=s,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let s of r)"string"==typeof s?s===Ul?i.push(s):t.errors.push(new Re(3002,!1)):i.push(u9(s));let a=!1,o=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!a))for(let l of s.values())if(l.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(a!=r&&a>=u.startTime&&r<=u.endTime&&(t.errors.push(function dOe(n,e,t,i,r){return new Re(3010,!1)}()),d=!1),a=u.startTime),d&&c.set(l,{startTime:a,endTime:r}),t.options&&function GOe(n,e,t){const i=e.params||{},r=m9(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function iOe(n){return new Re(3001,!1)}())})}(s,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hOe(){return new Re(3011,!1)}()),i;let a=0;const o=[];let s=!1,l=!1,c=0;const u=e.steps.map(_=>{const w=this._makeStyleAst(_,t);let v=null!=w.offset?w.offset:function aPe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),y=0;return null!=v&&(a++,y=w.offset=v),l=l||y<0||y>1,s=s||y<c,c=y,o.push(y),w});l&&t.errors.push(function fOe(){return new Re(3012,!1)}()),s&&t.errors.push(function mOe(){return new Re(3200,!1)}());const d=e.steps.length;let h=0;a>0&&a<d?t.errors.push(function pOe(){return new Re(3202,!1)}()):0==a&&(h=1/(d-1));const f=d-1,m=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return u.forEach((_,w)=>{const v=h>0?w==f?1:h*w:o[w],y=v*g;t.currentTime=m+p.delay+y,p.duration=y,this._validateStyleAst(_,t),_.offset=v,i.styles.push(_)}),i}visitReference(e,t){return{type:8,animation:ho(this,wg(e.animation),t),options:Yu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,o]=function nPe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ePe,"")),n=n.replace(/@\*/g,Vb).replace(/@\w+/g,t=>Vb+"-"+t.slice(1)).replace(/:animating/g,BD),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,uo(t.collectedStyles,t.currentQuerySelector,new Map);const s=ho(this,wg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:Yu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gOe(){return new Re(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hb(e.timings,t.errors,!0);return{type:12,animation:ho(this,wg(e.animation),t),timings:i,options:null}}}class rPe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yu(n){return n?(n=xg(n)).params&&(n.params=function iPe(n){return n?xg(n):null}(n.params)):n={},n}function GD(n,e,t){return{duration:n,delay:e,easing:t}}function qD(n,e,t,i,r,a,o=null,s=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}class Yb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cPe=new RegExp(":enter","g"),dPe=new RegExp(":leave","g");function WD(n,e,t,i,r,a=new Map,o=new Map,s,l,c=[]){return(new hPe).buildKeyframes(n,e,t,i,r,a,o,s,l,c)}class hPe{buildKeyframes(e,t,i,r,a,o,s,l,c,u=[]){c=c||new Yb;const d=new $D(e,t,c,r,a,u,[]);d.options=l;const h=l.delay?Vl(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ho(this,i,d);const f=d.timelines.filter(m=>m.containsAnimation());if(f.length&&s.size){let m;for(let p=f.length-1;p>=0;p--){const g=f[p];if(g.element===t){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([s],null,d.errors,l)}return f.length?f.map(m=>m.buildKeyframes()):[qD(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);a!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const o="number"==typeof a?a:Vl(Mg(a,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const o=null!=i.duration?Vl(i.duration):null,s=null!=i.delay?Vl(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,s);a=Math.max(a,c.duration+c.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zb);const o=Vl(a.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ho(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Vl(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);a&&s.delayNextStep(a),ho(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Hb(t.params?Mg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(l=>{s.forwardTime((l.offset||0)*a),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Vl(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zb);let o=i;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);a&&d.delayNextStep(a),c===t.element&&(l=d.currentTimeline),ho(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,o=Math.abs(a.duration),s=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ho(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Zb={};class $D{constructor(e,t,i,r,a,o,s,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Kb(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Vl(i.duration)),null!=i.delay&&(r.delay=Vl(i.delay));const a=i.params;if(a){let o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach(s=>{(!t||!o.hasOwnProperty(s))&&(o[s]=Mg(a[s],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new $D(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Zb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new fPe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,o){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(cPe,"."+this._enterClassName)).replace(dPe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!a&&0==s.length&&o.push(function vOe(n){return new Re(3014,!1)}()),s}}class Kb{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Kb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ul),this._currentKeyframe.set(t,Ul);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},o=function mPe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ul)}else kc(r,t)}),t}(e,this._globalTimelineStyles);for(let[s,l]of o){const c=Mg(l,a,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Ul),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,l)=>{const c=kc(s,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Ul&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const a=e.size?Gb(e.values()):[],o=t.size?Gb(t.values()):[];if(i){const s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return qD(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}}class fPe extends Kb{constructor(e,t,i,r,a,o,s=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],o=i+t,s=t/o,l=kc(e[0]);l.set("offset",0),a.push(l);const c=kc(e[0]);c.set("offset",y9(s)),a.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=kc(e[d]);const f=h.get("offset");h.set("offset",y9((t+f*i)/o)),a.push(h)}i=o,t=0,r="",e=a}return qD(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function y9(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class jD{}const pPe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gPe extends jD{normalizePropertyName(e,t){return VD(e)}normalizeStyleValue(e,t,i,r){let a="";const o=i.toString().trim();if(pPe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function oOe(n,e){return new Re(3005,!1)}())}return o+a}}function b9(n,e,t,i,r,a,o,s,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const XD={};class x9{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function vPe(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,o,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||XD,m=this.buildStyles(i,s&&s.params||XD,d),p=l&&l.params||XD,g=this.buildStyles(r,p,d),_=new Set,w=new Map,v=new Map,y="void"===r,b={params:_Pe(p,h),delay:this.ast.options?.delay},x=u?[]:WD(e,t,this.ast.animation,a,o,m,g,b,c,d);let C=0;if(x.forEach(E=>{C=Math.max(E.duration+E.delay,C)}),d.length)return b9(t,this._triggerName,i,r,y,m,g,[],[],w,v,C,d);x.forEach(E=>{const S=E.element,T=uo(w,S,new Set);E.preStyleProps.forEach(k=>T.add(k));const N=uo(v,S,new Set);E.postStyleProps.forEach(k=>N.add(k)),S!==t&&_.add(S)});const M=Gb(_.values());return b9(t,this._triggerName,i,r,y,m,g,x,M,w,v,C)}}function _Pe(n,e){const t=xg(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class yPe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=xg(this.defaultParams);return Object.keys(e).forEach(a=>{const o=e[a];null!==o&&(r[a]=o)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,s)=>{o&&(o=Mg(o,r,t));const l=this.normalizer.normalizePropertyName(s,t);o=this.normalizer.normalizeStyleValue(s,l,o,t),i.set(s,o)})}),i}}class xPe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new yPe(r.style,r.options&&r.options.params||{},i))}),w9(this.states,"true","1"),w9(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new x9(e,r,this.states))}),this.fallbackTransition=function wPe(n,e,t){return new x9(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,s)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function w9(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const MPe=new Yb;class SPe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=HD(this._driver,t,i,[]);if(i.length)throw function SOe(n){return new Re(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=e9(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let o;const s=new Map;if(a?(o=WD(this._driver,t,a,LD,zb,new Map,new Map,i,MPe,r),o.forEach(u=>{const d=uo(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function COe(){return new Re(3300,!1)}()),o=[]),r.length)throw function EOe(n){return new Re(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Ul))})});const c=Fc(o.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function DOe(n){return new Re(3301,!1)}();return t}listen(e,t,i,r){const a=kD(t,"","","");return ID(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const M9="ng-animate-queued",YD="ng-animate-disabled",TPe=[],S9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NPe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class ZD{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function RPe(n){return n??null}(i?e.value:e),i){const a=xg(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Sg="void",KD=new ZD(Sg);class IPe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function AOe(n,e){return new Re(3302,!1)}();if(null==i||0==i.length)throw function TOe(n){return new Re(3303,!1)}();if(!function OPe(n){return"start"==n||"done"==n}(i))throw function NOe(n,e){return new Re(3400,!1)}();const a=uo(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};a.push(o);const s=uo(this._engine.statesByElement,e,new Map);return s.has(t)||(Vo(e,Ub),Vo(e,Ub+"-"+t),s.set(t,KD)),()=>{this._engine.afterFlush(()=>{const l=a.indexOf(o);l>=0&&a.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function IOe(n){return new Re(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),o=new QD(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(Vo(e,Ub),Vo(e,Ub+"-"+t),this._engine.statesByElement.set(e,s=new Map));let l=s.get(t);const c=new ZD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=KD),c.value!==Sg&&l.value===c.value){if(!function BPe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(l.params,c.params)){const p=[],g=a.matchStyles(l.value,l.params,p),_=a.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Xu(e,g),Vs(e,_)})}return}const h=uo(this._engine.playersByElement,e,[]);h.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let f=a.matchTransition(l.value,c.value,e,c.params),m=!1;if(!f){if(!r)return;f=a.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(Vo(e,M9),o.onStart(()=>{Rf(e,M9)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const g=this._engine.playersByElement.get(e);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Vb,!0);i.forEach(r=>{if(r[Uo])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),o=new Map;if(a){const s=[];if(a.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Sg,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Fc(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const o=a.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||KD,u=new ZD(Sg),d=new QD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Uo];(!a||a===S9)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Vo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,o=this._elementListeners.get(a);o&&o.forEach(s=>{if(s.name==i.triggerName){const l=kD(a,i.triggerName,i.fromState.value,i.toState.value);l._data=e,ID(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==a||0==o?a-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class FPe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new IPe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,s=this.driver.getParentElement(t);for(;s;){const l=r.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}s=this.driver.getParentElement(s)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(Qb(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Qb(t))return;const a=t[Uo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vo(e,YD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rf(e,YD))}removeNode(e,t,i,r){if(Qb(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Uo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return Qb(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Vb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,BD,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Uo];if(t&&t.setForRemoval){if(e[Uo]=S9,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(YD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Vo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Fc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function FOe(n){return new Re(3402,!1)}()}_flushAnimations(e,t){const i=new Yb,r=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(D=>{u.add(D);const A=this.driver.query(D,".ng-animate-queued",!0);for(let O=0;O<A.length;O++)u.add(A[O])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=D9(h,this.collectedEnterElements),m=new Map;let p=0;f.forEach((D,A)=>{const O=LD+p++;m.set(A,O),D.forEach(I=>Vo(I,O))});const g=[],_=new Set,w=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const A=this.collectedLeaveElements[D],O=A[Uo];O&&O.setForRemoval&&(g.push(A),_.add(A),O.hasAnimation?this.driver.query(A,".ng-star-inserted",!0).forEach(I=>_.add(I)):w.add(A))}const v=new Map,y=D9(h,Array.from(_));y.forEach((D,A)=>{const O=zb+p++;v.set(A,O),D.forEach(I=>Vo(I,O))}),e.push(()=>{f.forEach((D,A)=>{const O=m.get(A);D.forEach(I=>Rf(I,O))}),y.forEach((D,A)=>{const O=v.get(A);D.forEach(I=>Rf(I,O))}),g.forEach(D=>{this.processLeaveNode(D)})});const b=[],x=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(O=>{const I=O.player,L=O.element;if(b.push(I),this.collectedEnterElements.length){const me=L[Uo];if(me&&me.setForMove){if(me.previousTriggersValues&&me.previousTriggersValues.has(O.triggerName)){const ye=me.previousTriggersValues.get(O.triggerName),ge=this.statesByElement.get(O.element);if(ge&&ge.has(O.triggerName)){const re=ge.get(O.triggerName);re.value=ye,ge.set(O.triggerName,re)}}return void I.destroy()}}const q=!d||!this.driver.containsElement(d,L),G=v.get(L),z=m.get(L),$=this._buildInstruction(O,i,z,G,q);if($.errors&&$.errors.length)return void x.push($);if(q)return I.onStart(()=>Xu(L,$.fromStyles)),I.onDestroy(()=>Vs(L,$.toStyles)),void r.push(I);if(O.isFallbackTransition)return I.onStart(()=>Xu(L,$.fromStyles)),I.onDestroy(()=>Vs(L,$.toStyles)),void r.push(I);const ae=[];$.timelines.forEach(me=>{me.stretchStartingKeyframe=!0,this.disabledNodes.has(me.element)||ae.push(me)}),$.timelines=ae,i.append(L,$.timelines),o.push({instruction:$,player:I,element:L}),$.queriedElements.forEach(me=>uo(s,me,[]).push(I)),$.preStyleProps.forEach((me,ye)=>{if(me.size){let ge=l.get(ye);ge||l.set(ye,ge=new Set),me.forEach((re,Ie)=>ge.add(Ie))}}),$.postStyleProps.forEach((me,ye)=>{let ge=c.get(ye);ge||c.set(ye,ge=new Set),me.forEach((re,Ie)=>ge.add(Ie))})});if(x.length){const D=[];x.forEach(A=>{D.push(function kOe(n,e){return new Re(3505,!1)}())}),b.forEach(A=>A.destroy()),this.reportError(D)}const C=new Map,M=new Map;o.forEach(D=>{const A=D.element;i.has(A)&&(M.set(A,A),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,C))}),r.forEach(D=>{const A=D.element;this._getPreviousPlayers(A,!1,D.namespaceId,D.triggerName,null).forEach(I=>{uo(C,A,[]).push(I),I.destroy()})});const E=g.filter(D=>T9(D,l,c)),S=new Map;E9(S,this.driver,w,c,Ul).forEach(D=>{T9(D,l,c)&&E.push(D)});const N=new Map;f.forEach((D,A)=>{E9(N,this.driver,new Set(D),l,"!")}),E.forEach(D=>{const A=S.get(D),O=N.get(D);S.set(D,new Map([...Array.from(A?.entries()??[]),...Array.from(O?.entries()??[])]))});const k=[],R=[],B={};o.forEach(D=>{const{element:A,player:O,instruction:I}=D;if(i.has(A)){if(u.has(A))return O.onDestroy(()=>Vs(A,I.toStyles)),O.disabled=!0,O.overrideTotalTime(I.totalTime),void r.push(O);let L=B;if(M.size>1){let G=A;const z=[];for(;G=G.parentNode;){const $=M.get(G);if($){L=$;break}z.push(G)}z.forEach($=>M.set($,L))}const q=this._buildAnimation(O.namespaceId,I,C,a,N,S);if(O.setRealPlayer(q),L===B)k.push(O);else{const G=this.playersByElement.get(L);G&&G.length&&(O.parentPlayer=Fc(G)),r.push(O)}}else Xu(A,I.fromStyles),O.onDestroy(()=>Vs(A,I.toStyles)),R.push(O),u.has(A)&&r.push(O)}),R.forEach(D=>{const A=a.get(D.element);if(A&&A.length){const O=Fc(A);D.setRealPlayer(O)}}),r.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<g.length;D++){const A=g[D],O=A[Uo];if(Rf(A,zb),O&&O.hasAnimation)continue;let I=[];if(s.size){let q=s.get(A);q&&q.length&&I.push(...q);let G=this.driver.query(A,BD,!0);for(let z=0;z<G.length;z++){let $=s.get(G[z]);$&&$.length&&I.push(...$)}}const L=I.filter(q=>!q.destroyed);L.length?PPe(this,A,L):this.processLeaveNode(A)}return g.length=0,k.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();const A=this.players.indexOf(D);this.players.splice(A,1)}),D.play()}),k}elementContainsData(e,t){let i=!1;const r=t[Uo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let o=[];if(t){const s=this.playersByQueriedElement.get(e);s&&(o=s)}else{const s=this.playersByElement.get(e);if(s){const l=!a||a==Sg;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),o}_beforeAnimationBuild(e,t,i){const a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==a,d=uo(i,c,[]);this._getPreviousPlayers(c,u,o,s,t.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}Xu(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,o){const s=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(m=>{const p=m.element;u.add(p);const g=p[Uo];if(g&&g.removedBeforeQueried)return new pg(m.duration,m.delay);const _=p!==l,w=function LPe(n){const e=[];return A9(n,e),e}((i.get(p)||TPe).map(C=>C.getRealPlayer())).filter(C=>!!C.element&&C.element===p),v=a.get(p),y=o.get(p),b=e9(0,this._normalizer,0,m.keyframes,v,y),x=this._buildPlayer(m,b,w);if(m.subTimeline&&r&&d.add(p),_){const C=new QD(e,s,p);C.setRealPlayer(x),c.push(C)}return x});c.forEach(m=>{uo(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function kPe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Vo(m,c9));const f=Fc(h);return f.onDestroy(()=>{u.forEach(m=>Rf(m,c9)),Vs(l,t.toStyles)}),d.forEach(m=>{uo(r,m,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new pg(e.duration,e.delay)}}class QD{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new pg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>ID(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Qb(n){return n&&1===n.nodeType}function C9(n,e){const t=n.style.display;return n.style.display=e??"none",t}function E9(n,e,t,i,r){const a=[];t.forEach(l=>a.push(C9(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Uo]=NPe,o.push(c))}),n.set(c,u)});let s=0;return t.forEach(l=>C9(l,a[s++])),o}function D9(n,e){const t=new Map;if(n.forEach(s=>t.set(s,[])),0==e.length)return t;const r=new Set(e),a=new Map;function o(s){if(!s)return 1;let l=a.get(s);if(l)return l;const c=s.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),a.set(s,l),l}return e.forEach(s=>{const l=o(s);1!==l&&t.get(l).push(s)}),t}function Vo(n,e){n.classList?.add(e)}function Rf(n,e){n.classList?.remove(e)}function PPe(n,e,t){Fc(t).onDone(()=>n.processLeaveNode(e))}function A9(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof DH?A9(i.players,e):e.push(i)}}function T9(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Jb{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new FPe(e,t,i),this._timelineEngine=new SPe(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const o=e+"-"+r;let s=this._triggerCache[o];if(!s){const l=[],u=HD(this._driver,a,l,[]);if(l.length)throw function wOe(n,e){return new Re(3404,!1)}();s=function bPe(n,e,t){return new xPe(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,o]=t9(i);this._timelineEngine.command(a,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[o,s]=t9(i);return this._timelineEngine.listen(o,t,s,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UPe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vs(this._element,this._initialStyles),this._endStyles&&(Vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xu(this._element,this._endStyles),this._endStyles=null),Vs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JD(n){let e=null;return n.forEach((t,i)=>{(function VPe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class N9{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:p9(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class HPe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return a9(e,t)}getParentElement(e){return OD(e)}query(e,t,i){return o9(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(l.easing=a);const c=new Map,u=o.filter(f=>f instanceof N9);(function $Oe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((m,p)=>c.set(p,m))});let d=function HOe(n){return n.length?n[0]instanceof Map?n:n.map(e=>u9(e)):[]}(t).map(f=>kc(f));d=function jOe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,o)=>{i.has(o)||r.push(o),i.set(o,a)}),r.length)for(let a=1;a<e.length;a++){let o=e[a];r.forEach(s=>o.set(s,p9(n,s)))}}return e}(e,d,c);const h=function zPe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=JD(e[0]),e.length>1&&(i=JD(e[e.length-1]))):e instanceof Map&&(t=JD(e)),t||i?new UPe(n,t,i):null}(e,d);return new N9(e,d,l,h)}}let GPe=(()=>{class n extends SH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:qo.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?CH(t):t;return I9(this._renderer,null,i,"register",[r]),new qPe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Oe(um),Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class qPe extends Pke{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new WPe(this._id,e,t||{},this._renderer)}}class WPe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I9(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I9(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const F9="@.disabled";let $Pe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,o)=>{const s=o?.parentNode(a);s&&o.removeChild(s,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(a);return u||(u=new k9("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,u)),u}const o=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,s,t,u.name,u)};return i.data.animation.forEach(l),new jPe(this,s,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[o,s]=a;o(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Oe(um),Oe(Jb),Oe(Xt))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class k9{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==F9?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jPe extends k9{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==F9?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function XPe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),o="";return"@"!=a.charAt(0)&&([a,o]=function YPe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,o,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(e,t,i)}}const R9=[{provide:SH,useClass:GPe},{provide:jD,useFactory:function KPe(){return new gPe}},{provide:Jb,useClass:(()=>{class n extends Jb{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Oe(En),Oe(PD),Oe(jD),Oe(qd))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})()},{provide:um,useFactory:function QPe(n,e,t){return new $Pe(n,e,t)},deps:[g0,Jb,Xt]}],eA=[{provide:PD,useFactory:()=>new HPe},{provide:wo,useValue:"BrowserAnimations"},...R9],O9=[{provide:PD,useClass:s9},{provide:wo,useValue:"NoopAnimations"},...R9];let JPe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?O9:eA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({providers:eA,imports:[$k]}),n})(),L9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})(),u3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[L9,wi,ip,Jc,L9,wi]}),n})(),f3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[OO,wi,OO,wi]}),n})();const m3e=["addListener","removeListener"],p3e=["addEventListener","removeEventListener"],g3e=["on","off"];function tx(n,e,t,i){if(ht(t)&&(i=t,t=void 0),i)return tx(n,e,t).pipe(gM(i));const[r,a]=function y3e(n){return ht(n.addEventListener)&&ht(n.removeEventListener)}(n)?p3e.map(o=>s=>n[o](e,s,t)):function v3e(n){return ht(n.addListener)&&ht(n.removeListener)}(n)?m3e.map(z9(n,e)):function _3e(n){return ht(n.on)&&ht(n.off)}(n)?g3e.map(z9(n,e)):[];if(!r&&Ye(n))return Gi(o=>tx(o,e,t))(ii(n));if(!r)throw new TypeError("Invalid event target");return new Tn(o=>{const s=(...l)=>o.next(1<l.length?l:l[0]);return r(s),()=>a(s)})}function z9(n,e){return t=>i=>n[t](e,i)}const Cg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Cg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new ut(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Cg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Cg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},w3e=new class x3e extends QM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class b3e extends KM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Cg.cancelAnimationFrame(t),e._scheduled=void 0)}});let tA,M3e=1;const nx={};function U9(n){return n in nx&&(delete nx[n],!0)}const S3e={setImmediate(n){const e=M3e++;return nx[e]=!0,tA||(tA=Promise.resolve()),tA.then(()=>U9(e)&&n()),e},clearImmediate(n){U9(n)}},{setImmediate:C3e,clearImmediate:E3e}=S3e,ix={setImmediate(...n){const{delegate:e}=ix;return(e?.setImmediate||C3e)(...n)},clearImmediate(n){const{delegate:e}=ix;return(e?.clearImmediate||E3e)(n)},delegate:void 0},T3e=new class A3e extends QM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class D3e extends KM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ix.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(ix.clearImmediate(t),e._scheduled=void 0)}});function nA(n,e=JM){return function N3e(n){return Li((e,t)=>{let i=!1,r=null,a=null,o=!1;const s=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{a=null,o&&t.complete()};e.subscribe(Ei(t,c=>{i=!0,r=c,a||ii(n(c)).subscribe(a=Ei(t,s,l))},()=>{o=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function F3e(n=0,e,t=Kte){let i=-1;return null!=e&&(Og(e)?t=e:i=e),new Tn(r=>{let a=function I3e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}const k3e=["contentWrapper"],R3e=["*"],O3e=new je("VIRTUAL_SCROLL_STRATEGY");let rx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new fn,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Tn(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(nA(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):It()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(sa(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=fl(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Xt),Oe(qr),Oe(En,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V9=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new fn,this._elementScrolled=new Tn(o=>this.ngZone.runOutsideAngular(()=>tx(this.elementRef.nativeElement,"scroll").pipe(Ds(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Km()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Km()?t.left=t.right:1==Km()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;fO()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Km()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&1==Km()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(rx),ve(Xt),ve(Jm,8))},n.\u0275dir=at({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),iA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new fn,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(nA(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Oe(qr),Oe(Xt),Oe(En,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H9=new je("VIRTUAL_SCROLLABLE");let B3e=(()=>{class n extends V9{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(rx),ve(Xt),ve(Jm,8))},n.\u0275dir=at({type:n,features:[qt]}),n})();const U3e=typeof requestAnimationFrame<"u"?w3e:T3e;let V3e=(()=>{class n extends B3e{constructor(t,i,r,a,o,s,l,c){super(t,s,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=c,this._platform=mn(qr),this._detachedSubject=new fn,this._renderedRangeSubject=new fn,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Tn(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ut.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=pi(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Rm(null),nA(0,U3e)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ds(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function z3e(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,o=a?"X":"Y";let l=`translate${o}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",o="rtl"==this.dir?.value;i="start"==t?o?a:r:"end"==t?o?r:a:t||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-s}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(ve(Bn),ve(Mo),ve(Xt),ve(O3e,8),ve(Jm,8),ve(rx),ve(iA),ve(H9,8))},n.\u0275cmp=mi({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&Hr(k3e,7),2&t){let r;Jn(r=ei())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&Wn("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[In([{provide:V9,useFactory:(e,t)=>e||t,deps:[[new Qs,new dv(H9)],n]}]),qt,vw],ngContentSelectors:R3e,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(_a(),Qe(0,"div",0,1),Nn(2),rt(),gn(3,"div",2)),2&t&&(Nt(3),xo("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[ep,rA,V3e,ep,rA]}),n})();const q9=fO();class H3e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hr(-this._previousScrollPosition.left),e.style.top=hr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),q9&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),q9&&(i.scrollBehavior=a,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class G3e{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class W9{enable(){}disable(){}attach(){}}function aA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function $9(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class q3e{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();aA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let W3e=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new W9,this.close=o=>new G3e(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new H3e(this._viewportRuler,this._document),this.reposition=o=>new q3e(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(Oe(rx),Oe(iA),Oe(Xt),Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $3e{constructor(e){if(this.scrollStrategy=new W9,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class j3e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let j9=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(Oe(En))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X3e=(()=>{class n extends j9{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let o=a.length-1;o>-1;o--)if(a[o]._keydownEvents.observers.length>0){const s=a[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(Oe(En),Oe(Xt,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y3e=(()=>{class n extends j9{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ic(a)},this._clickListener=a=>{const o=ic(a),s="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(a)):d.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(Oe(En),Oe(qr),Oe(Xt,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X9=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),YM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(Oe(En),Oe(qr))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Z3e{constructor(e,t,i,r,a,o,s,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new fn,this._attachments=new fn,this._detachments=new fn,this._locationChanges=ut.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new fn,this._outsidePointerEvents=new fn,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(cl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hr(this._config.width),e.height=hr(this._config.height),e.minWidth=hr(this._config.minWidth),e.minHeight=hr(this._config.minHeight),e.maxWidth=hr(this._config.maxWidth),e.maxHeight=hr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=z0(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ds(Oc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Y9="cdk-overlay-connected-position-bounding-box",K3e=/([A-Za-z%]+)$/;class Q3e{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fn,this._resizeSubscription=ut.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Y9),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let o;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,r,s),c=this._getOverlayPoint(l,t,s),u=this._getOverlayFit(c,t,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?a.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:t})}if(a.length){let s=null,l=-1;for(const c of a){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ku(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Y9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;r="start"==i.originX?o:s}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=K9(t);let{x:o,y:s}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(s+=c);let h=0-s,f=s+a.height-i.height,m=this._subtractOverflows(a.width,0-o,o+a.width-i.width),p=this._subtractOverflows(a.height,h,f),g=m*p;return{visibleArea:g,isCompletelyWithinViewport:a.width*a.height===g,fitsInViewportVertically:p===a.height,fitsInViewportHorizontally:m==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,o=Z9(this._overlayRef.getConfig().minHeight),s=Z9(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=s&&s<=a;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=K9(t),a=this._viewportRect,o=Math.max(e.x+r.width-a.width,0),s=Math.max(e.y+r.height-a.height,0),l=Math.max(a.top-i.top-e.y,0),c=Math.max(a.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=a.width?c||-o:e.x<this._viewportMargin?a.left-i.left-e.x:0,d=r.height<=a.height?l||-s:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new j3e(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,o,s,u,d,h;if("top"===t.overlayY)o=e.y,a=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)s=i.height-e.y+2*this._viewportMargin,a=i.height-s+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),m=this._lastBoundingBoxSize.height;a=2*f,o=e.y-f,a>m&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-m/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),m=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-m/2)}return{top:o,left:d,bottom:s,right:h,width:u,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=hr(i.height),r.top=hr(i.top),r.bottom=hr(i.bottom),r.width=hr(i.width),r.left=hr(i.left),r.right=hr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=hr(a)),o&&(r.maxWidth=hr(o))}this._lastBoundingBoxSize=i,Ku(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ku(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ku(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ku(i,this._getExactOverlayY(t,e,u)),Ku(i,this._getExactOverlayX(t,e,u))}else i.position="static";let s="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),o.maxHeight&&(r?i.maxHeight=hr(o.maxHeight):a&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=hr(o.maxWidth):a&&(i.maxWidth="")),Ku(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=hr(a.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=hr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$9(e,i),isOriginOutsideView:aA(e,i),isOverlayClipped:$9(t,i),isOverlayOutsideView:aA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&z0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ku(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Z9(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(K3e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function K9(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Q9="cdk-global-overlay-wrapper";class J3e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Q9),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:o,maxHeight:s}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==a&&"100vh"!==a||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",m="",p="";l?p="flex-start":"center"===u?(p="center",h?m=d:f=d):h?"left"===u||"end"===u?(p="flex-end",f=d):("right"===u||"start"===u)&&(p="flex-start",m=d):"left"===u||"start"===u?(p="flex-start",f=d):("right"===u||"end"===u)&&(p="flex-end",m=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":m,t.justifyContent=p,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Q9),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eLe=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new J3e}flexibleConnectedTo(t){return new Q3e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(Oe(iA),Oe(En),Oe(qr),Oe(X9))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tLe=0,oA=(()=>{class n{constructor(t,i,r,a,o,s,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),o=new $3e(t);return o.direction=o.direction||this._directionality.value,new Z3e(a,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+tLe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(qd)),new Rke(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(Oe(W3e),Oe(X9),Oe(Wc),Oe(eLe),Oe(X3e),Oe(Pa),Oe(Xt),Oe(En),Oe(Jm),Oe(Jv),Oe(Y3e),Oe(wo,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rLe={provide:new je("cdk-connected-overlay-scroll-strategy"),deps:[oA],useFactory:function iLe(n){return()=>n.scrollStrategies.reposition()}};let aLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({providers:[oA,rLe],imports:[ep,MH,G9,G9]}),n})();const cLe={provide:new je("mat-menu-scroll-strategy"),deps:[oA],useFactory:function lLe(n){return()=>n.scrollStrategies.reposition()}};let uLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({providers:[cLe],imports:[Jc,ip,wi,aLe,rA,wi]}),n})(),RLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=bn({imports:[VH,Jc,wi,ip,Nne,HO]}),n})();class Of{}Of.\u0275fac=function(e){return new(e||Of)},Of.\u0275mod=Cn({type:Of,bootstrap:[bg]}),Of.\u0275inj=bn({imports:[$k,kf,JPe,u3e,f3e,Wne,uLe,Fie,CFe,Jte,HO,RLe,Cke,Kke,cRe,QRe]}),zQ().bootstrapModule(Of).catch(n=>console.error(n))},6:function(Qt,$t){var ht;!function(ni){"use strict";var ft=Math.cosh||function(H){return Math.abs(H)<1e-9?1-H:.5*(Math.exp(H)+Math.exp(-H))},Be=Math.sinh||function(H){return Math.abs(H)<1e-9?H:.5*(Math.exp(H)-Math.exp(-H))},Rt=function(){throw SyntaxError("Invalid Param")};function tt(H,j){var Q=Math.abs(H),se=Math.abs(j);return 0===H?Math.log(se):0===j?Math.log(Q):Q<3e3&&se<3e3?.5*Math.log(H*H+j*j):(H/=2,j/=2,.5*Math.log(H*H+j*j)+Math.LN2)}function ce(H,j){if(!(this instanceof ce))return new ce(H,j);var Q=function(H,j){var Q={re:0,im:0};if(null==H)Q.re=Q.im=0;else if(void 0!==j)Q.re=H,Q.im=j;else switch(typeof H){case"object":if("im"in H&&"re"in H)Q.re=H.re,Q.im=H.im;else if("abs"in H&&"arg"in H){if(!Number.isFinite(H.abs)&&Number.isFinite(H.arg))return ce.INFINITY;Q.re=H.abs*Math.cos(H.arg),Q.im=H.abs*Math.sin(H.arg)}else if("r"in H&&"phi"in H){if(!Number.isFinite(H.r)&&Number.isFinite(H.phi))return ce.INFINITY;Q.re=H.r*Math.cos(H.phi),Q.im=H.r*Math.sin(H.phi)}else 2===H.length?(Q.re=H[0],Q.im=H[1]):Rt();break;case"string":Q.im=Q.re=0;var se=H.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),de=1,Ce=0;null===se&&Rt();for(var ke=0;ke<se.length;ke++){var st=se[ke];" "===st||"\t"===st||"\n"===st||("+"===st?de++:"-"===st?Ce++:"i"===st||"I"===st?(de+Ce===0&&Rt()," "===se[ke+1]||isNaN(se[ke+1])?Q.im+=parseFloat((Ce%2?"-":"")+"1"):(Q.im+=parseFloat((Ce%2?"-":"")+se[ke+1]),ke++),de=Ce=0):((de+Ce===0||isNaN(st))&&Rt(),"i"===se[ke+1]||"I"===se[ke+1]?(Q.im+=parseFloat((Ce%2?"-":"")+st),ke++):Q.re+=parseFloat((Ce%2?"-":"")+st),de=Ce=0))}de+Ce>0&&Rt();break;case"number":Q.im=0,Q.re=H;break;default:Rt()}return isNaN(Q.re)||isNaN(Q.im),Q}(H,j);this.re=Q.re,this.im=Q.im}ce.prototype={re:0,im:0,sign:function(){var H=this.abs();return new ce(this.re/H,this.im/H)},add:function(H,j){var Q=new ce(H,j);return this.isInfinite()&&Q.isInfinite()?ce.NAN:this.isInfinite()||Q.isInfinite()?ce.INFINITY:new ce(this.re+Q.re,this.im+Q.im)},sub:function(H,j){var Q=new ce(H,j);return this.isInfinite()&&Q.isInfinite()?ce.NAN:this.isInfinite()||Q.isInfinite()?ce.INFINITY:new ce(this.re-Q.re,this.im-Q.im)},mul:function(H,j){var Q=new ce(H,j);return this.isInfinite()&&Q.isZero()||this.isZero()&&Q.isInfinite()?ce.NAN:this.isInfinite()||Q.isInfinite()?ce.INFINITY:0===Q.im&&0===this.im?new ce(this.re*Q.re,0):new ce(this.re*Q.re-this.im*Q.im,this.re*Q.im+this.im*Q.re)},div:function(H,j){var Q=new ce(H,j);if(this.isZero()&&Q.isZero()||this.isInfinite()&&Q.isInfinite())return ce.NAN;if(this.isInfinite()||Q.isZero())return ce.INFINITY;if(this.isZero()||Q.isInfinite())return ce.ZERO;H=this.re,j=this.im;var Ce,ke,se=Q.re,de=Q.im;return 0===de?new ce(H/se,j/se):Math.abs(se)<Math.abs(de)?new ce((H*(ke=se/de)+j)/(Ce=se*ke+de),(j*ke-H)/Ce):new ce((H+j*(ke=de/se))/(Ce=de*ke+se),(j-H*ke)/Ce)},pow:function(H,j){var Q=new ce(H,j);if(H=this.re,j=this.im,Q.isZero())return ce.ONE;if(0===Q.im){if(0===j&&H>0)return new ce(Math.pow(H,Q.re),0);if(0===H)switch((Q.re%4+4)%4){case 0:return new ce(Math.pow(j,Q.re),0);case 1:return new ce(0,Math.pow(j,Q.re));case 2:return new ce(-Math.pow(j,Q.re),0);case 3:return new ce(0,-Math.pow(j,Q.re))}}if(0===H&&0===j&&Q.re>0&&Q.im>=0)return ce.ZERO;var se=Math.atan2(j,H),de=tt(H,j);return H=Math.exp(Q.re*de-Q.im*se),j=Q.im*de+Q.re*se,new ce(H*Math.cos(j),H*Math.sin(j))},sqrt:function(){var se,de,H=this.re,j=this.im,Q=this.abs();if(H>=0){if(0===j)return new ce(Math.sqrt(H),0);se=.5*Math.sqrt(2*(Q+H))}else se=Math.abs(j)/Math.sqrt(2*(Q-H));return de=H<=0?.5*Math.sqrt(2*(Q-H)):Math.abs(j)/Math.sqrt(2*(Q+H)),new ce(se,j<0?-de:de)},exp:function(){var H=Math.exp(this.re);return new ce(H*Math.cos(this.im),H*Math.sin(this.im))},expm1:function(){var H=this.re,j=this.im;return new ce(Math.expm1(H)*Math.cos(j)+function(H){var j=Math.PI/4;if(-j>H||H>j)return Math.cos(H)-1;var Q=H*H;return Q*(Q*(Q*(Q*(Q*(Q*(Q*(Q/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(j),Math.exp(H)*Math.sin(j))},log:function(){var H=this.re,j=this.im;return new ce(tt(H,j),Math.atan2(j,H))},abs:function(){return H=this.re,j=this.im,Q=Math.abs(H),se=Math.abs(j),Q<3e3&&se<3e3?Math.sqrt(Q*Q+se*se):(Q<se?(Q=se,se=H/j):se=j/H,Q*Math.sqrt(1+se*se));var H,j,Q,se},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var H=this.re,j=this.im;return new ce(Math.sin(H)*ft(j),Math.cos(H)*Be(j))},cos:function(){var H=this.re,j=this.im;return new ce(Math.cos(H)*ft(j),-Math.sin(H)*Be(j))},tan:function(){var H=2*this.re,j=2*this.im,Q=Math.cos(H)+ft(j);return new ce(Math.sin(H)/Q,Be(j)/Q)},cot:function(){var H=2*this.re,j=2*this.im,Q=Math.cos(H)-ft(j);return new ce(-Math.sin(H)/Q,Be(j)/Q)},sec:function(){var H=this.re,j=this.im,Q=.5*ft(2*j)+.5*Math.cos(2*H);return new ce(Math.cos(H)*ft(j)/Q,Math.sin(H)*Be(j)/Q)},csc:function(){var H=this.re,j=this.im,Q=.5*ft(2*j)-.5*Math.cos(2*H);return new ce(Math.sin(H)*ft(j)/Q,-Math.cos(H)*Be(j)/Q)},asin:function(){var H=this.re,j=this.im,Q=new ce(j*j-H*H+1,-2*H*j).sqrt(),se=new ce(Q.re-j,Q.im+H).log();return new ce(se.im,-se.re)},acos:function(){var H=this.re,j=this.im,Q=new ce(j*j-H*H+1,-2*H*j).sqrt(),se=new ce(Q.re-j,Q.im+H).log();return new ce(Math.PI/2-se.im,se.re)},atan:function(){var H=this.re,j=this.im;if(0===H){if(1===j)return new ce(0,1/0);if(-1===j)return new ce(0,-1/0)}var Q=H*H+(1-j)*(1-j),se=new ce((1-j*j-H*H)/Q,-2*H/Q).log();return new ce(-.5*se.im,.5*se.re)},acot:function(){var H=this.re,j=this.im;if(0===j)return new ce(Math.atan2(1,H),0);var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).atan():new ce(0!==H?H/0:0,0!==j?-j/0:0).atan()},asec:function(){var H=this.re,j=this.im;if(0===H&&0===j)return new ce(0,1/0);var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).acos():new ce(0!==H?H/0:0,0!==j?-j/0:0).acos()},acsc:function(){var H=this.re,j=this.im;if(0===H&&0===j)return new ce(Math.PI/2,1/0);var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).asin():new ce(0!==H?H/0:0,0!==j?-j/0:0).asin()},sinh:function(){var H=this.re,j=this.im;return new ce(Be(H)*Math.cos(j),ft(H)*Math.sin(j))},cosh:function(){var H=this.re,j=this.im;return new ce(ft(H)*Math.cos(j),Be(H)*Math.sin(j))},tanh:function(){var H=2*this.re,j=2*this.im,Q=ft(H)+Math.cos(j);return new ce(Be(H)/Q,Math.sin(j)/Q)},coth:function(){var H=2*this.re,j=2*this.im,Q=ft(H)-Math.cos(j);return new ce(Be(H)/Q,-Math.sin(j)/Q)},csch:function(){var H=this.re,j=this.im,Q=Math.cos(2*j)-ft(2*H);return new ce(-2*Be(H)*Math.cos(j)/Q,2*ft(H)*Math.sin(j)/Q)},sech:function(){var H=this.re,j=this.im,Q=Math.cos(2*j)+ft(2*H);return new ce(2*ft(H)*Math.cos(j)/Q,-2*Be(H)*Math.sin(j)/Q)},asinh:function(){var H=this.im;this.im=-this.re,this.re=H;var j=this.asin();return this.re=-this.im,this.im=H,H=j.re,j.re=-j.im,j.im=H,j},acosh:function(){var H=this.acos();if(H.im<=0){var j=H.re;H.re=-H.im,H.im=j}else j=H.im,H.im=-H.re,H.re=j;return H},atanh:function(){var H=this.re,j=this.im,Q=H>1&&0===j,se=1-H,de=1+H,Ce=se*se+j*j,ke=0!==Ce?new ce((de*se-j*j)/Ce,(j*se+de*j)/Ce):new ce(-1!==H?H/0:0,0!==j?j/0:0),st=ke.re;return ke.re=tt(ke.re,ke.im)/2,ke.im=Math.atan2(ke.im,st)/2,Q&&(ke.im=-ke.im),ke},acoth:function(){var H=this.re,j=this.im;if(0===H&&0===j)return new ce(0,Math.PI/2);var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).atanh():new ce(0!==H?H/0:0,0!==j?-j/0:0).atanh()},acsch:function(){var H=this.re,j=this.im;if(0===j)return new ce(0!==H?Math.log(H+Math.sqrt(H*H+1)):1/0,0);var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).asinh():new ce(0!==H?H/0:0,0!==j?-j/0:0).asinh()},asech:function(){var H=this.re,j=this.im;if(this.isZero())return ce.INFINITY;var Q=H*H+j*j;return 0!==Q?new ce(H/Q,-j/Q).acosh():new ce(0!==H?H/0:0,0!==j?-j/0:0).acosh()},inverse:function(){if(this.isZero())return ce.INFINITY;if(this.isInfinite())return ce.ZERO;var H=this.re,j=this.im,Q=H*H+j*j;return new ce(H/Q,-j/Q)},conjugate:function(){return new ce(this.re,-this.im)},neg:function(){return new ce(-this.re,-this.im)},ceil:function(H){return H=Math.pow(10,H||0),new ce(Math.ceil(this.re*H)/H,Math.ceil(this.im*H)/H)},floor:function(H){return H=Math.pow(10,H||0),new ce(Math.floor(this.re*H)/H,Math.floor(this.im*H)/H)},round:function(H){return H=Math.pow(10,H||0),new ce(Math.round(this.re*H)/H,Math.round(this.im*H)/H)},equals:function(H,j){var Q=new ce(H,j);return Math.abs(Q.re-this.re)<=ce.EPSILON&&Math.abs(Q.im-this.im)<=ce.EPSILON},clone:function(){return new ce(this.re,this.im)},toString:function(){var H=this.re,j=this.im,Q="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(H)<ce.EPSILON&&(H=0),Math.abs(j)<ce.EPSILON&&(j=0),0===j?Q+H:(0!==H?(Q+=H,Q+=" ",j<0?(j=-j,Q+="-"):Q+="+",Q+=" "):j<0&&(j=-j,Q+="-"),1!==j&&(Q+=j),Q+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},ce.ZERO=new ce(0,0),ce.ONE=new ce(1,0),ce.I=new ce(0,1),ce.PI=new ce(Math.PI,0),ce.E=new ce(Math.E,0),ce.INFINITY=new ce(1/0,1/0),ce.NAN=new ce(NaN,NaN),ce.EPSILON=1e-15,void 0!==(ht=function(){return ce}.apply($t,[]))&&(Qt.exports=ht)}()},945:Qt=>{"use strict";var $t=Object.assign||function(ft){for(var Be=1;Be<arguments.length;Be++){var ut=arguments[Be];for(var At in ut)Object.prototype.hasOwnProperty.call(ut,At)&&(ft[At]=ut[At])}return ft},wt={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},ht={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ni=function(Be,ut){return $t({},Be,ut)};Qt.exports=function(ft){for(var Be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ut=Be.preserveFormatting,At=void 0!==ut&&ut,Rt=Be.escapeMapFn,tt=void 0===Rt?ni:Rt,_e=String(ft),ce="",H=tt($t({},wt),At?$t({},ht):{}),j=Object.keys(H),Q=function(){var de=!1;j.forEach(function(Ce,ke){de||_e.length>=Ce.length&&_e.slice(0,Ce.length)===Ce&&(ce+=H[j[ke]],_e=_e.slice(Ce.length,_e.length),de=!0)}),de||(ce+=_e.slice(0,1),_e=_e.slice(1,_e.length))};_e;)Q();return ce}},613:function(Qt,$t){var ht;!function(ni){"use strict";var Be={s:1,n:0,d:1};function ut(se,de){if(isNaN(se=parseInt(se,10)))throw Q.InvalidParameter;return se*de}function At(se,de){if(0===de)throw Q.DivisionByZero;var Ce=Object.create(Q.prototype);Ce.s=se<0?-1:1;var ke=j(se=se<0?-se:se,de);return Ce.n=se/ke,Ce.d=de/ke,Ce}function Rt(se){for(var de={},Ce=se,ke=2,st=4;st<=Ce;){for(;Ce%ke==0;)Ce/=ke,de[ke]=(de[ke]||0)+1;st+=1+2*ke++}return Ce!==se?Ce>1&&(de[Ce]=(de[Ce]||0)+1):de[se]=(de[se]||0)+1,de}var tt=function(se,de){var er,Ce=0,ke=1,st=1,Hn=0,yn=0,hn=0,Sn=1,ki=1,bt=0,vt=1,Hi=1,bi=1,ji=1e7;if(null!=se)if(void 0!==de){if(st=(Ce=se)*(ke=de),Ce%1!=0||ke%1!=0)throw Q.NonIntegerParameter}else switch(typeof se){case"object":if("d"in se&&"n"in se)Ce=se.n,ke=se.d,"s"in se&&(Ce*=se.s);else{if(!(0 in se))throw Q.InvalidParameter;Ce=se[0],1 in se&&(ke=se[1])}st=Ce*ke;break;case"number":if(se<0&&(st=se,se=-se),se%1==0)Ce=se;else if(se>0){for(se>=1&&(se/=ki=Math.pow(10,Math.floor(1+Math.log(se)/Math.LN10)));vt<=ji&&bi<=ji;){if(se===(er=(bt+Hi)/(vt+bi))){vt+bi<=ji?(Ce=bt+Hi,ke=vt+bi):bi>vt?(Ce=Hi,ke=bi):(Ce=bt,ke=vt);break}se>er?(bt+=Hi,vt+=bi):(Hi+=bt,bi+=vt),vt>ji?(Ce=Hi,ke=bi):(Ce=bt,ke=vt)}Ce*=ki}else(isNaN(se)||isNaN(de))&&(ke=Ce=NaN);break;case"string":if(null===(vt=se.match(/\d+|./g)))throw Q.InvalidParameter;if("-"===vt[bt]?(st=-1,bt++):"+"===vt[bt]&&bt++,vt.length===bt+1?yn=ut(vt[bt++],st):"."===vt[bt+1]||"."===vt[bt]?("."!==vt[bt]&&(Hn=ut(vt[bt++],st)),(1+ ++bt===vt.length||"("===vt[bt+1]&&")"===vt[bt+3]||"'"===vt[bt+1]&&"'"===vt[bt+3])&&(yn=ut(vt[bt],st),Sn=Math.pow(10,vt[bt].length),bt++),("("===vt[bt]&&")"===vt[bt+2]||"'"===vt[bt]&&"'"===vt[bt+2])&&(hn=ut(vt[bt+1],st),ki=Math.pow(10,vt[bt+1].length)-1,bt+=3)):"/"===vt[bt+1]||":"===vt[bt+1]?(yn=ut(vt[bt],st),Sn=ut(vt[bt+2],1),bt+=3):"/"===vt[bt+3]&&" "===vt[bt+1]&&(Hn=ut(vt[bt],st),yn=ut(vt[bt+2],st),Sn=ut(vt[bt+4],1),bt+=5),vt.length<=bt){st=Ce=hn+(ke=Sn*ki)*Hn+ki*yn;break}default:throw Q.InvalidParameter}if(0===ke)throw Q.DivisionByZero;Be.s=st<0?-1:1,Be.n=Math.abs(Ce),Be.d=Math.abs(ke)};function j(se,de){if(!se)return de;if(!de)return se;for(;;){if(!(se%=de))return de;if(!(de%=se))return se}}function Q(se,de){if(tt(se,de),!(this instanceof Q))return At(Be.s*Be.n,Be.d);se=j(Be.d,Be.n),this.s=Be.s,this.n=Be.n/se,this.d=Be.d/se}Q.DivisionByZero=new Error("Division by Zero"),Q.InvalidParameter=new Error("Invalid argument"),Q.NonIntegerParameter=new Error("Parameters must be integer"),Q.prototype={s:1,n:0,d:1,abs:function(){return At(this.n,this.d)},neg:function(){return At(-this.s*this.n,this.d)},add:function(se,de){return tt(se,de),At(this.s*this.n*Be.d+Be.s*this.d*Be.n,this.d*Be.d)},sub:function(se,de){return tt(se,de),At(this.s*this.n*Be.d-Be.s*this.d*Be.n,this.d*Be.d)},mul:function(se,de){return tt(se,de),At(this.s*Be.s*this.n*Be.n,this.d*Be.d)},div:function(se,de){return tt(se,de),At(this.s*Be.s*this.n*Be.d,this.d*Be.n)},clone:function(){return At(this.s*this.n,this.d)},mod:function(se,de){if(isNaN(this.n)||isNaN(this.d))return new Q(NaN);if(void 0===se)return At(this.s*this.n%this.d,1);if(tt(se,de),0===Be.n&&0===this.d)throw Q.DivisionByZero;return At(this.s*(Be.d*this.n)%(Be.n*this.d),Be.d*this.d)},gcd:function(se,de){return tt(se,de),At(j(Be.n,this.n)*j(Be.d,this.d),Be.d*this.d)},lcm:function(se,de){return tt(se,de),0===Be.n&&0===this.n?At(0,1):At(Be.n*this.n,j(Be.n,this.n)*j(Be.d,this.d))},ceil:function(se){return se=Math.pow(10,se||0),isNaN(this.n)||isNaN(this.d)?new Q(NaN):At(Math.ceil(se*this.s*this.n/this.d),se)},floor:function(se){return se=Math.pow(10,se||0),isNaN(this.n)||isNaN(this.d)?new Q(NaN):At(Math.floor(se*this.s*this.n/this.d),se)},round:function(se){return se=Math.pow(10,se||0),isNaN(this.n)||isNaN(this.d)?new Q(NaN):At(Math.round(se*this.s*this.n/this.d),se)},inverse:function(){return At(this.s*this.d,this.n)},pow:function(se,de){if(tt(se,de),1===Be.d)return Be.s<0?At(Math.pow(this.s*this.d,Be.n),Math.pow(this.n,Be.n)):At(Math.pow(this.s*this.n,Be.n),Math.pow(this.d,Be.n));if(this.s<0)return null;var Ce=Rt(this.n),ke=Rt(this.d),st=1,Hn=1;for(var yn in Ce)if("1"!==yn){if("0"===yn){st=0;break}if(Ce[yn]*=Be.n,Ce[yn]%Be.d!=0)return null;Ce[yn]/=Be.d,st*=Math.pow(yn,Ce[yn])}for(var yn in ke)if("1"!==yn){if(ke[yn]*=Be.n,ke[yn]%Be.d!=0)return null;ke[yn]/=Be.d,Hn*=Math.pow(yn,ke[yn])}return Be.s<0?At(Hn,st):At(st,Hn)},equals:function(se,de){return tt(se,de),this.s*this.n*Be.d==Be.s*Be.n*this.d},compare:function(se,de){tt(se,de);var Ce=this.s*this.n*Be.d-Be.s*Be.n*this.d;return(0<Ce)-(Ce<0)},simplify:function(se){if(isNaN(this.n)||isNaN(this.d))return this;se=se||.001;for(var de=this.abs(),Ce=de.toContinued(),ke=1;ke<Ce.length;ke++){for(var st=At(Ce[ke-1],1),Hn=ke-2;Hn>=0;Hn--)st=st.inverse().add(Ce[Hn]);if(st.sub(de).abs().valueOf()<se)return st.mul(this.s)}return this},divisible:function(se,de){return tt(se,de),!(!(Be.n*this.d)||this.n*Be.d%(Be.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(se){var de,Ce="",ke=this.n,st=this.d;return this.s<0&&(Ce+="-"),1===st?Ce+=ke:(se&&(de=Math.floor(ke/st))>0&&(Ce+=de,Ce+=" ",ke%=st),Ce+=ke,Ce+="/",Ce+=st),Ce},toLatex:function(se){var de,Ce="",ke=this.n,st=this.d;return this.s<0&&(Ce+="-"),1===st?Ce+=ke:(se&&(de=Math.floor(ke/st))>0&&(Ce+=de,ke%=st),Ce+="\\frac{",Ce+=ke,Ce+="}{",Ce+=st,Ce+="}"),Ce},toContinued:function(){var se,de=this.n,Ce=this.d,ke=[];if(isNaN(de)||isNaN(Ce))return ke;do{ke.push(Math.floor(de/Ce)),se=de%Ce,de=Ce,Ce=se}while(1!==de);return ke},toString:function(se){var de=this.n,Ce=this.d;if(isNaN(de)||isNaN(Ce))return"NaN";se=se||15;var ke=function ce(se,de){for(;de%2==0;de/=2);for(;de%5==0;de/=5);if(1===de)return 0;for(var Ce=10%de,ke=1;1!==Ce;ke++)if(Ce=10*Ce%de,ke>2e3)return 0;return ke}(0,Ce),st=function H(se,de,Ce){for(var ke=1,st=function _e(se,de,Ce){for(var ke=1;de>0;se=se*se%Ce,de>>=1)1&de&&(ke=ke*se%Ce);return ke}(10,Ce,de),Hn=0;Hn<300;Hn++){if(ke===st)return Hn;ke=10*ke%de,st=10*st%de}return 0}(0,Ce,ke),Hn=this.s<0?"-":"";if(Hn+=de/Ce|0,de%=Ce,(de*=10)&&(Hn+="."),ke){for(var yn=st;yn--;)Hn+=de/Ce|0,de%=Ce,de*=10;for(Hn+="(",yn=ke;yn--;)Hn+=de/Ce|0,de%=Ce,de*=10;Hn+=")"}else for(yn=se;de&&yn--;)Hn+=de/Ce|0,de%=Ce,de*=10;return Hn}},void 0!==(ht=function(){return Q}.apply($t,[]))&&(Qt.exports=ht)}()},286:Qt=>{Qt.exports=function $t(wt,ht){"use strict";var se,de,ni=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,ft=/(^[ ]*|[ ]*$)/g,Be=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,ut=/^0x[0-9a-f]+$/i,At=/^0/,Rt=function(st){return $t.insensitive&&(""+st).toLowerCase()||""+st},tt=Rt(wt).replace(ft,"")||"",_e=Rt(ht).replace(ft,"")||"",ce=tt.replace(ni,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),H=_e.replace(ni,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),j=parseInt(tt.match(ut),16)||1!==ce.length&&tt.match(Be)&&Date.parse(tt),Q=parseInt(_e.match(ut),16)||j&&_e.match(Be)&&Date.parse(_e)||null;if(Q){if(j<Q)return-1;if(j>Q)return 1}for(var Ce=0,ke=Math.max(ce.length,H.length);Ce<ke;Ce++){if(se=!(ce[Ce]||"").match(At)&&parseFloat(ce[Ce])||ce[Ce]||0,de=!(H[Ce]||"").match(At)&&parseFloat(H[Ce])||H[Ce]||0,isNaN(se)!==isNaN(de))return isNaN(se)?1:-1;if(typeof se!=typeof de&&(se+="",de+=""),se<de)return-1;if(se>de)return 1}return 0}},340:(Qt,$t,wt)=>{var ht=wt(471),ni=wt(992),ft=wt(657),Be=wt(583),ut=wt(929),At=wt(83),Rt=wt(818);Rt.alea=ht,Rt.xor128=ni,Rt.xorwow=ft,Rt.xorshift7=Be,Rt.xor4096=ut,Rt.tychei=At,Qt.exports=Rt},471:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(_e){var ce=this,H=function tt(){var _e=4022871197;return function(H){H=String(H);for(var j=0;j<H.length;j++){var Q=.02519603282416938*(_e+=H.charCodeAt(j));Q-=_e=Q>>>0,_e=(Q*=_e)>>>0,_e+=4294967296*(Q-=_e)}return 2.3283064365386963e-10*(_e>>>0)}}();ce.next=function(){var j=2091639*ce.s0+2.3283064365386963e-10*ce.c;return ce.s0=ce.s1,ce.s1=ce.s2,ce.s2=j-(ce.c=0|j)},ce.c=1,ce.s0=H(" "),ce.s1=H(" "),ce.s2=H(" "),ce.s0-=H(_e),ce.s0<0&&(ce.s0+=1),ce.s1-=H(_e),ce.s1<0&&(ce.s1+=1),ce.s2-=H(_e),ce.s2<0&&(ce.s2+=1),H=null}function At(_e,ce){return ce.c=_e.c,ce.s0=_e.s0,ce.s1=_e.s1,ce.s2=_e.s2,ce}function Rt(_e,ce){var H=new ut(_e),j=ce&&ce.state,Q=H.next;return Q.int32=function(){return 4294967296*H.next()|0},Q.double=function(){return Q()+11102230246251565e-32*(2097152*Q()|0)},Q.quick=Q,j&&("object"==typeof j&&At(j,H),Q.state=function(){return At(H,{})}),Q}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.alea=Rt}(0,Qt=wt.nmd(Qt))},83:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(tt){var _e=this,ce="";_e.next=function(){var j=_e.b,Q=_e.c,se=_e.d,de=_e.a;return j=j<<25^j>>>7^Q,Q=Q-se|0,se=se<<24^se>>>8^de,de=de-j|0,_e.b=j=j<<20^j>>>12^Q,_e.c=Q=Q-se|0,_e.d=se<<16^Q>>>16^de,_e.a=de-j|0},_e.a=0,_e.b=0,_e.c=-1640531527,_e.d=1367130551,tt===Math.floor(tt)?(_e.a=tt/4294967296|0,_e.b=0|tt):ce+=tt;for(var H=0;H<ce.length+20;H++)_e.b^=0|ce.charCodeAt(H),_e.next()}function At(tt,_e){return _e.a=tt.a,_e.b=tt.b,_e.c=tt.c,_e.d=tt.d,_e}function Rt(tt,_e){var ce=new ut(tt),H=_e&&_e.state,j=function(){return(ce.next()>>>0)/4294967296};return j.double=function(){do{var de=((ce.next()>>>11)+(ce.next()>>>0)/4294967296)/(1<<21)}while(0===de);return de},j.int32=ce.next,j.quick=j,H&&("object"==typeof H&&At(H,ce),j.state=function(){return At(ce,{})}),j}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.tychei=Rt}(0,Qt=wt.nmd(Qt))},992:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(tt){var _e=this,ce="";_e.x=0,_e.y=0,_e.z=0,_e.w=0,_e.next=function(){var j=_e.x^_e.x<<11;return _e.x=_e.y,_e.y=_e.z,_e.z=_e.w,_e.w^=_e.w>>>19^j^j>>>8},tt===(0|tt)?_e.x=tt:ce+=tt;for(var H=0;H<ce.length+64;H++)_e.x^=0|ce.charCodeAt(H),_e.next()}function At(tt,_e){return _e.x=tt.x,_e.y=tt.y,_e.z=tt.z,_e.w=tt.w,_e}function Rt(tt,_e){var ce=new ut(tt),H=_e&&_e.state,j=function(){return(ce.next()>>>0)/4294967296};return j.double=function(){do{var de=((ce.next()>>>11)+(ce.next()>>>0)/4294967296)/(1<<21)}while(0===de);return de},j.int32=ce.next,j.quick=j,H&&("object"==typeof H&&At(H,ce),j.state=function(){return At(ce,{})}),j}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.xor128=Rt}(0,Qt=wt.nmd(Qt))},929:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(tt){var _e=this;_e.next=function(){var se,de,H=_e.w,j=_e.X,Q=_e.i;return _e.w=H=H+1640531527|0,de=j[Q+34&127],se=j[Q=Q+1&127],de^=de<<13,se^=se<<17,de=j[Q]=(de^=de>>>15)^(se^=se>>>12),_e.i=Q,de+(H^H>>>16)|0},function ce(H,j){var Q,se,de,Ce,ke,st=[],Hn=128;for(j===(0|j)?(se=j,j=null):(j+="\0",se=0,Hn=Math.max(Hn,j.length)),de=0,Ce=-32;Ce<Hn;++Ce)j&&(se^=j.charCodeAt((Ce+32)%j.length)),0===Ce&&(ke=se),se^=se<<10,se^=se>>>15,se^=se<<4,se^=se>>>13,Ce>=0&&(de=0==(Q=st[127&Ce]^=se+(ke=ke+1640531527|0))?de+1:0);for(de>=128&&(st[127&(j&&j.length||0)]=-1),de=127,Ce=512;Ce>0;--Ce)se=st[de+34&127],Q=st[de=de+1&127],se^=se<<13,Q^=Q<<17,st[de]=(se^=se>>>15)^(Q^=Q>>>12);H.w=ke,H.X=st,H.i=de}(_e,tt)}function At(tt,_e){return _e.i=tt.i,_e.w=tt.w,_e.X=tt.X.slice(),_e}function Rt(tt,_e){null==tt&&(tt=+new Date);var ce=new ut(tt),H=_e&&_e.state,j=function(){return(ce.next()>>>0)/4294967296};return j.double=function(){do{var de=((ce.next()>>>11)+(ce.next()>>>0)/4294967296)/(1<<21)}while(0===de);return de},j.int32=ce.next,j.quick=j,H&&(H.X&&At(H,ce),j.state=function(){return At(ce,{})}),j}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.xor4096=Rt}(0,Qt=wt.nmd(Qt))},583:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(tt){var _e=this;_e.next=function(){var Q,se,H=_e.x,j=_e.i;return Q=H[j],se=(Q^=Q>>>7)^Q<<24,se^=(Q=H[j+1&7])^Q>>>10,se^=(Q=H[j+3&7])^Q>>>3,se^=(Q=H[j+4&7])^Q<<7,Q=H[j+7&7],H[j]=se^=(Q^=Q<<13)^Q<<9,_e.i=j+1&7,se},function ce(H,j){var Q,de=[];if(j===(0|j))de[0]=j;else for(j=""+j,Q=0;Q<j.length;++Q)de[7&Q]=de[7&Q]<<15^j.charCodeAt(Q)+de[Q+1&7]<<13;for(;de.length<8;)de.push(0);for(Q=0;Q<8&&0===de[Q];++Q);for(8==Q&&(de[7]=-1),H.x=de,H.i=0,Q=256;Q>0;--Q)H.next()}(_e,tt)}function At(tt,_e){return _e.x=tt.x.slice(),_e.i=tt.i,_e}function Rt(tt,_e){null==tt&&(tt=+new Date);var ce=new ut(tt),H=_e&&_e.state,j=function(){return(ce.next()>>>0)/4294967296};return j.double=function(){do{var de=((ce.next()>>>11)+(ce.next()>>>0)/4294967296)/(1<<21)}while(0===de);return de},j.int32=ce.next,j.quick=j,H&&(H.x&&At(H,ce),j.state=function(){return At(ce,{})}),j}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.xorshift7=Rt}(0,Qt=wt.nmd(Qt))},657:function(Qt,$t,wt){var ht;!function(ni,ft,Be){function ut(tt){var _e=this,ce="";_e.next=function(){var j=_e.x^_e.x>>>2;return _e.x=_e.y,_e.y=_e.z,_e.z=_e.w,_e.w=_e.v,(_e.d=_e.d+362437|0)+(_e.v=_e.v^_e.v<<4^j^j<<1)|0},_e.x=0,_e.y=0,_e.z=0,_e.w=0,_e.v=0,tt===(0|tt)?_e.x=tt:ce+=tt;for(var H=0;H<ce.length+64;H++)_e.x^=0|ce.charCodeAt(H),H==ce.length&&(_e.d=_e.x<<10^_e.x>>>4),_e.next()}function At(tt,_e){return _e.x=tt.x,_e.y=tt.y,_e.z=tt.z,_e.w=tt.w,_e.v=tt.v,_e.d=tt.d,_e}function Rt(tt,_e){var ce=new ut(tt),H=_e&&_e.state,j=function(){return(ce.next()>>>0)/4294967296};return j.double=function(){do{var de=((ce.next()>>>11)+(ce.next()>>>0)/4294967296)/(1<<21)}while(0===de);return de},j.int32=ce.next,j.quick=j,H&&("object"==typeof H&&At(H,ce),j.state=function(){return At(ce,{})}),j}ft&&ft.exports?ft.exports=Rt:wt.amdD&&wt.amdO?void 0!==(ht=function(){return Rt}.call($t,wt,$t,ft))&&(ft.exports=ht):this.xorwow=Rt}(0,Qt=wt.nmd(Qt))},818:function(Qt,$t,wt){var ht;!function(ni,ft,Be){var Q,ut=256,_e=Be.pow(ut,6),ce=Be.pow(2,52),H=2*ce,j=255;function se(hn,Sn,ki){var bt=[],vt=st(ke((Sn=1==Sn?{entropy:!0}:Sn||{}).entropy?[hn,yn(ft)]:hn??function Hn(){try{var hn;return Q&&(hn=Q.randomBytes)?hn=hn(ut):(hn=new Uint8Array(ut),(ni.crypto||ni.msCrypto).getRandomValues(hn)),yn(hn)}catch{var Sn=ni.navigator,ki=Sn&&Sn.plugins;return[+new Date,ni,ki,ni.screen,yn(ft)]}}(),3),bt),Hi=new de(bt),bi=function(){for(var ji=Hi.g(6),er=_e,Ln=0;ji<ce;)ji=(ji+Ln)*ut,er*=ut,Ln=Hi.g(1);for(;ji>=H;)ji/=2,er/=2,Ln>>>=1;return(ji+Ln)/er};return bi.int32=function(){return 0|Hi.g(4)},bi.quick=function(){return Hi.g(4)/4294967296},bi.double=bi,st(yn(Hi.S),ft),(Sn.pass||ki||function(ji,er,Ln,si){return si&&(si.S&&Ce(si,Hi),ji.state=function(){return Ce(Hi,{})}),Ln?(Be.random=ji,er):ji})(bi,vt,"global"in Sn?Sn.global:this==Be,Sn.state)}function de(hn){var Sn,ki=hn.length,bt=this,vt=0,Hi=bt.i=bt.j=0,bi=bt.S=[];for(ki||(hn=[ki++]);vt<ut;)bi[vt]=vt++;for(vt=0;vt<ut;vt++)bi[vt]=bi[Hi=j&Hi+hn[vt%ki]+(Sn=bi[vt])],bi[Hi]=Sn;(bt.g=function(ji){for(var er,Ln=0,si=bt.i,Hs=bt.j,Tn=bt.S;ji--;)er=Tn[si=j&si+1],Ln=Ln*ut+Tn[j&(Tn[si]=Tn[Hs=j&Hs+er])+(Tn[Hs]=er)];return bt.i=si,bt.j=Hs,Ln})(ut)}function Ce(hn,Sn){return Sn.i=hn.i,Sn.j=hn.j,Sn.S=hn.S.slice(),Sn}function ke(hn,Sn){var vt,ki=[],bt=typeof hn;if(Sn&&"object"==bt)for(vt in hn)try{ki.push(ke(hn[vt],Sn-1))}catch{}return ki.length?ki:"string"==bt?hn:hn+"\0"}function st(hn,Sn){for(var bt,ki=hn+"",vt=0;vt<ki.length;)Sn[j&vt]=j&(bt^=19*Sn[j&vt])+ki.charCodeAt(vt++);return yn(Sn)}function yn(hn){return String.fromCharCode.apply(0,hn)}if(st(Be.random(),ft),Qt.exports){Qt.exports=se;try{Q=wt(42)}catch{}}else void 0!==(ht=function(){return se}.call($t,wt,$t,Qt))&&(Qt.exports=ht)}(typeof self<"u"?self:this,[],Math)},42:()=>{},961:function(Qt){Qt.exports=function(){"use strict";function $t(_e,ce){var H=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!H){if(Array.isArray(_e)||(H=function wt(_e,ce){if(_e){if("string"==typeof _e)return ht(_e,ce);var H=Object.prototype.toString.call(_e).slice(8,-1);if("Object"===H&&_e.constructor&&(H=_e.constructor.name),"Map"===H||"Set"===H)return Array.from(_e);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return ht(_e,ce)}}(_e))||ce&&_e&&"number"==typeof _e.length){H&&(_e=H);var j=0,Q=function(){};return{s:Q,n:function(){return j>=_e.length?{done:!0}:{done:!1,value:_e[j++]}},e:function(st){throw st},f:Q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ce,se=!0,de=!1;return{s:function(){H=H.call(_e)},n:function(){var st=H.next();return se=st.done,st},e:function(st){de=!0,Ce=st},f:function(){try{!se&&null!=H.return&&H.return()}finally{if(de)throw Ce}}}}function ht(_e,ce){(null==ce||ce>_e.length)&&(ce=_e.length);for(var H=0,j=new Array(ce);H<ce;H++)j[H]=_e[H];return j}function ni(_e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(_e)}function ft(){return!0}function Be(){return!1}function ut(){}var At="Argument is not a typed-function.";return function Rt(){function _e(ue){return"object"===ni(ue)&&null!==ue&&ue.constructor===Object}var j,Q,ce=[{name:"number",test:function(xe){return"number"==typeof xe}},{name:"string",test:function(xe){return"string"==typeof xe}},{name:"boolean",test:function(xe){return"boolean"==typeof xe}},{name:"Function",test:function(xe){return"function"==typeof xe}},{name:"Array",test:Array.isArray},{name:"Date",test:function(xe){return xe instanceof Date}},{name:"RegExp",test:function(xe){return xe instanceof RegExp}},{name:"Object",test:_e},{name:"null",test:function(xe){return null===xe}},{name:"undefined",test:function(xe){return void 0===xe}}],H={name:"any",test:ft,isAny:!0},se=0,de={createCount:0};function Ce(ue){var xe=j.get(ue);if(xe)return xe;var Ye,lt,Ne='Unknown type "'+ue+'"',Ve=ue.toLowerCase(),Ke=$t(Q);try{for(Ke.s();!(lt=Ke.n()).done;)if((Ye=lt.value).toLowerCase()===Ve){Ne+='. Did you mean "'+Ye+'" ?';break}}catch(qe){Ke.e(qe)}finally{Ke.f()}throw new TypeError(Ne)}function ke(ue){for(var xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",Ne=xe?Ce(xe).index:Q.length,Ve=[],Ye=0;Ye<ue.length;++Ye){if(!ue[Ye]||"string"!=typeof ue[Ye].name||"function"!=typeof ue[Ye].test)throw new TypeError("Object with properties {name: string, test: function} expected");var Ke=ue[Ye].name;if(j.has(Ke))throw new TypeError('Duplicate type name "'+Ke+'"');Ve.push(Ke),j.set(Ke,{name:Ke,test:ue[Ye].test,isAny:ue[Ye].isAny,index:Ne+Ye,conversionsTo:[]})}var lt=Q.slice(Ne);Q=Q.slice(0,Ne).concat(Ve).concat(lt);for(var qe=Ne+Ve.length;qe<Q.length;++qe)j.get(Q[qe]).index=qe}function st(){j=new Map,Q=[],se=0,ke([H],!1)}function yn(ue){var xe=Q.filter(function(Ne){var Ve=j.get(Ne);return!Ve.isAny&&Ve.test(ue)});return xe.length?xe:["any"]}function hn(ue){return ue&&"function"==typeof ue&&"_typedFunctionData"in ue}function Sn(ue,xe,Ne){if(!hn(ue))throw new TypeError(At);var Ve=Ne&&Ne.exact,Ke=er(Array.isArray(xe)?xe.join(","):xe),lt=vt(Ke);if(!Ve||lt in ue.signatures){var qe=ue._typedFunctionData.signatureMap.get(lt);if(qe)return qe}var Ot,on,nt=Ke.length;if(Ve)for(on in Ot=[],ue.signatures)Ot.push(ue._typedFunctionData.signatureMap.get(on));else Ot=ue._typedFunctionData.signatures;for(var mt=0;mt<nt;++mt){var Qr,Ir=Ke[mt],sr=[],ii=void 0,tr=$t(Ot);try{for(tr.s();!(Qr=tr.n()).done;){var lr=Tn((ii=Qr.value).params,mt);if(lr&&(!Ir.restParam||lr.restParam)){if(!lr.hasAny&&"continue"===function(){var Bi=ji(lr);if(Ir.types.some(function(Ws){return!Bi.has(Ws.name)}))return"continue"}())continue;sr.push(ii)}}}catch(Bi){tr.e(Bi)}finally{tr.f()}if(0===(Ot=sr).length)break}var Fr,qs,Br=$t(Ot);try{for(Br.s();!(qs=Br.n()).done;)if((Fr=qs.value).params.length<=nt)return Fr}catch(Bi){Br.e(Bi)}finally{Br.f()}throw new TypeError("Signature not found (signature: "+(ue.name||"unnamed")+"("+vt(Ke,", ")+"))")}function vt(ue){var xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return ue.map(function(Ne){return Ne.name}).join(xe)}function Hi(ue){var xe=0===ue.indexOf("..."),Ve=(xe?ue.length>3?ue.slice(3):"any":ue).split("|").map(function(qe){return Ce(qe.trim())}),Ye=!1,Ke=xe?"...":"";return{types:Ve.map(function(qe){return Ye=qe.isAny||Ye,Ke+=qe.name+"|",{name:qe.name,typeIndex:qe.index,test:qe.test,isAny:qe.isAny,conversion:null,conversionIndex:-1}}),name:Ke.slice(0,-1),hasAny:Ye,hasConversion:!1,restParam:xe}}function bi(ue){var Ne=function Ei(ue){if(0===ue.length)return[];var xe=ue.map(Ce);ue.length>1&&xe.sort(function(nt,Ot){return nt.index-Ot.index});var Ne=xe[0].conversionsTo;if(1===ue.length)return Ne;Ne=Ne.concat([]);for(var Ve=new Set(ue),Ye=1;Ye<xe.length;++Ye){var qe,Ke=void 0,lt=$t(xe[Ye].conversionsTo);try{for(lt.s();!(qe=lt.n()).done;)Ve.has((Ke=qe.value).from)||(Ne.push(Ke),Ve.add(Ke.from))}catch(nt){lt.e(nt)}finally{lt.f()}}return Ne}(ue.types.map(function(lt){return lt.name})),Ve=ue.hasAny,Ye=ue.name,Ke=Ne.map(function(lt){var qe=Ce(lt.from);return Ve=qe.isAny||Ve,Ye+="|"+lt.from,{name:lt.from,typeIndex:qe.index,test:qe.test,isAny:qe.isAny,conversion:lt,conversionIndex:lt.index}});return{types:ue.types.concat(Ke),name:Ye,hasAny:Ve,hasConversion:Ke.length>0,restParam:ue.restParam}}function ji(ue){return ue.typeSet||(ue.typeSet=new Set,ue.types.forEach(function(xe){return ue.typeSet.add(xe.name)})),ue.typeSet}function er(ue){var xe=[];if("string"!=typeof ue)throw new TypeError("Signatures must be strings");var Ne=ue.trim();if(""===Ne)return xe;for(var Ve=Ne.split(","),Ye=0;Ye<Ve.length;++Ye){var Ke=Hi(Ve[Ye].trim());if(Ke.restParam&&Ye!==Ve.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ve[Ye]+'": only allowed for the last parameter');if(0===Ke.types.length)return null;xe.push(Ke)}return xe}function Ln(ue){var xe=Gs(ue);return!!xe&&xe.restParam}function si(ue){if(!ue||0===ue.types.length)return ft;if(1===ue.types.length)return Ce(ue.types[0].name).test;if(2===ue.types.length){var xe=Ce(ue.types[0].name).test,Ne=Ce(ue.types[1].name).test;return function(Ke){return xe(Ke)||Ne(Ke)}}var Ve=ue.types.map(function(Ye){return Ce(Ye.name).test});return function(Ke){for(var lt=0;lt<Ve.length;lt++)if(Ve[lt](Ke))return!0;return!1}}function Hs(ue){var xe,Ne,Ve;if(Ln(ue)){var Ye=(xe=ox(ue).map(si)).length,Ke=si(Gs(ue));return function(nt){for(var Ot=0;Ot<xe.length;Ot++)if(!xe[Ot](nt[Ot]))return!1;return function(nt){for(var Ot=Ye;Ot<nt.length;Ot++)if(!Ke(nt[Ot]))return!1;return!0}(nt)&&nt.length>=Ye+1}}return 0===ue.length?function(nt){return 0===nt.length}:1===ue.length?(Ne=si(ue[0]),function(nt){return Ne(nt[0])&&1===nt.length}):2===ue.length?(Ne=si(ue[0]),Ve=si(ue[1]),function(nt){return Ne(nt[0])&&Ve(nt[1])&&2===nt.length}):(xe=ue.map(si),function(nt){for(var Ot=0;Ot<xe.length;Ot++)if(!xe[Ot](nt[Ot]))return!1;return nt.length===xe.length})}function Tn(ue,xe){return xe<ue.length?ue[xe]:Ln(ue)?Gs(ue):null}function nd(ue,xe){var Ne=Tn(ue,xe);return Ne?ji(Ne):new Set}function Pf(ue){return null==ue.conversion}function Dg(ue,xe){var Ne=new Set;return ue.forEach(function(Ve){var qe,lt=$t(nd(Ve.params,xe));try{for(lt.s();!(qe=lt.n()).done;)Ne.add(qe.value)}catch(nt){lt.e(nt)}finally{lt.f()}}),Ne.has("any")?["any"]:Array.from(Ne)}function Ag(ue,xe,Ne){var Ve,Ye,qe,Ke=ue||"unnamed",lt=Ne,nt=function(){var tr=[];if(lt.forEach(function(lr){var Fr=si(Tn(lr.params,qe));(qe<lr.params.length||Ln(lr.params))&&Fr(xe[qe])&&tr.push(lr)}),0===tr.length){if((Ye=Dg(lt,qe)).length>0){var Qr=yn(xe[qe]);return(Ve=new TypeError("Unexpected type of argument in function "+Ke+" (expected: "+Ye.join(" or ")+", actual: "+Qr.join(" | ")+", index: "+qe+")")).data={category:"wrongType",fn:Ke,index:qe,actual:Qr,expected:Ye},{v:Ve}}}else lt=tr};for(qe=0;qe<xe.length;qe++){var Ot=nt();if("object"===ni(Ot))return Ot.v}var on=lt.map(function(ii){return Ln(ii.params)?1/0:ii.params.length});if(xe.length<Math.min.apply(null,on))return Ye=Dg(lt,qe),(Ve=new TypeError("Too few arguments in function "+Ke+" (expected: "+Ye.join(" or ")+", index: "+xe.length+")")).data={category:"tooFewArgs",fn:Ke,index:xe.length,expected:Ye},Ve;var mt=Math.max.apply(null,on);if(xe.length>mt)return(Ve=new TypeError("Too many arguments in function "+Ke+" (expected: "+mt+", actual: "+xe.length+")")).data={category:"tooManyArgs",fn:Ke,index:xe.length,expectedLength:mt},Ve;for(var Ir=[],sr=0;sr<xe.length;++sr)Ir.push(yn(xe[sr]).join("|"));return(Ve=new TypeError('Arguments of type "'+Ir.join(", ")+'" do not match any of the defined signatures of function '+Ke+".")).data={category:"mismatch",actual:Ir},Ve}function fn(ue){for(var xe=Q.length+1,Ne=0;Ne<ue.types.length;Ne++)Pf(ue.types[Ne])&&(xe=Math.min(xe,ue.types[Ne].typeIndex));return xe}function Lf(ue){for(var xe=se+1,Ne=0;Ne<ue.types.length;Ne++)Pf(ue.types[Ne])||(xe=Math.min(xe,ue.types[Ne].conversionIndex));return xe}function Tg(ue,xe){if(ue.hasAny){if(!xe.hasAny)return 1}else if(xe.hasAny)return-1;if(ue.restParam){if(!xe.restParam)return 1}else if(xe.restParam)return-1;if(ue.hasConversion){if(!xe.hasConversion)return 1}else if(xe.hasConversion)return-1;var Ne=fn(ue)-fn(xe);if(Ne<0)return-1;if(Ne>0)return 1;var Ve=Lf(ue)-Lf(xe);return Ve<0?-1:Ve>0?1:0}function Li(ue,xe){var Ne=ue.params,Ve=xe.params,Ye=Gs(Ne),Ke=Gs(Ve),lt=Ln(Ne),qe=Ln(Ve);if(lt&&Ye.hasAny){if(!qe||!Ke.hasAny)return 1}else if(qe&&Ke.hasAny)return-1;var on,Ir,nt=0,Ot=0,mt=$t(Ne);try{for(mt.s();!(Ir=mt.n()).done;)(on=Ir.value).hasAny&&++nt,on.hasConversion&&++Ot}catch(po){mt.e(po)}finally{mt.f()}var Qr,sr=0,ii=0,tr=$t(Ve);try{for(tr.s();!(Qr=tr.n()).done;)(on=Qr.value).hasAny&&++sr,on.hasConversion&&++ii}catch(po){tr.e(po)}finally{tr.f()}if(nt!==sr)return nt-sr;if(lt&&Ye.hasConversion){if(!qe||!Ke.hasConversion)return 1}else if(qe&&Ke.hasConversion)return-1;if(Ot!==ii)return Ot-ii;if(lt){if(!qe)return 1}else if(qe)return-1;var lr=(Ne.length-Ve.length)*(lt?-1:1);if(0!==lr)return lr;for(var Fa=[],Fr=0,Br=0;Br<Ne.length;++Br){var qs=Tg(Ne[Br],Ve[Br]);Fa.push(qs),Fr+=qs}if(0!==Fr)return Fr;for(var Bi,Ws=0,Gi=Fa;Ws<Gi.length;Ws++)if(0!==(Bi=Gi[Ws]))return Bi;return 0}function ax(ue,xe){var Ne=xe;if(ue.some(function(qe){return qe.hasConversion})){var Ve=Ln(ue),Ye=ue.map(Ut);Ne=function(){for(var nt=[],Ot=Ve?arguments.length-1:arguments.length,on=0;on<Ot;on++)nt[on]=Ye[on](arguments[on]);return Ve&&(nt[Ot]=arguments[Ot].map(Ye[Ot])),xe.apply(this,nt)}}var Ke=Ne;if(Ln(ue)){var lt=ue.length-1;Ke=function(){return Ne.apply(this,Fg(arguments,0,lt).concat([Fg(arguments,lt)]))}}return Ke}function Ut(ue){var xe,Ne,Ve,Ye,Ke=[],lt=[];switch(ue.types.forEach(function(qe){qe.conversion&&(Ke.push(Ce(qe.conversion.from).test),lt.push(qe.conversion.convert))}),lt.length){case 0:return function(nt){return nt};case 1:return xe=Ke[0],Ve=lt[0],function(nt){return xe(nt)?Ve(nt):nt};case 2:return xe=Ke[0],Ne=Ke[1],Ve=lt[0],Ye=lt[1],function(nt){return xe(nt)?Ve(nt):Ne(nt)?Ye(nt):nt};default:return function(nt){for(var Ot=0;Ot<lt.length;Ot++)if(Ke[Ot](nt))return lt[Ot](nt);return nt}}}function Bf(ue){return function xe(Ne,Ve,Ye){if(Ve<Ne.length){var Ke=Ne[Ve],lt=[];if(Ke.restParam){var qe=Ke.types.filter(Pf);qe.length<Ke.types.length&&lt.push({types:qe,name:"..."+qe.map(function(nt){return nt.name}).join("|"),hasAny:qe.some(function(nt){return nt.isAny}),hasConversion:!1,restParam:!0}),lt.push(Ke)}else lt=Ke.types.map(function(nt){return{types:[nt],name:nt.name,hasAny:nt.isAny,hasConversion:nt.conversion,restParam:!1}});return function sx(ue,xe){return Array.prototype.concat.apply([],ue.map(xe))}(lt,function(nt){return xe(Ne,Ve+1,Ye.concat([nt]))})}return[Ye]}(ue,0,[])}function fA(ue,xe,Ne){var Ye,lt,Ve=[],Ke=$t(ue);try{for(Ke.s();!(lt=Ke.n()).done;){var qe=Ne[Ye=lt.value];if("number"!=typeof qe)throw new TypeError('No definition for referenced signature "'+Ye+'"');if("function"!=typeof(qe=xe[qe]))return!1;Ve.push(qe)}}catch(nt){Ke.e(nt)}finally{Ke.f()}return Ve}function mA(ue,xe,Ne){for(var Ve=function Ng(ue){return ue.map(function(xe){return Rg(xe)?cx(xe.referToSelf.callback):fs(xe)?lx(xe.referTo.references,xe.referTo.callback):xe})}(ue),Ye=new Array(Ve.length).fill(!1),Ke=!0;Ke;){Ke=!1;for(var lt=!0,qe=0;qe<Ve.length;++qe)if(!Ye[qe]){var nt=Ve[qe];if(Rg(nt))Ve[qe]=nt.referToSelf.callback(Ne),Ve[qe].referToSelf=nt.referToSelf,Ye[qe]=!0,lt=!1;else if(fs(nt)){var Ot=fA(nt.referTo.references,Ve,xe);Ot?(Ve[qe]=nt.referTo.callback.apply(this,Ot),Ve[qe].referTo=nt.referTo,Ye[qe]=!0,lt=!1):Ke=!0}}if(lt&&Ke)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ve}function gA(ue,xe){if(de.createCount++,0===Object.keys(xe).length)throw new SyntaxError("No signatures provided");de.warnAgainstDeprecatedThis&&function pA(ue){var xe=/\bthis(\(|\.signatures\b)/;Object.keys(ue).forEach(function(Ne){if(xe.test(ue[Ne].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(xe);var lt,Ne=[],Ve=[],Ye={},Ke=[],qe=function(){if(!Object.prototype.hasOwnProperty.call(xe,lt))return"continue";var nr=er(lt);if(!nr)return"continue";Ne.forEach(function(Wl){if(function hA(ue,xe){for(var Ne=Math.max(ue.length,xe.length),Ve=0;Ve<Ne;Ve++){var Ot,Ye=nd(ue,Ve),lt=!1,nt=$t(nd(xe,Ve));try{for(nt.s();!(Ot=nt.n()).done;)if(Ye.has(Ot.value)){lt=!0;break}}catch(ii){nt.e(ii)}finally{nt.f()}if(!lt)return!1}var on=ue.length,mt=xe.length,Ir=Ln(ue),sr=Ln(xe);return Ir?sr?on===mt:mt>=on:sr?on>=mt:on===mt}(Wl,nr))throw new TypeError('Conflicting signatures "'+vt(Wl)+'" and "'+vt(nr)+'".')}),Ne.push(nr);var Mx=Ve.length;Ve.push(xe[lt]);var jt,Re=void 0,$s=$t(Bf(nr.map(bi)));try{for($s.s();!(jt=$s.n()).done;){var Kn=vt(Re=jt.value);Ke.push({params:Re,name:Kn,fn:Mx}),Re.every(function(Wl){return!Wl.hasConversion})&&(Ye[Kn]=Mx)}}catch(Wl){$s.e(Wl)}finally{$s.f()}};for(lt in xe)qe();Ke.sort(Li);var on,Ot=mA(Ve,Ye,Ft);for(on in Ye)Object.prototype.hasOwnProperty.call(Ye,on)&&(Ye[on]=Ot[Ye[on]]);for(var mt=[],Ir=new Map,sr=0,ii=Ke;sr<ii.length;sr++)Ir.has((on=ii[sr]).name)||(on.fn=Ot[on.fn],mt.push(on),Ir.set(on.name,on));for(var tr=mt[0]&&mt[0].params.length<=2&&!Ln(mt[0].params),Qr=mt[1]&&mt[1].params.length<=2&&!Ln(mt[1].params),lr=mt[2]&&mt[2].params.length<=2&&!Ln(mt[2].params),Fa=mt[3]&&mt[3].params.length<=2&&!Ln(mt[3].params),Fr=mt[4]&&mt[4].params.length<=2&&!Ln(mt[4].params),Br=mt[5]&&mt[5].params.length<=2&&!Ln(mt[5].params),qs=tr&&Qr&&lr&&Fa&&Fr&&Br,Bi=0;Bi<mt.length;++Bi)mt[Bi].test=Hs(mt[Bi].params);for(var Ws=tr?si(mt[0].params[0]):Be,Gi=Qr?si(mt[1].params[0]):Be,po=lr?si(mt[2].params[0]):Be,qa=Fa?si(mt[3].params[0]):Be,yA=Fr?si(mt[4].params[0]):Be,mx=Br?si(mt[5].params[0]):Be,Og=tr?si(mt[0].params[1]):Be,zf=Qr?si(mt[1].params[1]):Be,Pg=lr?si(mt[2].params[1]):Be,Rc=Fa?si(mt[3].params[1]):Be,px=Fr?si(mt[4].params[1]):Be,Lg=Br?si(mt[5].params[1]):Be,ql=0;ql<mt.length;++ql)mt[ql].implementation=ax(mt[ql].params,mt[ql].fn);var gx=tr?mt[0].implementation:ut,vx=Qr?mt[1].implementation:ut,_x=lr?mt[2].implementation:ut,yx=Fa?mt[3].implementation:ut,Bg=Fr?mt[4].implementation:ut,bx=Br?mt[5].implementation:ut,xx=tr?mt[0].params.length:-1,Xi=Qr?mt[1].params.length:-1,Oc=lr?mt[2].params.length:-1,zg=Fa?mt[3].params.length:-1,Uf=Fr?mt[4].params.length:-1,hi=Br?mt[5].params.length:-1,Vf=qs?6:0,fi=mt.length,Hf=mt.map(function(zr){return zr.test}),wx=mt.map(function(zr){return zr.implementation}),Zn=function(){for(var nr=Vf;nr<fi;nr++)if(Hf[nr](arguments))return wx[nr].apply(this,arguments);return de.onMismatch(ue,arguments,mt)};function Ft(zr,nr){return arguments.length===xx&&Ws(zr)&&Og(nr)?gx.apply(this,arguments):arguments.length===Xi&&Gi(zr)&&zf(nr)?vx.apply(this,arguments):arguments.length===Oc&&po(zr)&&Pg(nr)?_x.apply(this,arguments):arguments.length===zg&&qa(zr)&&Rc(nr)?yx.apply(this,arguments):arguments.length===Uf&&yA(zr)&&px(nr)?Bg.apply(this,arguments):arguments.length===hi&&mx(zr)&&Lg(nr)?bx.apply(this,arguments):Zn.apply(this,arguments)}try{Object.defineProperty(Ft,"name",{value:ue})}catch{}return Ft.signatures=Ye,Ft._typedFunctionData={signatures:mt,signatureMap:Ir},Ft}function Ig(ue,xe,Ne){throw Ag(ue,xe,Ne)}function ox(ue){return Fg(ue,0,ue.length-1)}function Gs(ue){return ue[ue.length-1]}function Fg(ue,xe,Ne){return Array.prototype.slice.call(ue,xe,Ne)}function lx(ue,xe){return{referTo:{references:ue,callback:xe}}}function cx(ue){if("function"!=typeof ue)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ue}}}function fs(ue){return ue&&"object"===ni(ue.referTo)&&Array.isArray(ue.referTo.references)&&"function"==typeof ue.referTo.callback}function Rg(ue){return ue&&"object"===ni(ue.referToSelf)&&"function"==typeof ue.referToSelf.callback}function ux(ue,xe){if(!ue)return xe;if(xe&&xe!==ue){var Ne=new Error("Function names do not match (expected: "+ue+", actual: "+xe+")");throw Ne.data={actual:xe,expected:ue},Ne}return ue}function dx(ue){var xe;for(var Ne in ue)Object.prototype.hasOwnProperty.call(ue,Ne)&&(hn(ue[Ne])||"string"==typeof ue[Ne].signature)&&(xe=ux(xe,ue[Ne].name));return xe}function _A(ue,xe){var Ne;for(Ne in xe)if(Object.prototype.hasOwnProperty.call(xe,Ne)){if(Ne in ue&&xe[Ne]!==ue[Ne]){var Ve=new Error('Signature "'+Ne+'" is defined twice');throw Ve.data={signature:Ne,sourceFunction:xe[Ne],destFunction:ue[Ne]},Ve}ue[Ne]=xe[Ne]}}st(),ke(ce);var hx=de;function fx(ue){if(!ue||"string"!=typeof ue.from||"string"!=typeof ue.to||"function"!=typeof ue.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ue.to===ue.from)throw new SyntaxError('Illegal to define conversion from "'+ue.from+'" to itself.')}return de=function(xe){for(var Ne="string"==typeof xe,Ye=Ne?xe:"",Ke={},lt=Ne?1:0;lt<arguments.length;++lt){var qe=arguments[lt],nt={},Ot=void 0;if("function"==typeof qe?(Ot=qe.name,"string"==typeof qe.signature?nt[qe.signature]=qe:hn(qe)&&(nt=qe.signatures)):_e(qe)&&(nt=qe,Ne||(Ot=dx(qe))),0===Object.keys(nt).length){var on=new TypeError("Argument to 'typed' at index "+lt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw on.data={index:lt,argument:qe},on}Ne||(Ye=ux(Ye,Ot)),_A(Ke,nt)}return gA(Ye||"",Ke)},de.create=Rt,de.createCount=hx.createCount,de.onMismatch=Ig,de.throwMismatchError=Ig,de.createError=Ag,de.clear=st,de.clearConversions=function Hn(){var Ne,xe=$t(Q);try{for(xe.s();!(Ne=xe.n()).done;)j.get(Ne.value).conversionsTo=[]}catch(Ve){xe.e(Ve)}finally{xe.f()}se=0},de.addTypes=ke,de._findType=Ce,de.referTo=function vA(){var ue=ox(arguments).map(function(Ne){return vt(er(Ne))}),xe=Gs(arguments);if("function"!=typeof xe)throw new TypeError("Callback function expected as last argument");return lx(ue,xe)},de.referToSelf=cx,de.convert=function bt(ue,xe){var Ne=Ce(xe);if(Ne.test(ue))return ue;var Ve=Ne.conversionsTo;if(0===Ve.length)throw new Error("There are no conversions to "+xe+" defined.");for(var Ye=0;Ye<Ve.length;Ye++)if(Ce(Ve[Ye].from).test(ue))return Ve[Ye].convert(ue);throw new Error("Cannot convert "+ue+" to "+xe)},de.findSignature=Sn,de.find=function ki(ue,xe,Ne){return Sn(ue,xe,Ne).implementation},de.isTypedFunction=hn,de.warnAgainstDeprecatedThis=!0,de.addType=function(ue,xe){var Ne="any";!1!==xe&&j.has("Object")&&(Ne="Object"),de.addTypes([ue],Ne)},de.addConversion=function(ue){fx(ue);var xe=Ce(ue.to);if(!xe.conversionsTo.every(function(Ne){return Ne.from!==ue.from}))throw new Error('There is already a conversion from "'+ue.from+'" to "'+xe.name+'"');xe.conversionsTo.push({from:ue.from,convert:ue.convert,index:se++})},de.addConversions=function(ue){ue.forEach(de.addConversion)},de.removeConversion=function(ue){fx(ue);var xe=Ce(ue.to),Ne=function kg(ue,xe){for(var Ne=0;Ne<ue.length;Ne++)if(xe(ue[Ne]))return ue[Ne]}(xe.conversionsTo,function(Ye){return Ye.from===ue.from});if(!Ne)throw new Error("Attempt to remove nonexistent conversion from "+ue.from+" to "+ue.to);if(Ne.convert!==ue.convert)throw new Error("Conversion to remove does not match existing conversion");var Ve=xe.conversionsTo.indexOf(Ne);xe.conversionsTo.splice(Ve,1)},de.resolve=function(ue,xe){if(!hn(ue))throw new TypeError(At);for(var Ne=ue._typedFunctionData.signatures,Ve=0;Ve<Ne.length;++Ve)if(Ne[Ve].test(xe))return Ne[Ve];return null},de}()}()}},Qt=>{Qt(Qt.s=586)}]);